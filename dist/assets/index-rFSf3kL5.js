var JP=Object.defineProperty;var ZP=(t,e,n)=>e in t?JP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var re=(t,e,n)=>ZP(t,typeof e!="symbol"?e+"":e,n);function eR(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Wm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ix={exports:{}},$d={},rx={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ic=Symbol.for("react.element"),tR=Symbol.for("react.portal"),nR=Symbol.for("react.fragment"),iR=Symbol.for("react.strict_mode"),rR=Symbol.for("react.profiler"),sR=Symbol.for("react.provider"),oR=Symbol.for("react.context"),aR=Symbol.for("react.forward_ref"),lR=Symbol.for("react.suspense"),cR=Symbol.for("react.memo"),uR=Symbol.for("react.lazy"),x0=Symbol.iterator;function hR(t){return t===null||typeof t!="object"?null:(t=x0&&t[x0]||t["@@iterator"],typeof t=="function"?t:null)}var sx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ox=Object.assign,ax={};function aa(t,e,n){this.props=t,this.context=e,this.refs=ax,this.updater=n||sx}aa.prototype.isReactComponent={};aa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};aa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lx(){}lx.prototype=aa.prototype;function Km(t,e,n){this.props=t,this.context=e,this.refs=ax,this.updater=n||sx}var qm=Km.prototype=new lx;qm.constructor=Km;ox(qm,aa.prototype);qm.isPureReactComponent=!0;var S0=Array.isArray,cx=Object.prototype.hasOwnProperty,Gm={current:null},ux={key:!0,ref:!0,__self:!0,__source:!0};function hx(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)cx.call(e,i)&&!ux.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Ic,type:t,key:s,ref:o,props:r,_owner:Gm.current}}function dR(t,e){return{$$typeof:Ic,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ym(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ic}function fR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var I0=/\/+/g;function Zf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fR(""+t.key):e.toString(36)}function oh(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ic:case tR:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+Zf(o,0):i,S0(r)?(n="",t!=null&&(n=t.replace(I0,"$&/")+"/"),oh(r,e,n,"",function(c){return c})):r!=null&&(Ym(r)&&(r=dR(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(I0,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",S0(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+Zf(s,a);o+=oh(s,e,n,l,r)}else if(l=hR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+Zf(s,a++),o+=oh(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function pu(t,e,n){if(t==null)return t;var i=[],r=0;return oh(t,i,"","",function(s){return e.call(n,s,r++)}),i}function pR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dt={current:null},ah={transition:null},gR={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:ah,ReactCurrentOwner:Gm};function dx(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:pu,forEach:function(t,e,n){pu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pu(t,function(){e++}),e},toArray:function(t){return pu(t,function(e){return e})||[]},only:function(t){if(!Ym(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=aa;se.Fragment=nR;se.Profiler=rR;se.PureComponent=Km;se.StrictMode=iR;se.Suspense=lR;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gR;se.act=dx;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=ox({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Gm.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)cx.call(e,l)&&!ux.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Ic,type:t.type,key:r,ref:s,props:i,_owner:o}};se.createContext=function(t){return t={$$typeof:oR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sR,_context:t},t.Consumer=t};se.createElement=hx;se.createFactory=function(t){var e=hx.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:aR,render:t}};se.isValidElement=Ym;se.lazy=function(t){return{$$typeof:uR,_payload:{_status:-1,_result:t},_init:pR}};se.memo=function(t,e){return{$$typeof:cR,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=ah.transition;ah.transition={};try{t()}finally{ah.transition=e}};se.unstable_act=dx;se.useCallback=function(t,e){return Dt.current.useCallback(t,e)};se.useContext=function(t){return Dt.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return Dt.current.useDeferredValue(t)};se.useEffect=function(t,e){return Dt.current.useEffect(t,e)};se.useId=function(){return Dt.current.useId()};se.useImperativeHandle=function(t,e,n){return Dt.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return Dt.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return Dt.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return Dt.current.useMemo(t,e)};se.useReducer=function(t,e,n){return Dt.current.useReducer(t,e,n)};se.useRef=function(t){return Dt.current.useRef(t)};se.useState=function(t){return Dt.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return Dt.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return Dt.current.useTransition()};se.version="18.3.1";rx.exports=se;var O=rx.exports;const Qm=Wm(O),mR=eR({__proto__:null,default:Qm},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _R=O,yR=Symbol.for("react.element"),vR=Symbol.for("react.fragment"),ER=Object.prototype.hasOwnProperty,wR=_R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TR={key:!0,ref:!0,__self:!0,__source:!0};function fx(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)ER.call(e,i)&&!TR.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:yR,type:t,key:s,ref:o,props:r,_owner:wR.current}}$d.Fragment=vR;$d.jsx=fx;$d.jsxs=fx;ix.exports=$d;var T=ix.exports,px={exports:{}},sn={},gx={exports:{}},mx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,q){var Y=B.length;B.push(q);e:for(;0<Y;){var de=Y-1>>>1,te=B[de];if(0<r(te,q))B[de]=q,B[Y]=te,Y=de;else break e}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var q=B[0],Y=B.pop();if(Y!==q){B[0]=Y;e:for(var de=0,te=B.length,fe=te>>>1;de<fe;){var ke=2*(de+1)-1,Pe=B[ke],Ne=ke+1,Mt=B[Ne];if(0>r(Pe,Y))Ne<te&&0>r(Mt,Pe)?(B[de]=Mt,B[Ne]=Y,de=Ne):(B[de]=Pe,B[ke]=Y,de=ke);else if(Ne<te&&0>r(Mt,Y))B[de]=Mt,B[Ne]=Y,de=Ne;else break e}}return q}function r(B,q){var Y=B.sortIndex-q.sortIndex;return Y!==0?Y:B.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,f=3,g=!1,_=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(B){for(var q=n(c);q!==null;){if(q.callback===null)i(c);else if(q.startTime<=B)i(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(c)}}function C(B){if(v=!1,b(B),!_)if(n(l)!==null)_=!0,ie(N);else{var q=n(c);q!==null&&oe(C,q.startTime-B)}}function N(B,q){_=!1,v&&(v=!1,w(y),y=-1),g=!0;var Y=f;try{for(b(q),d=n(l);d!==null&&(!(d.expirationTime>q)||B&&!R());){var de=d.callback;if(typeof de=="function"){d.callback=null,f=d.priorityLevel;var te=de(d.expirationTime<=q);q=t.unstable_now(),typeof te=="function"?d.callback=te:d===n(l)&&i(l),b(q)}else i(l);d=n(l)}if(d!==null)var fe=!0;else{var ke=n(c);ke!==null&&oe(C,ke.startTime-q),fe=!1}return fe}finally{d=null,f=Y,g=!1}}var L=!1,S=null,y=-1,I=5,k=-1;function R(){return!(t.unstable_now()-k<I)}function D(){if(S!==null){var B=t.unstable_now();k=B;var q=!0;try{q=S(!0,B)}finally{q?P():(L=!1,S=null)}}else L=!1}var P;if(typeof E=="function")P=function(){E(D)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ne=le.port2;le.port1.onmessage=D,P=function(){ne.postMessage(null)}}else P=function(){x(D,0)};function ie(B){S=B,L||(L=!0,P())}function oe(B,q){y=x(function(){B(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,ie(N))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var Y=f;f=q;try{return B()}finally{f=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Y=f;f=B;try{return q()}finally{f=Y}},t.unstable_scheduleCallback=function(B,q,Y){var de=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?de+Y:de):Y=de,B){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=Y+te,B={id:h++,callback:q,priorityLevel:B,startTime:Y,expirationTime:te,sortIndex:-1},Y>de?(B.sortIndex=Y,e(c,B),n(l)===null&&B===n(c)&&(v?(w(y),y=-1):v=!0,oe(C,Y-de))):(B.sortIndex=te,e(l,B),_||g||(_=!0,ie(N))),B},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(B){var q=f;return function(){var Y=f;f=q;try{return B.apply(this,arguments)}finally{f=Y}}}})(mx);gx.exports=mx;var bR=gx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xR=O,en=bR;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _x=new Set,Hl={};function Ds(t,e){Mo(t,e),Mo(t+"Capture",e)}function Mo(t,e){for(Hl[t]=e,t=0;t<e.length;t++)_x.add(e[t])}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dg=Object.prototype.hasOwnProperty,SR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A0={},C0={};function IR(t){return dg.call(C0,t)?!0:dg.call(A0,t)?!1:SR.test(t)?C0[t]=!0:(A0[t]=!0,!1)}function AR(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function CR(t,e,n,i){if(e===null||typeof e>"u"||AR(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pt[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pt[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pt[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pt[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pt[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pt[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pt[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pt[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pt[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xm=/[\-:]([a-z])/g;function Jm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xm,Jm);pt[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xm,Jm);pt[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xm,Jm);pt[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});pt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zm(t,e,n,i){var r=pt.hasOwnProperty(e)?pt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(CR(e,n,r,i)&&(n=null),i||r===null?IR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Di=xR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gu=Symbol.for("react.element"),ao=Symbol.for("react.portal"),lo=Symbol.for("react.fragment"),e_=Symbol.for("react.strict_mode"),fg=Symbol.for("react.profiler"),yx=Symbol.for("react.provider"),vx=Symbol.for("react.context"),t_=Symbol.for("react.forward_ref"),pg=Symbol.for("react.suspense"),gg=Symbol.for("react.suspense_list"),n_=Symbol.for("react.memo"),qi=Symbol.for("react.lazy"),Ex=Symbol.for("react.offscreen"),k0=Symbol.iterator;function Ha(t){return t===null||typeof t!="object"?null:(t=k0&&t[k0]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Object.assign,ep;function ll(t){if(ep===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ep=e&&e[1]||""}return`
`+ep+t}var tp=!1;function np(t,e){if(!t||tp)return"";tp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{tp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ll(t):""}function kR(t){switch(t.tag){case 5:return ll(t.type);case 16:return ll("Lazy");case 13:return ll("Suspense");case 19:return ll("SuspenseList");case 0:case 2:case 15:return t=np(t.type,!1),t;case 11:return t=np(t.type.render,!1),t;case 1:return t=np(t.type,!0),t;default:return""}}function mg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case lo:return"Fragment";case ao:return"Portal";case fg:return"Profiler";case e_:return"StrictMode";case pg:return"Suspense";case gg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vx:return(t.displayName||"Context")+".Consumer";case yx:return(t._context.displayName||"Context")+".Provider";case t_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case n_:return e=t.displayName||null,e!==null?e:mg(t.type)||"Memo";case qi:e=t._payload,t=t._init;try{return mg(t(e))}catch{}}return null}function PR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mg(e);case 8:return e===e_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RR(t){var e=wx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mu(t){t._valueTracker||(t._valueTracker=RR(t))}function Tx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=wx(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Dh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _g(t,e){var n=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function P0(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=xr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bx(t,e){e=e.checked,e!=null&&Zm(t,"checked",e,!1)}function yg(t,e){bx(t,e);var n=xr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vg(t,e.type,n):e.hasOwnProperty("defaultValue")&&vg(t,e.type,xr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function R0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vg(t,e,n){(e!=="number"||Dh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cl=Array.isArray;function xo(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+xr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Eg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function N0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(cl(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xr(n)}}function xx(t,e){var n=xr(e.value),i=xr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function O0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Sx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Sx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _u,Ix=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_u=_u||document.createElement("div"),_u.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_u.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NR=["Webkit","ms","Moz","O"];Object.keys(wl).forEach(function(t){NR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wl[e]=wl[t]})});function Ax(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wl.hasOwnProperty(t)&&wl[t]?(""+e).trim():e+"px"}function Cx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=Ax(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var OR=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tg(t,e){if(e){if(OR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function bg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xg=null;function i_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sg=null,So=null,Io=null;function D0(t){if(t=kc(t)){if(typeof Sg!="function")throw Error($(280));var e=t.stateNode;e&&(e=Kd(e),Sg(t.stateNode,t.type,e))}}function kx(t){So?Io?Io.push(t):Io=[t]:So=t}function Px(){if(So){var t=So,e=Io;if(Io=So=null,D0(t),e)for(t=0;t<e.length;t++)D0(e[t])}}function Rx(t,e){return t(e)}function Nx(){}var ip=!1;function Ox(t,e,n){if(ip)return t(e,n);ip=!0;try{return Rx(t,e,n)}finally{ip=!1,(So!==null||Io!==null)&&(Nx(),Px())}}function Kl(t,e){var n=t.stateNode;if(n===null)return null;var i=Kd(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Ig=!1;if(xi)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){Ig=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{Ig=!1}function DR(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Tl=!1,Lh=null,Mh=!1,Ag=null,LR={onError:function(t){Tl=!0,Lh=t}};function MR(t,e,n,i,r,s,o,a,l){Tl=!1,Lh=null,DR.apply(LR,arguments)}function VR(t,e,n,i,r,s,o,a,l){if(MR.apply(this,arguments),Tl){if(Tl){var c=Lh;Tl=!1,Lh=null}else throw Error($(198));Mh||(Mh=!0,Ag=c)}}function Ls(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Dx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function L0(t){if(Ls(t)!==t)throw Error($(188))}function FR(t){var e=t.alternate;if(!e){if(e=Ls(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return L0(r),t;if(s===i)return L0(r),e;s=s.sibling}throw Error($(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==i)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function Lx(t){return t=FR(t),t!==null?Mx(t):null}function Mx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Mx(t);if(e!==null)return e;t=t.sibling}return null}var Vx=en.unstable_scheduleCallback,M0=en.unstable_cancelCallback,jR=en.unstable_shouldYield,UR=en.unstable_requestPaint,We=en.unstable_now,$R=en.unstable_getCurrentPriorityLevel,r_=en.unstable_ImmediatePriority,Fx=en.unstable_UserBlockingPriority,Vh=en.unstable_NormalPriority,BR=en.unstable_LowPriority,jx=en.unstable_IdlePriority,Bd=null,Wn=null;function zR(t){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(Bd,t,void 0,(t.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:KR,HR=Math.log,WR=Math.LN2;function KR(t){return t>>>=0,t===0?32:31-(HR(t)/WR|0)|0}var yu=64,vu=4194304;function ul(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fh(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=ul(a):(s&=o,s!==0&&(i=ul(s)))}else o=n&~r,o!==0?i=ul(o):s!==0&&(i=ul(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Rn(e),r=1<<n,i|=t[n],e&=~r;return i}function qR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GR(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Rn(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=qR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Cg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ux(){var t=yu;return yu<<=1,!(yu&4194240)&&(yu=64),t}function rp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ac(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rn(e),t[e]=n}function YR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Rn(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function s_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Rn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var ve=0;function $x(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Bx,o_,zx,Hx,Wx,kg=!1,Eu=[],ur=null,hr=null,dr=null,ql=new Map,Gl=new Map,Yi=[],QR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function V0(t,e){switch(t){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":ql.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(e.pointerId)}}function Ka(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=kc(e),e!==null&&o_(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function XR(t,e,n,i,r){switch(e){case"focusin":return ur=Ka(ur,t,e,n,i,r),!0;case"dragenter":return hr=Ka(hr,t,e,n,i,r),!0;case"mouseover":return dr=Ka(dr,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return ql.set(s,Ka(ql.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Gl.set(s,Ka(Gl.get(s)||null,t,e,n,i,r)),!0}return!1}function Kx(t){var e=is(t.target);if(e!==null){var n=Ls(e);if(n!==null){if(e=n.tag,e===13){if(e=Dx(n),e!==null){t.blockedOn=e,Wx(t.priority,function(){zx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);xg=i,n.target.dispatchEvent(i),xg=null}else return e=kc(n),e!==null&&o_(e),t.blockedOn=n,!1;e.shift()}return!0}function F0(t,e,n){lh(t)&&n.delete(e)}function JR(){kg=!1,ur!==null&&lh(ur)&&(ur=null),hr!==null&&lh(hr)&&(hr=null),dr!==null&&lh(dr)&&(dr=null),ql.forEach(F0),Gl.forEach(F0)}function qa(t,e){t.blockedOn===e&&(t.blockedOn=null,kg||(kg=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,JR)))}function Yl(t){function e(r){return qa(r,t)}if(0<Eu.length){qa(Eu[0],t);for(var n=1;n<Eu.length;n++){var i=Eu[n];i.blockedOn===t&&(i.blockedOn=null)}}for(ur!==null&&qa(ur,t),hr!==null&&qa(hr,t),dr!==null&&qa(dr,t),ql.forEach(e),Gl.forEach(e),n=0;n<Yi.length;n++)i=Yi[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Yi.length&&(n=Yi[0],n.blockedOn===null);)Kx(n),n.blockedOn===null&&Yi.shift()}var Ao=Di.ReactCurrentBatchConfig,jh=!0;function ZR(t,e,n,i){var r=ve,s=Ao.transition;Ao.transition=null;try{ve=1,a_(t,e,n,i)}finally{ve=r,Ao.transition=s}}function eN(t,e,n,i){var r=ve,s=Ao.transition;Ao.transition=null;try{ve=4,a_(t,e,n,i)}finally{ve=r,Ao.transition=s}}function a_(t,e,n,i){if(jh){var r=Pg(t,e,n,i);if(r===null)pp(t,e,i,Uh,n),V0(t,i);else if(XR(r,t,e,n,i))i.stopPropagation();else if(V0(t,i),e&4&&-1<QR.indexOf(t)){for(;r!==null;){var s=kc(r);if(s!==null&&Bx(s),s=Pg(t,e,n,i),s===null&&pp(t,e,i,Uh,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else pp(t,e,i,null,n)}}var Uh=null;function Pg(t,e,n,i){if(Uh=null,t=i_(i),t=is(t),t!==null)if(e=Ls(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Dx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Uh=t,null}function qx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($R()){case r_:return 1;case Fx:return 4;case Vh:case BR:return 16;case jx:return 536870912;default:return 16}default:return 16}}var nr=null,l_=null,ch=null;function Gx(){if(ch)return ch;var t,e=l_,n=e.length,i,r="value"in nr?nr.value:nr.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return ch=r.slice(t,1<i?1-i:void 0)}function uh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wu(){return!0}function j0(){return!1}function on(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wu:j0,this.isPropagationStopped=j0,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wu)},persist:function(){},isPersistent:wu}),e}var la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},c_=on(la),Cc=Ve({},la,{view:0,detail:0}),tN=on(Cc),sp,op,Ga,zd=Ve({},Cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:u_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ga&&(Ga&&t.type==="mousemove"?(sp=t.screenX-Ga.screenX,op=t.screenY-Ga.screenY):op=sp=0,Ga=t),sp)},movementY:function(t){return"movementY"in t?t.movementY:op}}),U0=on(zd),nN=Ve({},zd,{dataTransfer:0}),iN=on(nN),rN=Ve({},Cc,{relatedTarget:0}),ap=on(rN),sN=Ve({},la,{animationName:0,elapsedTime:0,pseudoElement:0}),oN=on(sN),aN=Ve({},la,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lN=on(aN),cN=Ve({},la,{data:0}),$0=on(cN),uN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dN[t])?!!e[t]:!1}function u_(){return fN}var pN=Ve({},Cc,{key:function(t){if(t.key){var e=uN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=uh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:u_,charCode:function(t){return t.type==="keypress"?uh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gN=on(pN),mN=Ve({},zd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B0=on(mN),_N=Ve({},Cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:u_}),yN=on(_N),vN=Ve({},la,{propertyName:0,elapsedTime:0,pseudoElement:0}),EN=on(vN),wN=Ve({},zd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TN=on(wN),bN=[9,13,27,32],h_=xi&&"CompositionEvent"in window,bl=null;xi&&"documentMode"in document&&(bl=document.documentMode);var xN=xi&&"TextEvent"in window&&!bl,Yx=xi&&(!h_||bl&&8<bl&&11>=bl),z0=" ",H0=!1;function Qx(t,e){switch(t){case"keyup":return bN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var co=!1;function SN(t,e){switch(t){case"compositionend":return Xx(e);case"keypress":return e.which!==32?null:(H0=!0,z0);case"textInput":return t=e.data,t===z0&&H0?null:t;default:return null}}function IN(t,e){if(co)return t==="compositionend"||!h_&&Qx(t,e)?(t=Gx(),ch=l_=nr=null,co=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Yx&&e.locale!=="ko"?null:e.data;default:return null}}var AN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function W0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!AN[t.type]:e==="textarea"}function Jx(t,e,n,i){kx(i),e=$h(e,"onChange"),0<e.length&&(n=new c_("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var xl=null,Ql=null;function CN(t){cS(t,0)}function Hd(t){var e=fo(t);if(Tx(e))return t}function kN(t,e){if(t==="change")return e}var Zx=!1;if(xi){var lp;if(xi){var cp="oninput"in document;if(!cp){var K0=document.createElement("div");K0.setAttribute("oninput","return;"),cp=typeof K0.oninput=="function"}lp=cp}else lp=!1;Zx=lp&&(!document.documentMode||9<document.documentMode)}function q0(){xl&&(xl.detachEvent("onpropertychange",eS),Ql=xl=null)}function eS(t){if(t.propertyName==="value"&&Hd(Ql)){var e=[];Jx(e,Ql,t,i_(t)),Ox(CN,e)}}function PN(t,e,n){t==="focusin"?(q0(),xl=e,Ql=n,xl.attachEvent("onpropertychange",eS)):t==="focusout"&&q0()}function RN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hd(Ql)}function NN(t,e){if(t==="click")return Hd(e)}function ON(t,e){if(t==="input"||t==="change")return Hd(e)}function DN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var On=typeof Object.is=="function"?Object.is:DN;function Xl(t,e){if(On(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!dg.call(e,r)||!On(t[r],e[r]))return!1}return!0}function G0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Y0(t,e){var n=G0(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=G0(n)}}function tS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?tS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nS(){for(var t=window,e=Dh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Dh(t.document)}return e}function d_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function LN(t){var e=nS(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&tS(n.ownerDocument.documentElement,n)){if(i!==null&&d_(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=Y0(n,s);var o=Y0(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var MN=xi&&"documentMode"in document&&11>=document.documentMode,uo=null,Rg=null,Sl=null,Ng=!1;function Q0(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ng||uo==null||uo!==Dh(i)||(i=uo,"selectionStart"in i&&d_(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Sl&&Xl(Sl,i)||(Sl=i,i=$h(Rg,"onSelect"),0<i.length&&(e=new c_("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=uo)))}function Tu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ho={animationend:Tu("Animation","AnimationEnd"),animationiteration:Tu("Animation","AnimationIteration"),animationstart:Tu("Animation","AnimationStart"),transitionend:Tu("Transition","TransitionEnd")},up={},iS={};xi&&(iS=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function Wd(t){if(up[t])return up[t];if(!ho[t])return t;var e=ho[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in iS)return up[t]=e[n];return t}var rS=Wd("animationend"),sS=Wd("animationiteration"),oS=Wd("animationstart"),aS=Wd("transitionend"),lS=new Map,X0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(t,e){lS.set(t,e),Ds(e,[t])}for(var hp=0;hp<X0.length;hp++){var dp=X0[hp],VN=dp.toLowerCase(),FN=dp[0].toUpperCase()+dp.slice(1);Or(VN,"on"+FN)}Or(rS,"onAnimationEnd");Or(sS,"onAnimationIteration");Or(oS,"onAnimationStart");Or("dblclick","onDoubleClick");Or("focusin","onFocus");Or("focusout","onBlur");Or(aS,"onTransitionEnd");Mo("onMouseEnter",["mouseout","mouseover"]);Mo("onMouseLeave",["mouseout","mouseover"]);Mo("onPointerEnter",["pointerout","pointerover"]);Mo("onPointerLeave",["pointerout","pointerover"]);Ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jN=new Set("cancel close invalid load scroll toggle".split(" ").concat(hl));function J0(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,VR(i,e,void 0,t),t.currentTarget=null}function cS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;J0(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;J0(r,a,c),s=l}}}if(Mh)throw t=Ag,Mh=!1,Ag=null,t}function Ie(t,e){var n=e[Vg];n===void 0&&(n=e[Vg]=new Set);var i=t+"__bubble";n.has(i)||(uS(e,t,2,!1),n.add(i))}function fp(t,e,n){var i=0;e&&(i|=4),uS(n,t,i,e)}var bu="_reactListening"+Math.random().toString(36).slice(2);function Jl(t){if(!t[bu]){t[bu]=!0,_x.forEach(function(n){n!=="selectionchange"&&(jN.has(n)||fp(n,!1,t),fp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bu]||(e[bu]=!0,fp("selectionchange",!1,e))}}function uS(t,e,n,i){switch(qx(e)){case 1:var r=ZR;break;case 4:r=eN;break;default:r=a_}n=r.bind(null,e,n,t),r=void 0,!Ig||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function pp(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=is(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}Ox(function(){var c=s,h=i_(n),d=[];e:{var f=lS.get(t);if(f!==void 0){var g=c_,_=t;switch(t){case"keypress":if(uh(n)===0)break e;case"keydown":case"keyup":g=gN;break;case"focusin":_="focus",g=ap;break;case"focusout":_="blur",g=ap;break;case"beforeblur":case"afterblur":g=ap;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=U0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=iN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=yN;break;case rS:case sS:case oS:g=oN;break;case aS:g=EN;break;case"scroll":g=tN;break;case"wheel":g=TN;break;case"copy":case"cut":case"paste":g=lN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=B0}var v=(e&4)!==0,x=!v&&t==="scroll",w=v?f!==null?f+"Capture":null:f;v=[];for(var E=c,b;E!==null;){b=E;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,w!==null&&(C=Kl(E,w),C!=null&&v.push(Zl(E,C,b)))),x)break;E=E.return}0<v.length&&(f=new g(f,_,null,n,h),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==xg&&(_=n.relatedTarget||n.fromElement)&&(is(_)||_[Si]))break e;if((g||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=c,_=_?is(_):null,_!==null&&(x=Ls(_),_!==x||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=c),g!==_)){if(v=U0,C="onMouseLeave",w="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(v=B0,C="onPointerLeave",w="onPointerEnter",E="pointer"),x=g==null?f:fo(g),b=_==null?f:fo(_),f=new v(C,E+"leave",g,n,h),f.target=x,f.relatedTarget=b,C=null,is(h)===c&&(v=new v(w,E+"enter",_,n,h),v.target=b,v.relatedTarget=x,C=v),x=C,g&&_)t:{for(v=g,w=_,E=0,b=v;b;b=Xs(b))E++;for(b=0,C=w;C;C=Xs(C))b++;for(;0<E-b;)v=Xs(v),E--;for(;0<b-E;)w=Xs(w),b--;for(;E--;){if(v===w||w!==null&&v===w.alternate)break t;v=Xs(v),w=Xs(w)}v=null}else v=null;g!==null&&Z0(d,f,g,v,!1),_!==null&&x!==null&&Z0(d,x,_,v,!0)}}e:{if(f=c?fo(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var N=kN;else if(W0(f))if(Zx)N=ON;else{N=RN;var L=PN}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=NN);if(N&&(N=N(t,c))){Jx(d,N,n,h);break e}L&&L(t,f,c),t==="focusout"&&(L=f._wrapperState)&&L.controlled&&f.type==="number"&&vg(f,"number",f.value)}switch(L=c?fo(c):window,t){case"focusin":(W0(L)||L.contentEditable==="true")&&(uo=L,Rg=c,Sl=null);break;case"focusout":Sl=Rg=uo=null;break;case"mousedown":Ng=!0;break;case"contextmenu":case"mouseup":case"dragend":Ng=!1,Q0(d,n,h);break;case"selectionchange":if(MN)break;case"keydown":case"keyup":Q0(d,n,h)}var S;if(h_)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else co?Qx(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(Yx&&n.locale!=="ko"&&(co||y!=="onCompositionStart"?y==="onCompositionEnd"&&co&&(S=Gx()):(nr=h,l_="value"in nr?nr.value:nr.textContent,co=!0)),L=$h(c,y),0<L.length&&(y=new $0(y,t,null,n,h),d.push({event:y,listeners:L}),S?y.data=S:(S=Xx(n),S!==null&&(y.data=S)))),(S=xN?SN(t,n):IN(t,n))&&(c=$h(c,"onBeforeInput"),0<c.length&&(h=new $0("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=S))}cS(d,e)})}function Zl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $h(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Kl(t,n),s!=null&&i.unshift(Zl(t,s,r)),s=Kl(t,e),s!=null&&i.push(Zl(t,s,r))),t=t.return}return i}function Xs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Z0(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Kl(n,s),l!=null&&o.unshift(Zl(n,l,a))):r||(l=Kl(n,s),l!=null&&o.push(Zl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var UN=/\r\n?/g,$N=/\u0000|\uFFFD/g;function eE(t){return(typeof t=="string"?t:""+t).replace(UN,`
`).replace($N,"")}function xu(t,e,n){if(e=eE(e),eE(t)!==e&&n)throw Error($(425))}function Bh(){}var Og=null,Dg=null;function Lg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Mg=typeof setTimeout=="function"?setTimeout:void 0,BN=typeof clearTimeout=="function"?clearTimeout:void 0,tE=typeof Promise=="function"?Promise:void 0,zN=typeof queueMicrotask=="function"?queueMicrotask:typeof tE<"u"?function(t){return tE.resolve(null).then(t).catch(HN)}:Mg;function HN(t){setTimeout(function(){throw t})}function gp(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Yl(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Yl(e)}function fr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function nE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ca=Math.random().toString(36).slice(2),Bn="__reactFiber$"+ca,ec="__reactProps$"+ca,Si="__reactContainer$"+ca,Vg="__reactEvents$"+ca,WN="__reactListeners$"+ca,KN="__reactHandles$"+ca;function is(t){var e=t[Bn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Si]||n[Bn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=nE(t);t!==null;){if(n=t[Bn])return n;t=nE(t)}return e}t=n,n=t.parentNode}return null}function kc(t){return t=t[Bn]||t[Si],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Kd(t){return t[ec]||null}var Fg=[],po=-1;function Dr(t){return{current:t}}function Ce(t){0>po||(t.current=Fg[po],Fg[po]=null,po--)}function xe(t,e){po++,Fg[po]=t.current,t.current=e}var Sr={},St=Dr(Sr),Bt=Dr(!1),_s=Sr;function Vo(t,e){var n=t.type.contextTypes;if(!n)return Sr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function zt(t){return t=t.childContextTypes,t!=null}function zh(){Ce(Bt),Ce(St)}function iE(t,e,n){if(St.current!==Sr)throw Error($(168));xe(St,e),xe(Bt,n)}function hS(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error($(108,PR(t)||"Unknown",r));return Ve({},n,i)}function Hh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Sr,_s=St.current,xe(St,t),xe(Bt,Bt.current),!0}function rE(t,e,n){var i=t.stateNode;if(!i)throw Error($(169));n?(t=hS(t,e,_s),i.__reactInternalMemoizedMergedChildContext=t,Ce(Bt),Ce(St),xe(St,t)):Ce(Bt),xe(Bt,n)}var hi=null,qd=!1,mp=!1;function dS(t){hi===null?hi=[t]:hi.push(t)}function qN(t){qd=!0,dS(t)}function Lr(){if(!mp&&hi!==null){mp=!0;var t=0,e=ve;try{var n=hi;for(ve=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}hi=null,qd=!1}catch(r){throw hi!==null&&(hi=hi.slice(t+1)),Vx(r_,Lr),r}finally{ve=e,mp=!1}}return null}var go=[],mo=0,Wh=null,Kh=0,un=[],hn=0,ys=null,fi=1,pi="";function Zr(t,e){go[mo++]=Kh,go[mo++]=Wh,Wh=t,Kh=e}function fS(t,e,n){un[hn++]=fi,un[hn++]=pi,un[hn++]=ys,ys=t;var i=fi;t=pi;var r=32-Rn(i)-1;i&=~(1<<r),n+=1;var s=32-Rn(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,fi=1<<32-Rn(e)+r|n<<r|i,pi=s+t}else fi=1<<s|n<<r|i,pi=t}function f_(t){t.return!==null&&(Zr(t,1),fS(t,1,0))}function p_(t){for(;t===Wh;)Wh=go[--mo],go[mo]=null,Kh=go[--mo],go[mo]=null;for(;t===ys;)ys=un[--hn],un[hn]=null,pi=un[--hn],un[hn]=null,fi=un[--hn],un[hn]=null}var Zt=null,Qt=null,Re=!1,Cn=null;function pS(t,e){var n=fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function sE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zt=t,Qt=fr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zt=t,Qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ys!==null?{id:fi,overflow:pi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zt=t,Qt=null,!0):!1;default:return!1}}function jg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ug(t){if(Re){var e=Qt;if(e){var n=e;if(!sE(t,e)){if(jg(t))throw Error($(418));e=fr(n.nextSibling);var i=Zt;e&&sE(t,e)?pS(i,n):(t.flags=t.flags&-4097|2,Re=!1,Zt=t)}}else{if(jg(t))throw Error($(418));t.flags=t.flags&-4097|2,Re=!1,Zt=t}}}function oE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function Su(t){if(t!==Zt)return!1;if(!Re)return oE(t),Re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lg(t.type,t.memoizedProps)),e&&(e=Qt)){if(jg(t))throw gS(),Error($(418));for(;e;)pS(t,e),e=fr(e.nextSibling)}if(oE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qt=fr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qt=null}}else Qt=Zt?fr(t.stateNode.nextSibling):null;return!0}function gS(){for(var t=Qt;t;)t=fr(t.nextSibling)}function Fo(){Qt=Zt=null,Re=!1}function g_(t){Cn===null?Cn=[t]:Cn.push(t)}var GN=Di.ReactCurrentBatchConfig;function Ya(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var i=n.stateNode}if(!i)throw Error($(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function Iu(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function aE(t){var e=t._init;return e(t._payload)}function mS(t){function e(w,E){if(t){var b=w.deletions;b===null?(w.deletions=[E],w.flags|=16):b.push(E)}}function n(w,E){if(!t)return null;for(;E!==null;)e(w,E),E=E.sibling;return null}function i(w,E){for(w=new Map;E!==null;)E.key!==null?w.set(E.key,E):w.set(E.index,E),E=E.sibling;return w}function r(w,E){return w=_r(w,E),w.index=0,w.sibling=null,w}function s(w,E,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<E?(w.flags|=2,E):b):(w.flags|=2,E)):(w.flags|=1048576,E)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,E,b,C){return E===null||E.tag!==6?(E=bp(b,w.mode,C),E.return=w,E):(E=r(E,b),E.return=w,E)}function l(w,E,b,C){var N=b.type;return N===lo?h(w,E,b.props.children,C,b.key):E!==null&&(E.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===qi&&aE(N)===E.type)?(C=r(E,b.props),C.ref=Ya(w,E,b),C.return=w,C):(C=_h(b.type,b.key,b.props,null,w.mode,C),C.ref=Ya(w,E,b),C.return=w,C)}function c(w,E,b,C){return E===null||E.tag!==4||E.stateNode.containerInfo!==b.containerInfo||E.stateNode.implementation!==b.implementation?(E=xp(b,w.mode,C),E.return=w,E):(E=r(E,b.children||[]),E.return=w,E)}function h(w,E,b,C,N){return E===null||E.tag!==7?(E=hs(b,w.mode,C,N),E.return=w,E):(E=r(E,b),E.return=w,E)}function d(w,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return E=bp(""+E,w.mode,b),E.return=w,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case gu:return b=_h(E.type,E.key,E.props,null,w.mode,b),b.ref=Ya(w,null,E),b.return=w,b;case ao:return E=xp(E,w.mode,b),E.return=w,E;case qi:var C=E._init;return d(w,C(E._payload),b)}if(cl(E)||Ha(E))return E=hs(E,w.mode,b,null),E.return=w,E;Iu(w,E)}return null}function f(w,E,b,C){var N=E!==null?E.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:a(w,E,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gu:return b.key===N?l(w,E,b,C):null;case ao:return b.key===N?c(w,E,b,C):null;case qi:return N=b._init,f(w,E,N(b._payload),C)}if(cl(b)||Ha(b))return N!==null?null:h(w,E,b,C,null);Iu(w,b)}return null}function g(w,E,b,C,N){if(typeof C=="string"&&C!==""||typeof C=="number")return w=w.get(b)||null,a(E,w,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case gu:return w=w.get(C.key===null?b:C.key)||null,l(E,w,C,N);case ao:return w=w.get(C.key===null?b:C.key)||null,c(E,w,C,N);case qi:var L=C._init;return g(w,E,b,L(C._payload),N)}if(cl(C)||Ha(C))return w=w.get(b)||null,h(E,w,C,N,null);Iu(E,C)}return null}function _(w,E,b,C){for(var N=null,L=null,S=E,y=E=0,I=null;S!==null&&y<b.length;y++){S.index>y?(I=S,S=null):I=S.sibling;var k=f(w,S,b[y],C);if(k===null){S===null&&(S=I);break}t&&S&&k.alternate===null&&e(w,S),E=s(k,E,y),L===null?N=k:L.sibling=k,L=k,S=I}if(y===b.length)return n(w,S),Re&&Zr(w,y),N;if(S===null){for(;y<b.length;y++)S=d(w,b[y],C),S!==null&&(E=s(S,E,y),L===null?N=S:L.sibling=S,L=S);return Re&&Zr(w,y),N}for(S=i(w,S);y<b.length;y++)I=g(S,w,y,b[y],C),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?y:I.key),E=s(I,E,y),L===null?N=I:L.sibling=I,L=I);return t&&S.forEach(function(R){return e(w,R)}),Re&&Zr(w,y),N}function v(w,E,b,C){var N=Ha(b);if(typeof N!="function")throw Error($(150));if(b=N.call(b),b==null)throw Error($(151));for(var L=N=null,S=E,y=E=0,I=null,k=b.next();S!==null&&!k.done;y++,k=b.next()){S.index>y?(I=S,S=null):I=S.sibling;var R=f(w,S,k.value,C);if(R===null){S===null&&(S=I);break}t&&S&&R.alternate===null&&e(w,S),E=s(R,E,y),L===null?N=R:L.sibling=R,L=R,S=I}if(k.done)return n(w,S),Re&&Zr(w,y),N;if(S===null){for(;!k.done;y++,k=b.next())k=d(w,k.value,C),k!==null&&(E=s(k,E,y),L===null?N=k:L.sibling=k,L=k);return Re&&Zr(w,y),N}for(S=i(w,S);!k.done;y++,k=b.next())k=g(S,w,y,k.value,C),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?y:k.key),E=s(k,E,y),L===null?N=k:L.sibling=k,L=k);return t&&S.forEach(function(D){return e(w,D)}),Re&&Zr(w,y),N}function x(w,E,b,C){if(typeof b=="object"&&b!==null&&b.type===lo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case gu:e:{for(var N=b.key,L=E;L!==null;){if(L.key===N){if(N=b.type,N===lo){if(L.tag===7){n(w,L.sibling),E=r(L,b.props.children),E.return=w,w=E;break e}}else if(L.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===qi&&aE(N)===L.type){n(w,L.sibling),E=r(L,b.props),E.ref=Ya(w,L,b),E.return=w,w=E;break e}n(w,L);break}else e(w,L);L=L.sibling}b.type===lo?(E=hs(b.props.children,w.mode,C,b.key),E.return=w,w=E):(C=_h(b.type,b.key,b.props,null,w.mode,C),C.ref=Ya(w,E,b),C.return=w,w=C)}return o(w);case ao:e:{for(L=b.key;E!==null;){if(E.key===L)if(E.tag===4&&E.stateNode.containerInfo===b.containerInfo&&E.stateNode.implementation===b.implementation){n(w,E.sibling),E=r(E,b.children||[]),E.return=w,w=E;break e}else{n(w,E);break}else e(w,E);E=E.sibling}E=xp(b,w.mode,C),E.return=w,w=E}return o(w);case qi:return L=b._init,x(w,E,L(b._payload),C)}if(cl(b))return _(w,E,b,C);if(Ha(b))return v(w,E,b,C);Iu(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,E!==null&&E.tag===6?(n(w,E.sibling),E=r(E,b),E.return=w,w=E):(n(w,E),E=bp(b,w.mode,C),E.return=w,w=E),o(w)):n(w,E)}return x}var jo=mS(!0),_S=mS(!1),qh=Dr(null),Gh=null,_o=null,m_=null;function __(){m_=_o=Gh=null}function y_(t){var e=qh.current;Ce(qh),t._currentValue=e}function $g(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Co(t,e){Gh=t,m_=_o=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($t=!0),t.firstContext=null)}function _n(t){var e=t._currentValue;if(m_!==t)if(t={context:t,memoizedValue:e,next:null},_o===null){if(Gh===null)throw Error($(308));_o=t,Gh.dependencies={lanes:0,firstContext:t}}else _o=_o.next=t;return e}var rs=null;function v_(t){rs===null?rs=[t]:rs.push(t)}function yS(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,v_(e)):(n.next=r.next,r.next=n),e.interleaved=n,Ii(t,i)}function Ii(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gi=!1;function E_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,he&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ii(t,n)}return r=i.interleaved,r===null?(e.next=e,v_(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ii(t,n)}function hh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,s_(t,n)}}function lE(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yh(t,e,n,i){var r=t.updateQueue;Gi=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,h=c=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((i&f)===f){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,v=a;switch(f=e,g=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){d=_.call(g,d,f);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,f=typeof _=="function"?_.call(g,d,f):_,f==null)break e;d=Ve({},d,f);break e;case 2:Gi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,l=d):h=h.next=g,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(h===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Es|=o,t.lanes=o,t.memoizedState=d}}function cE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error($(191,r));r.call(i)}}}var Pc={},Kn=Dr(Pc),tc=Dr(Pc),nc=Dr(Pc);function ss(t){if(t===Pc)throw Error($(174));return t}function w_(t,e){switch(xe(nc,e),xe(tc,t),xe(Kn,Pc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wg(e,t)}Ce(Kn),xe(Kn,e)}function Uo(){Ce(Kn),Ce(tc),Ce(nc)}function ES(t){ss(nc.current);var e=ss(Kn.current),n=wg(e,t.type);e!==n&&(xe(tc,t),xe(Kn,n))}function T_(t){tc.current===t&&(Ce(Kn),Ce(tc))}var Oe=Dr(0);function Qh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _p=[];function b_(){for(var t=0;t<_p.length;t++)_p[t]._workInProgressVersionPrimary=null;_p.length=0}var dh=Di.ReactCurrentDispatcher,yp=Di.ReactCurrentBatchConfig,vs=0,Le=null,Je=null,it=null,Xh=!1,Il=!1,ic=0,YN=0;function yt(){throw Error($(321))}function x_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!On(t[n],e[n]))return!1;return!0}function S_(t,e,n,i,r,s){if(vs=s,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dh.current=t===null||t.memoizedState===null?ZN:eO,t=n(i,r),Il){s=0;do{if(Il=!1,ic=0,25<=s)throw Error($(301));s+=1,it=Je=null,e.updateQueue=null,dh.current=tO,t=n(i,r)}while(Il)}if(dh.current=Jh,e=Je!==null&&Je.next!==null,vs=0,it=Je=Le=null,Xh=!1,e)throw Error($(300));return t}function I_(){var t=ic!==0;return ic=0,t}function jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Le.memoizedState=it=t:it=it.next=t,it}function yn(){if(Je===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var e=it===null?Le.memoizedState:it.next;if(e!==null)it=e,Je=t;else{if(t===null)throw Error($(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},it===null?Le.memoizedState=it=t:it=it.next=t}return it}function rc(t,e){return typeof e=="function"?e(t):e}function vp(t){var e=yn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var i=Je,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((vs&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,Le.lanes|=h,Es|=h}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,On(i,e.memoizedState)||($t=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Le.lanes|=s,Es|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ep(t){var e=yn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);On(s,e.memoizedState)||($t=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function wS(){}function TS(t,e){var n=Le,i=yn(),r=e(),s=!On(i.memoizedState,r);if(s&&(i.memoizedState=r,$t=!0),i=i.queue,A_(SS.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||it!==null&&it.memoizedState.tag&1){if(n.flags|=2048,sc(9,xS.bind(null,n,i,r,e),void 0,null),st===null)throw Error($(349));vs&30||bS(n,e,r)}return r}function bS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xS(t,e,n,i){e.value=n,e.getSnapshot=i,IS(e)&&AS(t)}function SS(t,e,n){return n(function(){IS(e)&&AS(t)})}function IS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!On(t,n)}catch{return!0}}function AS(t){var e=Ii(t,1);e!==null&&Nn(e,t,1,-1)}function uE(t){var e=jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rc,lastRenderedState:t},e.queue=t,t=t.dispatch=JN.bind(null,Le,t),[e.memoizedState,t]}function sc(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function CS(){return yn().memoizedState}function fh(t,e,n,i){var r=jn();Le.flags|=t,r.memoizedState=sc(1|e,n,void 0,i===void 0?null:i)}function Gd(t,e,n,i){var r=yn();i=i===void 0?null:i;var s=void 0;if(Je!==null){var o=Je.memoizedState;if(s=o.destroy,i!==null&&x_(i,o.deps)){r.memoizedState=sc(e,n,s,i);return}}Le.flags|=t,r.memoizedState=sc(1|e,n,s,i)}function hE(t,e){return fh(8390656,8,t,e)}function A_(t,e){return Gd(2048,8,t,e)}function kS(t,e){return Gd(4,2,t,e)}function PS(t,e){return Gd(4,4,t,e)}function RS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function NS(t,e,n){return n=n!=null?n.concat([t]):null,Gd(4,4,RS.bind(null,e,t),n)}function C_(){}function OS(t,e){var n=yn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&x_(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function DS(t,e){var n=yn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&x_(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function LS(t,e,n){return vs&21?(On(n,e)||(n=Ux(),Le.lanes|=n,Es|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$t=!0),t.memoizedState=n)}function QN(t,e){var n=ve;ve=n!==0&&4>n?n:4,t(!0);var i=yp.transition;yp.transition={};try{t(!1),e()}finally{ve=n,yp.transition=i}}function MS(){return yn().memoizedState}function XN(t,e,n){var i=mr(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},VS(t))FS(e,n);else if(n=yS(t,e,n,i),n!==null){var r=Rt();Nn(n,t,i,r),jS(n,e,i)}}function JN(t,e,n){var i=mr(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(VS(t))FS(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,On(a,o)){var l=e.interleaved;l===null?(r.next=r,v_(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=yS(t,e,r,i),n!==null&&(r=Rt(),Nn(n,t,i,r),jS(n,e,i))}}function VS(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function FS(t,e){Il=Xh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function jS(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,s_(t,n)}}var Jh={readContext:_n,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},ZN={readContext:_n,useCallback:function(t,e){return jn().memoizedState=[t,e===void 0?null:e],t},useContext:_n,useEffect:hE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fh(4194308,4,RS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fh(4194308,4,t,e)},useInsertionEffect:function(t,e){return fh(4,2,t,e)},useMemo:function(t,e){var n=jn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=jn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=XN.bind(null,Le,t),[i.memoizedState,t]},useRef:function(t){var e=jn();return t={current:t},e.memoizedState=t},useState:uE,useDebugValue:C_,useDeferredValue:function(t){return jn().memoizedState=t},useTransition:function(){var t=uE(!1),e=t[0];return t=QN.bind(null,t[1]),jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Le,r=jn();if(Re){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),st===null)throw Error($(349));vs&30||bS(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,hE(SS.bind(null,i,s,t),[t]),i.flags|=2048,sc(9,xS.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=jn(),e=st.identifierPrefix;if(Re){var n=pi,i=fi;n=(i&~(1<<32-Rn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=ic++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=YN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},eO={readContext:_n,useCallback:OS,useContext:_n,useEffect:A_,useImperativeHandle:NS,useInsertionEffect:kS,useLayoutEffect:PS,useMemo:DS,useReducer:vp,useRef:CS,useState:function(){return vp(rc)},useDebugValue:C_,useDeferredValue:function(t){var e=yn();return LS(e,Je.memoizedState,t)},useTransition:function(){var t=vp(rc)[0],e=yn().memoizedState;return[t,e]},useMutableSource:wS,useSyncExternalStore:TS,useId:MS,unstable_isNewReconciler:!1},tO={readContext:_n,useCallback:OS,useContext:_n,useEffect:A_,useImperativeHandle:NS,useInsertionEffect:kS,useLayoutEffect:PS,useMemo:DS,useReducer:Ep,useRef:CS,useState:function(){return Ep(rc)},useDebugValue:C_,useDeferredValue:function(t){var e=yn();return Je===null?e.memoizedState=t:LS(e,Je.memoizedState,t)},useTransition:function(){var t=Ep(rc)[0],e=yn().memoizedState;return[t,e]},useMutableSource:wS,useSyncExternalStore:TS,useId:MS,unstable_isNewReconciler:!1};function In(t,e){if(t&&t.defaultProps){e=Ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bg(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yd={isMounted:function(t){return(t=t._reactInternals)?Ls(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Rt(),r=mr(t),s=yi(i,r);s.payload=e,n!=null&&(s.callback=n),e=pr(t,s,r),e!==null&&(Nn(e,t,r,i),hh(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Rt(),r=mr(t),s=yi(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=pr(t,s,r),e!==null&&(Nn(e,t,r,i),hh(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),i=mr(t),r=yi(n,i);r.tag=2,e!=null&&(r.callback=e),e=pr(t,r,i),e!==null&&(Nn(e,t,i,n),hh(e,t,i))}};function dE(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Xl(n,i)||!Xl(r,s):!0}function US(t,e,n){var i=!1,r=Sr,s=e.contextType;return typeof s=="object"&&s!==null?s=_n(s):(r=zt(e)?_s:St.current,i=e.contextTypes,s=(i=i!=null)?Vo(t,r):Sr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yd,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function fE(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Yd.enqueueReplaceState(e,e.state,null)}function zg(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},E_(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=_n(s):(s=zt(e)?_s:St.current,r.context=Vo(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Bg(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Yd.enqueueReplaceState(r,r.state,null),Yh(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function $o(t,e){try{var n="",i=e;do n+=kR(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function wp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Hg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var nO=typeof WeakMap=="function"?WeakMap:Map;function $S(t,e,n){n=yi(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){ed||(ed=!0,em=i),Hg(t,e)},n}function BS(t,e,n){n=yi(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Hg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Hg(t,e),typeof i!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function pE(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new nO;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=mO.bind(null,t,e,n),e.then(t,t))}function gE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mE(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yi(-1,1),e.tag=2,pr(n,e,1))),n.lanes|=1),t)}var iO=Di.ReactCurrentOwner,$t=!1;function Pt(t,e,n,i){e.child=t===null?_S(e,null,n,i):jo(e,t.child,n,i)}function _E(t,e,n,i,r){n=n.render;var s=e.ref;return Co(e,r),i=S_(t,e,n,i,s,r),n=I_(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ai(t,e,r)):(Re&&n&&f_(e),e.flags|=1,Pt(t,e,i,r),e.child)}function yE(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!M_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,zS(t,e,s,i,r)):(t=_h(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Xl,n(o,i)&&t.ref===e.ref)return Ai(t,e,r)}return e.flags|=1,t=_r(s,i),t.ref=e.ref,t.return=e,e.child=t}function zS(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Xl(s,i)&&t.ref===e.ref)if($t=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&($t=!0);else return e.lanes=t.lanes,Ai(t,e,r)}return Wg(t,e,n,i,r)}function HS(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(vo,Yt),Yt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xe(vo,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,xe(vo,Yt),Yt|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,xe(vo,Yt),Yt|=i;return Pt(t,e,r,n),e.child}function WS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Wg(t,e,n,i,r){var s=zt(n)?_s:St.current;return s=Vo(e,s),Co(e,r),n=S_(t,e,n,i,s,r),i=I_(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ai(t,e,r)):(Re&&i&&f_(e),e.flags|=1,Pt(t,e,n,r),e.child)}function vE(t,e,n,i,r){if(zt(n)){var s=!0;Hh(e)}else s=!1;if(Co(e,r),e.stateNode===null)ph(t,e),US(e,n,i),zg(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=_n(c):(c=zt(n)?_s:St.current,c=Vo(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&fE(e,o,i,c),Gi=!1;var f=e.memoizedState;o.state=f,Yh(e,i,o,r),l=e.memoizedState,a!==i||f!==l||Bt.current||Gi?(typeof h=="function"&&(Bg(e,n,h,i),l=e.memoizedState),(a=Gi||dE(e,n,a,i,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,vS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:In(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=_n(l):(l=zt(n)?_s:St.current,l=Vo(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&fE(e,o,i,l),Gi=!1,f=e.memoizedState,o.state=f,Yh(e,i,o,r);var _=e.memoizedState;a!==d||f!==_||Bt.current||Gi?(typeof g=="function"&&(Bg(e,n,g,i),_=e.memoizedState),(c=Gi||dE(e,n,c,i,f,_,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=_),o.props=i,o.state=_,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return Kg(t,e,n,i,s,r)}function Kg(t,e,n,i,r,s){WS(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&rE(e,n,!1),Ai(t,e,s);i=e.stateNode,iO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=jo(e,t.child,null,s),e.child=jo(e,null,a,s)):Pt(t,e,a,s),e.memoizedState=i.state,r&&rE(e,n,!0),e.child}function KS(t){var e=t.stateNode;e.pendingContext?iE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&iE(t,e.context,!1),w_(t,e.containerInfo)}function EE(t,e,n,i,r){return Fo(),g_(r),e.flags|=256,Pt(t,e,n,i),e.child}var qg={dehydrated:null,treeContext:null,retryLane:0};function Gg(t){return{baseLanes:t,cachePool:null,transitions:null}}function qS(t,e,n){var i=e.pendingProps,r=Oe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),xe(Oe,r&1),t===null)return Ug(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Jd(o,i,0,null),t=hs(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Gg(n),e.memoizedState=qg,t):k_(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return rO(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=_r(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=_r(a,s):(s=hs(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?Gg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=qg,i}return s=t.child,t=s.sibling,i=_r(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function k_(t,e){return e=Jd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Au(t,e,n,i){return i!==null&&g_(i),jo(e,t.child,null,n),t=k_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rO(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=wp(Error($(422))),Au(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Jd({mode:"visible",children:i.children},r,0,null),s=hs(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&jo(e,t.child,null,o),e.child.memoizedState=Gg(o),e.memoizedState=qg,s);if(!(e.mode&1))return Au(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error($(419)),i=wp(s,i,void 0),Au(t,e,o,i)}if(a=(o&t.childLanes)!==0,$t||a){if(i=st,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Ii(t,r),Nn(i,t,r,-1))}return L_(),i=wp(Error($(421))),Au(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=_O.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Qt=fr(r.nextSibling),Zt=e,Re=!0,Cn=null,t!==null&&(un[hn++]=fi,un[hn++]=pi,un[hn++]=ys,fi=t.id,pi=t.overflow,ys=e),e=k_(e,i.children),e.flags|=4096,e)}function wE(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),$g(t.return,e,n)}function Tp(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function GS(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Pt(t,e,i.children,n),i=Oe.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wE(t,n,e);else if(t.tag===19)wE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(xe(Oe,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Qh(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Tp(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Qh(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Tp(e,!0,n,null,s);break;case"together":Tp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ph(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ai(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Es|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=_r(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_r(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function sO(t,e,n){switch(e.tag){case 3:KS(e),Fo();break;case 5:ES(e);break;case 1:zt(e.type)&&Hh(e);break;case 4:w_(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;xe(qh,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(xe(Oe,Oe.current&1),e.flags|=128,null):n&e.child.childLanes?qS(t,e,n):(xe(Oe,Oe.current&1),t=Ai(t,e,n),t!==null?t.sibling:null);xe(Oe,Oe.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return GS(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),xe(Oe,Oe.current),i)break;return null;case 22:case 23:return e.lanes=0,HS(t,e,n)}return Ai(t,e,n)}var YS,Yg,QS,XS;YS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yg=function(){};QS=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,ss(Kn.current);var s=null;switch(n){case"input":r=_g(t,r),i=_g(t,i),s=[];break;case"select":r=Ve({},r,{value:void 0}),i=Ve({},i,{value:void 0}),s=[];break;case"textarea":r=Eg(t,r),i=Eg(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Bh)}Tg(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Hl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Hl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ie("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};XS=function(t,e,n,i){n!==i&&(e.flags|=4)};function Qa(t,e){if(!Re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function oO(t,e,n){var i=e.pendingProps;switch(p_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(e),null;case 1:return zt(e.type)&&zh(),vt(e),null;case 3:return i=e.stateNode,Uo(),Ce(Bt),Ce(St),b_(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Su(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Cn!==null&&(im(Cn),Cn=null))),Yg(t,e),vt(e),null;case 5:T_(e);var r=ss(nc.current);if(n=e.type,t!==null&&e.stateNode!=null)QS(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error($(166));return vt(e),null}if(t=ss(Kn.current),Su(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Bn]=e,i[ec]=s,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",i),Ie("close",i);break;case"iframe":case"object":case"embed":Ie("load",i);break;case"video":case"audio":for(r=0;r<hl.length;r++)Ie(hl[r],i);break;case"source":Ie("error",i);break;case"img":case"image":case"link":Ie("error",i),Ie("load",i);break;case"details":Ie("toggle",i);break;case"input":P0(i,s),Ie("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ie("invalid",i);break;case"textarea":N0(i,s),Ie("invalid",i)}Tg(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&xu(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&xu(i.textContent,a,t),r=["children",""+a]):Hl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ie("scroll",i)}switch(n){case"input":mu(i),R0(i,s,!0);break;case"textarea":mu(i),O0(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Bh)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Sx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Bn]=e,t[ec]=i,YS(t,e,!1,!1),e.stateNode=t;e:{switch(o=bg(n,i),n){case"dialog":Ie("cancel",t),Ie("close",t),r=i;break;case"iframe":case"object":case"embed":Ie("load",t),r=i;break;case"video":case"audio":for(r=0;r<hl.length;r++)Ie(hl[r],t);r=i;break;case"source":Ie("error",t),r=i;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),r=i;break;case"details":Ie("toggle",t),r=i;break;case"input":P0(t,i),r=_g(t,i),Ie("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Ve({},i,{value:void 0}),Ie("invalid",t);break;case"textarea":N0(t,i),r=Eg(t,i),Ie("invalid",t);break;default:r=i}Tg(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Cx(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ix(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Wl(t,l):typeof l=="number"&&Wl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Hl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ie("scroll",t):l!=null&&Zm(t,s,l,o))}switch(n){case"input":mu(t),R0(t,i,!1);break;case"textarea":mu(t),O0(t);break;case"option":i.value!=null&&t.setAttribute("value",""+xr(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?xo(t,!!i.multiple,s,!1):i.defaultValue!=null&&xo(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Bh)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vt(e),null;case 6:if(t&&e.stateNode!=null)XS(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error($(166));if(n=ss(nc.current),ss(Kn.current),Su(e)){if(i=e.stateNode,n=e.memoizedProps,i[Bn]=e,(s=i.nodeValue!==n)&&(t=Zt,t!==null))switch(t.tag){case 3:xu(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xu(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Bn]=e,e.stateNode=i}return vt(e),null;case 13:if(Ce(Oe),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&Qt!==null&&e.mode&1&&!(e.flags&128))gS(),Fo(),e.flags|=98560,s=!1;else if(s=Su(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[Bn]=e}else Fo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vt(e),s=!1}else Cn!==null&&(im(Cn),Cn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Oe.current&1?Ze===0&&(Ze=3):L_())),e.updateQueue!==null&&(e.flags|=4),vt(e),null);case 4:return Uo(),Yg(t,e),t===null&&Jl(e.stateNode.containerInfo),vt(e),null;case 10:return y_(e.type._context),vt(e),null;case 17:return zt(e.type)&&zh(),vt(e),null;case 19:if(Ce(Oe),s=e.memoizedState,s===null)return vt(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Qa(s,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Qh(t),o!==null){for(e.flags|=128,Qa(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xe(Oe,Oe.current&1|2),e.child}t=t.sibling}s.tail!==null&&We()>Bo&&(e.flags|=128,i=!0,Qa(s,!1),e.lanes=4194304)}else{if(!i)if(t=Qh(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Re)return vt(e),null}else 2*We()-s.renderingStartTime>Bo&&n!==1073741824&&(e.flags|=128,i=!0,Qa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=We(),e.sibling=null,n=Oe.current,xe(Oe,i?n&1|2:n&1),e):(vt(e),null);case 22:case 23:return D_(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Yt&1073741824&&(vt(e),e.subtreeFlags&6&&(e.flags|=8192)):vt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function aO(t,e){switch(p_(e),e.tag){case 1:return zt(e.type)&&zh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Uo(),Ce(Bt),Ce(St),b_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return T_(e),null;case 13:if(Ce(Oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Fo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce(Oe),null;case 4:return Uo(),null;case 10:return y_(e.type._context),null;case 22:case 23:return D_(),null;case 24:return null;default:return null}}var Cu=!1,bt=!1,lO=typeof WeakSet=="function"?WeakSet:Set,W=null;function yo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ue(t,e,i)}else n.current=null}function Qg(t,e,n){try{n()}catch(i){Ue(t,e,i)}}var TE=!1;function cO(t,e){if(Og=jh,t=nS(),d_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,f=null;t:for(;;){for(var g;d!==n||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++c===r&&(a=o),f===s&&++h===i&&(l=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dg={focusedElem:t,selectionRange:n},jh=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,x=_.memoizedState,w=e.stateNode,E=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:In(e.type,v),x);w.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(C){Ue(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return _=TE,TE=!1,_}function Al(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Qg(e,n,s)}r=r.next}while(r!==i)}}function Qd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Xg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function JS(t){var e=t.alternate;e!==null&&(t.alternate=null,JS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bn],delete e[ec],delete e[Vg],delete e[WN],delete e[KN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ZS(t){return t.tag===5||t.tag===3||t.tag===4}function bE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ZS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jg(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bh));else if(i!==4&&(t=t.child,t!==null))for(Jg(t,e,n),t=t.sibling;t!==null;)Jg(t,e,n),t=t.sibling}function Zg(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Zg(t,e,n),t=t.sibling;t!==null;)Zg(t,e,n),t=t.sibling}var ct=null,An=!1;function zi(t,e,n){for(n=n.child;n!==null;)eI(t,e,n),n=n.sibling}function eI(t,e,n){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(Bd,n)}catch{}switch(n.tag){case 5:bt||yo(n,e);case 6:var i=ct,r=An;ct=null,zi(t,e,n),ct=i,An=r,ct!==null&&(An?(t=ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(An?(t=ct,n=n.stateNode,t.nodeType===8?gp(t.parentNode,n):t.nodeType===1&&gp(t,n),Yl(t)):gp(ct,n.stateNode));break;case 4:i=ct,r=An,ct=n.stateNode.containerInfo,An=!0,zi(t,e,n),ct=i,An=r;break;case 0:case 11:case 14:case 15:if(!bt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Qg(n,e,o),r=r.next}while(r!==i)}zi(t,e,n);break;case 1:if(!bt&&(yo(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Ue(n,e,a)}zi(t,e,n);break;case 21:zi(t,e,n);break;case 22:n.mode&1?(bt=(i=bt)||n.memoizedState!==null,zi(t,e,n),bt=i):zi(t,e,n);break;default:zi(t,e,n)}}function xE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lO),e.forEach(function(i){var r=yO.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Sn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ct=a.stateNode,An=!1;break e;case 3:ct=a.stateNode.containerInfo,An=!0;break e;case 4:ct=a.stateNode.containerInfo,An=!0;break e}a=a.return}if(ct===null)throw Error($(160));eI(s,o,r),ct=null,An=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Ue(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tI(e,t),e=e.sibling}function tI(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sn(e,t),Vn(t),i&4){try{Al(3,t,t.return),Qd(3,t)}catch(v){Ue(t,t.return,v)}try{Al(5,t,t.return)}catch(v){Ue(t,t.return,v)}}break;case 1:Sn(e,t),Vn(t),i&512&&n!==null&&yo(n,n.return);break;case 5:if(Sn(e,t),Vn(t),i&512&&n!==null&&yo(n,n.return),t.flags&32){var r=t.stateNode;try{Wl(r,"")}catch(v){Ue(t,t.return,v)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&bx(r,s),bg(a,o);var c=bg(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?Cx(r,d):h==="dangerouslySetInnerHTML"?Ix(r,d):h==="children"?Wl(r,d):Zm(r,h,d,c)}switch(a){case"input":yg(r,s);break;case"textarea":xx(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?xo(r,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?xo(r,!!s.multiple,s.defaultValue,!0):xo(r,!!s.multiple,s.multiple?[]:"",!1))}r[ec]=s}catch(v){Ue(t,t.return,v)}}break;case 6:if(Sn(e,t),Vn(t),i&4){if(t.stateNode===null)throw Error($(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(v){Ue(t,t.return,v)}}break;case 3:if(Sn(e,t),Vn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Yl(e.containerInfo)}catch(v){Ue(t,t.return,v)}break;case 4:Sn(e,t),Vn(t);break;case 13:Sn(e,t),Vn(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(N_=We())),i&4&&xE(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(bt=(c=bt)||h,Sn(e,t),bt=c):Sn(e,t),Vn(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(W=t,h=t.child;h!==null;){for(d=W=h;W!==null;){switch(f=W,g=f.child,f.tag){case 0:case 11:case 14:case 15:Al(4,f,f.return);break;case 1:yo(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){i=f,n=f.return;try{e=i,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(v){Ue(i,n,v)}}break;case 5:yo(f,f.return);break;case 22:if(f.memoizedState!==null){IE(d);continue}}g!==null?(g.return=f,W=g):IE(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ax("display",o))}catch(v){Ue(t,t.return,v)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Ue(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Sn(e,t),Vn(t),i&4&&xE(t);break;case 21:break;default:Sn(e,t),Vn(t)}}function Vn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ZS(n)){var i=n;break e}n=n.return}throw Error($(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Wl(r,""),i.flags&=-33);var s=bE(t);Zg(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=bE(t);Jg(t,a,o);break;default:throw Error($(161))}}catch(l){Ue(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uO(t,e,n){W=t,nI(t)}function nI(t,e,n){for(var i=(t.mode&1)!==0;W!==null;){var r=W,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Cu;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||bt;a=Cu;var c=bt;if(Cu=o,(bt=l)&&!c)for(W=r;W!==null;)o=W,l=o.child,o.tag===22&&o.memoizedState!==null?AE(r):l!==null?(l.return=o,W=l):AE(r);for(;s!==null;)W=s,nI(s),s=s.sibling;W=r,Cu=a,bt=c}SE(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,W=s):SE(t)}}function SE(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bt||Qd(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!bt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:In(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&cE(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}cE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Yl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}bt||e.flags&512&&Xg(e)}catch(f){Ue(e,e.return,f)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function IE(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function AE(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qd(4,e)}catch(l){Ue(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Ue(e,r,l)}}var s=e.return;try{Xg(e)}catch(l){Ue(e,s,l)}break;case 5:var o=e.return;try{Xg(e)}catch(l){Ue(e,o,l)}}}catch(l){Ue(e,e.return,l)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var hO=Math.ceil,Zh=Di.ReactCurrentDispatcher,P_=Di.ReactCurrentOwner,gn=Di.ReactCurrentBatchConfig,he=0,st=null,Ge=null,dt=0,Yt=0,vo=Dr(0),Ze=0,oc=null,Es=0,Xd=0,R_=0,Cl=null,Ft=null,N_=0,Bo=1/0,ui=null,ed=!1,em=null,gr=null,ku=!1,ir=null,td=0,kl=0,tm=null,gh=-1,mh=0;function Rt(){return he&6?We():gh!==-1?gh:gh=We()}function mr(t){return t.mode&1?he&2&&dt!==0?dt&-dt:GN.transition!==null?(mh===0&&(mh=Ux()),mh):(t=ve,t!==0||(t=window.event,t=t===void 0?16:qx(t.type)),t):1}function Nn(t,e,n,i){if(50<kl)throw kl=0,tm=null,Error($(185));Ac(t,n,i),(!(he&2)||t!==st)&&(t===st&&(!(he&2)&&(Xd|=n),Ze===4&&Qi(t,dt)),Ht(t,i),n===1&&he===0&&!(e.mode&1)&&(Bo=We()+500,qd&&Lr()))}function Ht(t,e){var n=t.callbackNode;GR(t,e);var i=Fh(t,t===st?dt:0);if(i===0)n!==null&&M0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&M0(n),e===1)t.tag===0?qN(CE.bind(null,t)):dS(CE.bind(null,t)),zN(function(){!(he&6)&&Lr()}),n=null;else{switch($x(i)){case 1:n=r_;break;case 4:n=Fx;break;case 16:n=Vh;break;case 536870912:n=jx;break;default:n=Vh}n=uI(n,iI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function iI(t,e){if(gh=-1,mh=0,he&6)throw Error($(327));var n=t.callbackNode;if(ko()&&t.callbackNode!==n)return null;var i=Fh(t,t===st?dt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=nd(t,i);else{e=i;var r=he;he|=2;var s=sI();(st!==t||dt!==e)&&(ui=null,Bo=We()+500,us(t,e));do try{pO();break}catch(a){rI(t,a)}while(!0);__(),Zh.current=s,he=r,Ge!==null?e=0:(st=null,dt=0,e=Ze)}if(e!==0){if(e===2&&(r=Cg(t),r!==0&&(i=r,e=nm(t,r))),e===1)throw n=oc,us(t,0),Qi(t,i),Ht(t,We()),n;if(e===6)Qi(t,i);else{if(r=t.current.alternate,!(i&30)&&!dO(r)&&(e=nd(t,i),e===2&&(s=Cg(t),s!==0&&(i=s,e=nm(t,s))),e===1))throw n=oc,us(t,0),Qi(t,i),Ht(t,We()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error($(345));case 2:es(t,Ft,ui);break;case 3:if(Qi(t,i),(i&130023424)===i&&(e=N_+500-We(),10<e)){if(Fh(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Rt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Mg(es.bind(null,t,Ft,ui),e);break}es(t,Ft,ui);break;case 4:if(Qi(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-Rn(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=We()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*hO(i/1960))-i,10<i){t.timeoutHandle=Mg(es.bind(null,t,Ft,ui),i);break}es(t,Ft,ui);break;case 5:es(t,Ft,ui);break;default:throw Error($(329))}}}return Ht(t,We()),t.callbackNode===n?iI.bind(null,t):null}function nm(t,e){var n=Cl;return t.current.memoizedState.isDehydrated&&(us(t,e).flags|=256),t=nd(t,e),t!==2&&(e=Ft,Ft=n,e!==null&&im(e)),t}function im(t){Ft===null?Ft=t:Ft.push.apply(Ft,t)}function dO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!On(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qi(t,e){for(e&=~R_,e&=~Xd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rn(e),i=1<<n;t[n]=-1,e&=~i}}function CE(t){if(he&6)throw Error($(327));ko();var e=Fh(t,0);if(!(e&1))return Ht(t,We()),null;var n=nd(t,e);if(t.tag!==0&&n===2){var i=Cg(t);i!==0&&(e=i,n=nm(t,i))}if(n===1)throw n=oc,us(t,0),Qi(t,e),Ht(t,We()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,es(t,Ft,ui),Ht(t,We()),null}function O_(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(Bo=We()+500,qd&&Lr())}}function ws(t){ir!==null&&ir.tag===0&&!(he&6)&&ko();var e=he;he|=1;var n=gn.transition,i=ve;try{if(gn.transition=null,ve=1,t)return t()}finally{ve=i,gn.transition=n,he=e,!(he&6)&&Lr()}}function D_(){Yt=vo.current,Ce(vo)}function us(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,BN(n)),Ge!==null)for(n=Ge.return;n!==null;){var i=n;switch(p_(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&zh();break;case 3:Uo(),Ce(Bt),Ce(St),b_();break;case 5:T_(i);break;case 4:Uo();break;case 13:Ce(Oe);break;case 19:Ce(Oe);break;case 10:y_(i.type._context);break;case 22:case 23:D_()}n=n.return}if(st=t,Ge=t=_r(t.current,null),dt=Yt=e,Ze=0,oc=null,R_=Xd=Es=0,Ft=Cl=null,rs!==null){for(e=0;e<rs.length;e++)if(n=rs[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}rs=null}return t}function rI(t,e){do{var n=Ge;try{if(__(),dh.current=Jh,Xh){for(var i=Le.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Xh=!1}if(vs=0,it=Je=Le=null,Il=!1,ic=0,P_.current=null,n===null||n.return===null){Ze=1,oc=e,Ge=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=dt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=gE(o);if(g!==null){g.flags&=-257,mE(g,o,a,s,e),g.mode&1&&pE(s,c,e),e=g,l=c;var _=e.updateQueue;if(_===null){var v=new Set;v.add(l),e.updateQueue=v}else _.add(l);break e}else{if(!(e&1)){pE(s,c,e),L_();break e}l=Error($(426))}}else if(Re&&a.mode&1){var x=gE(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),mE(x,o,a,s,e),g_($o(l,a));break e}}s=l=$o(l,a),Ze!==4&&(Ze=2),Cl===null?Cl=[s]:Cl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=$S(s,l,e);lE(s,w);break e;case 1:a=l;var E=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(gr===null||!gr.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=BS(s,a,e);lE(s,C);break e}}s=s.return}while(s!==null)}aI(n)}catch(N){e=N,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(!0)}function sI(){var t=Zh.current;return Zh.current=Jh,t===null?Jh:t}function L_(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),st===null||!(Es&268435455)&&!(Xd&268435455)||Qi(st,dt)}function nd(t,e){var n=he;he|=2;var i=sI();(st!==t||dt!==e)&&(ui=null,us(t,e));do try{fO();break}catch(r){rI(t,r)}while(!0);if(__(),he=n,Zh.current=i,Ge!==null)throw Error($(261));return st=null,dt=0,Ze}function fO(){for(;Ge!==null;)oI(Ge)}function pO(){for(;Ge!==null&&!jR();)oI(Ge)}function oI(t){var e=cI(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?aI(t):Ge=e,P_.current=null}function aI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=aO(n,e),n!==null){n.flags&=32767,Ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ze=6,Ge=null;return}}else if(n=oO(n,e,Yt),n!==null){Ge=n;return}if(e=e.sibling,e!==null){Ge=e;return}Ge=e=t}while(e!==null);Ze===0&&(Ze=5)}function es(t,e,n){var i=ve,r=gn.transition;try{gn.transition=null,ve=1,gO(t,e,n,i)}finally{gn.transition=r,ve=i}return null}function gO(t,e,n,i){do ko();while(ir!==null);if(he&6)throw Error($(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(YR(t,s),t===st&&(Ge=st=null,dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ku||(ku=!0,uI(Vh,function(){return ko(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=gn.transition,gn.transition=null;var o=ve;ve=1;var a=he;he|=4,P_.current=null,cO(t,n),tI(n,t),LN(Dg),jh=!!Og,Dg=Og=null,t.current=n,uO(n),UR(),he=a,ve=o,gn.transition=s}else t.current=n;if(ku&&(ku=!1,ir=t,td=r),s=t.pendingLanes,s===0&&(gr=null),zR(n.stateNode),Ht(t,We()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(ed)throw ed=!1,t=em,em=null,t;return td&1&&t.tag!==0&&ko(),s=t.pendingLanes,s&1?t===tm?kl++:(kl=0,tm=t):kl=0,Lr(),null}function ko(){if(ir!==null){var t=$x(td),e=gn.transition,n=ve;try{if(gn.transition=null,ve=16>t?16:t,ir===null)var i=!1;else{if(t=ir,ir=null,td=0,he&6)throw Error($(331));var r=he;for(he|=4,W=t.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(W=c;W!==null;){var h=W;switch(h.tag){case 0:case 11:case 15:Al(8,h,s)}var d=h.child;if(d!==null)d.return=h,W=d;else for(;W!==null;){h=W;var f=h.sibling,g=h.return;if(JS(h),h===c){W=null;break}if(f!==null){f.return=g,W=f;break}W=g}}}var _=s.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Al(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,W=w;break e}W=s.return}}var E=t.current;for(W=E;W!==null;){o=W;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,W=b;else e:for(o=E;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qd(9,a)}}catch(N){Ue(a,a.return,N)}if(a===o){W=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,W=C;break e}W=a.return}}if(he=r,Lr(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(Bd,t)}catch{}i=!0}return i}finally{ve=n,gn.transition=e}}return!1}function kE(t,e,n){e=$o(n,e),e=$S(t,e,1),t=pr(t,e,1),e=Rt(),t!==null&&(Ac(t,1,e),Ht(t,e))}function Ue(t,e,n){if(t.tag===3)kE(t,t,n);else for(;e!==null;){if(e.tag===3){kE(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(gr===null||!gr.has(i))){t=$o(n,t),t=BS(e,t,1),e=pr(e,t,1),t=Rt(),e!==null&&(Ac(e,1,t),Ht(e,t));break}}e=e.return}}function mO(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,st===t&&(dt&n)===n&&(Ze===4||Ze===3&&(dt&130023424)===dt&&500>We()-N_?us(t,0):R_|=n),Ht(t,e)}function lI(t,e){e===0&&(t.mode&1?(e=vu,vu<<=1,!(vu&130023424)&&(vu=4194304)):e=1);var n=Rt();t=Ii(t,e),t!==null&&(Ac(t,e,n),Ht(t,n))}function _O(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),lI(t,n)}function yO(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error($(314))}i!==null&&i.delete(e),lI(t,n)}var cI;cI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bt.current)$t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $t=!1,sO(t,e,n);$t=!!(t.flags&131072)}else $t=!1,Re&&e.flags&1048576&&fS(e,Kh,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;ph(t,e),t=e.pendingProps;var r=Vo(e,St.current);Co(e,n),r=S_(null,e,i,t,r,n);var s=I_();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zt(i)?(s=!0,Hh(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,E_(e),r.updater=Yd,e.stateNode=r,r._reactInternals=e,zg(e,i,t,n),e=Kg(null,e,i,!0,s,n)):(e.tag=0,Re&&s&&f_(e),Pt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(ph(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=EO(i),t=In(i,t),r){case 0:e=Wg(null,e,i,t,n);break e;case 1:e=vE(null,e,i,t,n);break e;case 11:e=_E(null,e,i,t,n);break e;case 14:e=yE(null,e,i,In(i.type,t),n);break e}throw Error($(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:In(i,r),Wg(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:In(i,r),vE(t,e,i,r,n);case 3:e:{if(KS(e),t===null)throw Error($(387));i=e.pendingProps,s=e.memoizedState,r=s.element,vS(t,e),Yh(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=$o(Error($(423)),e),e=EE(t,e,i,n,r);break e}else if(i!==r){r=$o(Error($(424)),e),e=EE(t,e,i,n,r);break e}else for(Qt=fr(e.stateNode.containerInfo.firstChild),Zt=e,Re=!0,Cn=null,n=_S(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fo(),i===r){e=Ai(t,e,n);break e}Pt(t,e,i,n)}e=e.child}return e;case 5:return ES(e),t===null&&Ug(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,Lg(i,r)?o=null:s!==null&&Lg(i,s)&&(e.flags|=32),WS(t,e),Pt(t,e,o,n),e.child;case 6:return t===null&&Ug(e),null;case 13:return qS(t,e,n);case 4:return w_(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=jo(e,null,i,n):Pt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:In(i,r),_E(t,e,i,r,n);case 7:return Pt(t,e,e.pendingProps,n),e.child;case 8:return Pt(t,e,e.pendingProps.children,n),e.child;case 12:return Pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,xe(qh,i._currentValue),i._currentValue=o,s!==null)if(On(s.value,o)){if(s.children===r.children&&!Bt.current){e=Ai(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=yi(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),$g(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),$g(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Pt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Co(e,n),r=_n(r),i=i(r),e.flags|=1,Pt(t,e,i,n),e.child;case 14:return i=e.type,r=In(i,e.pendingProps),r=In(i.type,r),yE(t,e,i,r,n);case 15:return zS(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:In(i,r),ph(t,e),e.tag=1,zt(i)?(t=!0,Hh(e)):t=!1,Co(e,n),US(e,i,r),zg(e,i,r,n),Kg(null,e,i,!0,t,n);case 19:return GS(t,e,n);case 22:return HS(t,e,n)}throw Error($(156,e.tag))};function uI(t,e){return Vx(t,e)}function vO(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,e,n,i){return new vO(t,e,n,i)}function M_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function EO(t){if(typeof t=="function")return M_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===t_)return 11;if(t===n_)return 14}return 2}function _r(t,e){var n=t.alternate;return n===null?(n=fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _h(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")M_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case lo:return hs(n.children,r,s,e);case e_:o=8,r|=8;break;case fg:return t=fn(12,n,e,r|2),t.elementType=fg,t.lanes=s,t;case pg:return t=fn(13,n,e,r),t.elementType=pg,t.lanes=s,t;case gg:return t=fn(19,n,e,r),t.elementType=gg,t.lanes=s,t;case Ex:return Jd(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yx:o=10;break e;case vx:o=9;break e;case t_:o=11;break e;case n_:o=14;break e;case qi:o=16,i=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=fn(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function hs(t,e,n,i){return t=fn(7,t,i,e),t.lanes=n,t}function Jd(t,e,n,i){return t=fn(22,t,i,e),t.elementType=Ex,t.lanes=n,t.stateNode={isHidden:!1},t}function bp(t,e,n){return t=fn(6,t,null,e),t.lanes=n,t}function xp(t,e,n){return e=fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wO(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rp(0),this.expirationTimes=rp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rp(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function V_(t,e,n,i,r,s,o,a,l){return t=new wO(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=fn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},E_(s),t}function TO(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ao,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function hI(t){if(!t)return Sr;t=t._reactInternals;e:{if(Ls(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(zt(n))return hS(t,n,e)}return e}function dI(t,e,n,i,r,s,o,a,l){return t=V_(n,i,!0,t,r,s,o,a,l),t.context=hI(null),n=t.current,i=Rt(),r=mr(n),s=yi(i,r),s.callback=e??null,pr(n,s,r),t.current.lanes=r,Ac(t,r,i),Ht(t,i),t}function Zd(t,e,n,i){var r=e.current,s=Rt(),o=mr(r);return n=hI(n),e.context===null?e.context=n:e.pendingContext=n,e=yi(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=pr(r,e,o),t!==null&&(Nn(t,r,o,s),hh(t,r,o)),o}function id(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function PE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function F_(t,e){PE(t,e),(t=t.alternate)&&PE(t,e)}function bO(){return null}var fI=typeof reportError=="function"?reportError:function(t){console.error(t)};function j_(t){this._internalRoot=t}ef.prototype.render=j_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Zd(t,e,null,null)};ef.prototype.unmount=j_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ws(function(){Zd(null,t,null,null)}),e[Si]=null}};function ef(t){this._internalRoot=t}ef.prototype.unstable_scheduleHydration=function(t){if(t){var e=Hx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yi.length&&e!==0&&e<Yi[n].priority;n++);Yi.splice(n,0,t),n===0&&Kx(t)}};function U_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function RE(){}function xO(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=id(o);s.call(c)}}var o=dI(e,i,t,0,null,!1,!1,"",RE);return t._reactRootContainer=o,t[Si]=o.current,Jl(t.nodeType===8?t.parentNode:t),ws(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=id(l);a.call(c)}}var l=V_(t,0,!1,null,null,!1,!1,"",RE);return t._reactRootContainer=l,t[Si]=l.current,Jl(t.nodeType===8?t.parentNode:t),ws(function(){Zd(e,l,n,i)}),l}function nf(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=id(o);a.call(l)}}Zd(e,o,t,r)}else o=xO(n,e,t,r,i);return id(o)}Bx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ul(e.pendingLanes);n!==0&&(s_(e,n|1),Ht(e,We()),!(he&6)&&(Bo=We()+500,Lr()))}break;case 13:ws(function(){var i=Ii(t,1);if(i!==null){var r=Rt();Nn(i,t,1,r)}}),F_(t,1)}};o_=function(t){if(t.tag===13){var e=Ii(t,134217728);if(e!==null){var n=Rt();Nn(e,t,134217728,n)}F_(t,134217728)}};zx=function(t){if(t.tag===13){var e=mr(t),n=Ii(t,e);if(n!==null){var i=Rt();Nn(n,t,e,i)}F_(t,e)}};Hx=function(){return ve};Wx=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}};Sg=function(t,e,n){switch(e){case"input":if(yg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Kd(i);if(!r)throw Error($(90));Tx(i),yg(i,r)}}}break;case"textarea":xx(t,n);break;case"select":e=n.value,e!=null&&xo(t,!!n.multiple,e,!1)}};Rx=O_;Nx=ws;var SO={usingClientEntryPoint:!1,Events:[kc,fo,Kd,kx,Px,O_]},Xa={findFiberByHostInstance:is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IO={bundleType:Xa.bundleType,version:Xa.version,rendererPackageName:Xa.rendererPackageName,rendererConfig:Xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Di.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Lx(t),t===null?null:t.stateNode},findFiberByHostInstance:Xa.findFiberByHostInstance||bO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{Bd=Pu.inject(IO),Wn=Pu}catch{}}sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SO;sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!U_(e))throw Error($(200));return TO(t,e,null,n)};sn.createRoot=function(t,e){if(!U_(t))throw Error($(299));var n=!1,i="",r=fI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=V_(t,1,!1,null,null,n,!1,i,r),t[Si]=e.current,Jl(t.nodeType===8?t.parentNode:t),new j_(e)};sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=Lx(e),t=t===null?null:t.stateNode,t};sn.flushSync=function(t){return ws(t)};sn.hydrate=function(t,e,n){if(!tf(e))throw Error($(200));return nf(null,t,e,!0,n)};sn.hydrateRoot=function(t,e,n){if(!U_(t))throw Error($(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=fI;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=dI(e,null,t,1,n??null,r,!1,s,o),t[Si]=e.current,Jl(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new ef(e)};sn.render=function(t,e,n){if(!tf(e))throw Error($(200));return nf(null,t,e,!1,n)};sn.unmountComponentAtNode=function(t){if(!tf(t))throw Error($(40));return t._reactRootContainer?(ws(function(){nf(null,null,t,!1,function(){t._reactRootContainer=null,t[Si]=null})}),!0):!1};sn.unstable_batchedUpdates=O_;sn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!tf(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return nf(t,e,n,!1,i)};sn.version="18.3.1-next-f1338f8080-20240426";function pI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pI)}catch(t){console.error(t)}}pI(),px.exports=sn;var AO=px.exports,gI,NE=AO;gI=NE.createRoot,NE.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ac.apply(this,arguments)}var rr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(rr||(rr={}));const OE="popstate";function CO(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return rm("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:rd(r)}return PO(e,n,null,t)}function Me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kO(){return Math.random().toString(36).substr(2,8)}function DE(t,e){return{usr:t.state,key:t.key,idx:e}}function rm(t,e,n,i){return n===void 0&&(n=null),ac({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ua(e):e,{state:n,key:e&&e.key||i||kO()})}function rd(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ua(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function PO(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=rr.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(ac({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=rr.Pop;let x=h(),w=x==null?null:x-c;c=x,l&&l({action:a,location:v.location,delta:w})}function f(x,w){a=rr.Push;let E=rm(v.location,x,w);c=h()+1;let b=DE(E,c),C=v.createHref(E);try{o.pushState(b,"",C)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(C)}s&&l&&l({action:a,location:v.location,delta:1})}function g(x,w){a=rr.Replace;let E=rm(v.location,x,w);c=h();let b=DE(E,c),C=v.createHref(E);o.replaceState(b,"",C),s&&l&&l({action:a,location:v.location,delta:0})}function _(x){let w=r.location.origin!=="null"?r.location.origin:r.location.href,E=typeof x=="string"?x:rd(x);return E=E.replace(/ $/,"%20"),Me(w,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,w)}let v={get action(){return a},get location(){return t(r,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(OE,d),l=x,()=>{r.removeEventListener(OE,d),l=null}},createHref(x){return e(r,x)},createURL:_,encodeLocation(x){let w=_(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:g,go(x){return o.go(x)}};return v}var LE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(LE||(LE={}));function RO(t,e,n){return n===void 0&&(n="/"),NO(t,e,n,!1)}function NO(t,e,n,i){let r=typeof e=="string"?ua(e):e,s=zo(r.pathname||"/",n);if(s==null)return null;let o=_I(t);OO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=HO(s);a=BO(o[l],c,i)}return a}function _I(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Me(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=yr([i,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(Me(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),_I(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:UO(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of yI(s.path))r(s,o,l)}),e}function yI(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=yI(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function OO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$O(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const DO=/^:[\w-]+$/,LO=3,MO=2,VO=1,FO=10,jO=-2,ME=t=>t==="*";function UO(t,e){let n=t.split("/"),i=n.length;return n.some(ME)&&(i+=jO),e&&(i+=MO),n.filter(r=>!ME(r)).reduce((r,s)=>r+(DO.test(s)?LO:s===""?VO:FO),i)}function $O(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function BO(t,e,n){let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=sd({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),f=l.route;if(!d&&c&&n&&!i[i.length-1].route.index&&(d=sd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(r,d.params),o.push({params:r,pathname:yr([s,d.pathname]),pathnameBase:GO(yr([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=yr([s,d.pathnameBase]))}return o}function sd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=zO(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,h,d)=>{let{paramName:f,isOptional:g}=h;if(f==="*"){let v=a[d]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const _=a[d];return g&&!_?c[f]=void 0:c[f]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function zO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),mI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function HO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function WO(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?ua(t):t;return{pathname:n?n.startsWith("/")?n:KO(n,e):e,search:YO(i),hash:QO(r)}}function KO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Sp(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $_(t,e){let n=qO(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function B_(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=ua(t):(r=ac({},t),Me(!r.pathname||!r.pathname.includes("?"),Sp("?","pathname","search",r)),Me(!r.pathname||!r.pathname.includes("#"),Sp("#","pathname","hash",r)),Me(!r.search||!r.search.includes("#"),Sp("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!i&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;r.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=WO(r,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const yr=t=>t.join("/").replace(/\/\/+/g,"/"),GO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function XO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const vI=["post","put","patch","delete"];new Set(vI);const JO=["get",...vI];new Set(JO);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},lc.apply(this,arguments)}const rf=O.createContext(null),EI=O.createContext(null),Li=O.createContext(null),sf=O.createContext(null),Mi=O.createContext({outlet:null,matches:[],isDataRoute:!1}),wI=O.createContext(null);function ZO(t,e){let{relative:n}=e===void 0?{}:e;ha()||Me(!1);let{basename:i,navigator:r}=O.useContext(Li),{hash:s,pathname:o,search:a}=of(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:yr([i,o])),r.createHref({pathname:l,search:a,hash:s})}function ha(){return O.useContext(sf)!=null}function da(){return ha()||Me(!1),O.useContext(sf).location}function TI(t){O.useContext(Li).static||O.useLayoutEffect(t)}function an(){let{isDataRoute:t}=O.useContext(Mi);return t?pD():eD()}function eD(){ha()||Me(!1);let t=O.useContext(rf),{basename:e,future:n,navigator:i}=O.useContext(Li),{matches:r}=O.useContext(Mi),{pathname:s}=da(),o=JSON.stringify($_(r,n.v7_relativeSplatPath)),a=O.useRef(!1);return TI(()=>{a.current=!0}),O.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let d=B_(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:yr([e,d.pathname])),(h.replace?i.replace:i.push)(d,h.state,h)},[e,i,o,s,t])}const tD=O.createContext(null);function nD(t){let e=O.useContext(Mi).outlet;return e&&O.createElement(tD.Provider,{value:t},e)}function of(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=O.useContext(Li),{matches:r}=O.useContext(Mi),{pathname:s}=da(),o=JSON.stringify($_(r,i.v7_relativeSplatPath));return O.useMemo(()=>B_(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function iD(t,e){return rD(t,e)}function rD(t,e,n,i){ha()||Me(!1);let{navigator:r}=O.useContext(Li),{matches:s}=O.useContext(Mi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=da(),h;if(e){var d;let x=typeof e=="string"?ua(e):e;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||Me(!1),h=x}else h=c;let f=h.pathname||"/",g=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let _=RO(t,{pathname:g}),v=cD(_&&_.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:yr([l,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:yr([l,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,i);return e&&v?O.createElement(sf.Provider,{value:{location:lc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:rr.Pop}},v):v}function sD(){let t=fD(),e=XO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:r},n):null,null)}const oD=O.createElement(sD,null);class aD extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement(Mi.Provider,{value:this.props.routeContext},O.createElement(wI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lD(t){let{routeContext:e,match:n,children:i}=t,r=O.useContext(rf);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Mi.Provider,{value:e},i)}function cD(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||Me(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:f,errors:g}=n,_=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||_){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,f)=>{let g,_=!1,v=null,x=null;n&&(g=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||oD,l&&(c<0&&f===0?(_=!0,x=null):c===f&&(_=!0,x=d.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),E=()=>{let b;return g?b=v:_?b=x:d.route.Component?b=O.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=h,O.createElement(lD,{match:d,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?O.createElement(aD,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):E()},null)}var bI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(bI||{}),od=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(od||{});function uD(t){let e=O.useContext(rf);return e||Me(!1),e}function hD(t){let e=O.useContext(EI);return e||Me(!1),e}function dD(t){let e=O.useContext(Mi);return e||Me(!1),e}function xI(t){let e=dD(),n=e.matches[e.matches.length-1];return n.route.id||Me(!1),n.route.id}function fD(){var t;let e=O.useContext(wI),n=hD(od.UseRouteError),i=xI(od.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function pD(){let{router:t}=uD(bI.UseNavigateStable),e=xI(od.UseNavigateStable),n=O.useRef(!1);return TI(()=>{n.current=!0}),O.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,lc({fromRouteId:e},s)))},[t,e])}function gD(t){let{to:e,replace:n,state:i,relative:r}=t;ha()||Me(!1);let{future:s,static:o}=O.useContext(Li),{matches:a}=O.useContext(Mi),{pathname:l}=da(),c=an(),h=B_(e,$_(a,s.v7_relativeSplatPath),l,r==="path"),d=JSON.stringify(h);return O.useEffect(()=>c(JSON.parse(d),{replace:n,state:i,relative:r}),[c,d,r,n,i]),null}function SI(t){return nD(t.context)}function cn(t){Me(!1)}function mD(t){let{basename:e="/",children:n=null,location:i,navigationType:r=rr.Pop,navigator:s,static:o=!1,future:a}=t;ha()&&Me(!1);let l=e.replace(/^\/*/,"/"),c=O.useMemo(()=>({basename:l,navigator:s,static:o,future:lc({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=ua(i));let{pathname:h="/",search:d="",hash:f="",state:g=null,key:_="default"}=i,v=O.useMemo(()=>{let x=zo(h,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:g,key:_},navigationType:r}},[l,h,d,f,g,_,r]);return v==null?null:O.createElement(Li.Provider,{value:c},O.createElement(sf.Provider,{children:n,value:v}))}function _D(t){let{children:e,location:n}=t;return iD(sm(e),n)}new Promise(()=>{});function sm(t,e){e===void 0&&(e=[]);let n=[];return O.Children.forEach(t,(i,r)=>{if(!O.isValidElement(i))return;let s=[...e,r];if(i.type===O.Fragment){n.push.apply(n,sm(i.props.children,s));return}i.type!==cn&&Me(!1),!i.props.index||!i.props.children||Me(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=sm(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ad(){return ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ad.apply(this,arguments)}function II(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function yD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vD(t,e){return t.button===0&&(!e||e==="_self")&&!yD(t)}const ED=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],wD=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],TD="6";try{window.__reactRouterVersion=TD}catch{}const bD=O.createContext({isTransitioning:!1}),xD="startTransition",VE=mR[xD];function SD(t){let{basename:e,children:n,future:i,window:r}=t,s=O.useRef();s.current==null&&(s.current=CO({window:r,v5Compat:!0}));let o=s.current,[a,l]=O.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},h=O.useCallback(d=>{c&&VE?VE(()=>l(d)):l(d)},[l,c]);return O.useLayoutEffect(()=>o.listen(h),[o,h]),O.createElement(mD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:i})}const ID=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CD=O.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,unstable_viewTransition:d}=e,f=II(e,ED),{basename:g}=O.useContext(Li),_,v=!1;if(typeof c=="string"&&AD.test(c)&&(_=c,ID))try{let b=new URL(window.location.href),C=c.startsWith("//")?new URL(b.protocol+c):new URL(c),N=zo(C.pathname,g);C.origin===b.origin&&N!=null?c=N+C.search+C.hash:v=!0}catch{}let x=ZO(c,{relative:r}),w=PD(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:r,unstable_viewTransition:d});function E(b){i&&i(b),b.defaultPrevented||w(b)}return O.createElement("a",ad({},f,{href:_||x,onClick:v||s?i:E,ref:n,target:l}))}),Ja=O.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:c,children:h}=e,d=II(e,wD),f=of(l,{relative:d.relative}),g=da(),_=O.useContext(EI),{navigator:v,basename:x}=O.useContext(Li),w=_!=null&&RD(f)&&c===!0,E=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,b=g.pathname,C=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;r||(b=b.toLowerCase(),C=C?C.toLowerCase():null,E=E.toLowerCase()),C&&x&&(C=zo(C,x)||C);const N=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let L=b===E||!o&&b.startsWith(E)&&b.charAt(N)==="/",S=C!=null&&(C===E||!o&&C.startsWith(E)&&C.charAt(E.length)==="/"),y={isActive:L,isPending:S,isTransitioning:w},I=L?i:void 0,k;typeof s=="function"?k=s(y):k=[s,L?"active":null,S?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(y):a;return O.createElement(CD,ad({},d,{"aria-current":I,className:k,ref:n,style:R,to:l,unstable_viewTransition:c}),typeof h=="function"?h(y):h)});var om;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(om||(om={}));var FE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(FE||(FE={}));function kD(t){let e=O.useContext(rf);return e||Me(!1),e}function PD(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=an(),c=da(),h=of(t,{relative:o});return O.useCallback(d=>{if(vD(d,n)){d.preventDefault();let f=i!==void 0?i:rd(c)===rd(h);l(t,{replace:f,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,h,i,r,n,t,s,o,a])}function RD(t,e){e===void 0&&(e={});let n=O.useContext(bD);n==null&&Me(!1);let{basename:i}=kD(om.useViewTransitionState),r=of(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=zo(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=zo(n.nextLocation.pathname,i)||n.nextLocation.pathname;return sd(r.pathname,o)!=null||sd(r.pathname,s)!=null}/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Rc(t){return t+.5|0}const sr=(t,e,n)=>Math.max(Math.min(t,n),e);function dl(t){return sr(Rc(t*2.55),0,255)}function vr(t){return sr(Rc(t*255),0,255)}function di(t){return sr(Rc(t/2.55)/100,0,1)}function jE(t){return sr(Rc(t*100),0,100)}const ln={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},am=[..."0123456789ABCDEF"],ND=t=>am[t&15],OD=t=>am[(t&240)>>4]+am[t&15],Ru=t=>(t&240)>>4===(t&15),DD=t=>Ru(t.r)&&Ru(t.g)&&Ru(t.b)&&Ru(t.a);function LD(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ln[t[1]]*17,g:255&ln[t[2]]*17,b:255&ln[t[3]]*17,a:e===5?ln[t[4]]*17:255}:(e===7||e===9)&&(n={r:ln[t[1]]<<4|ln[t[2]],g:ln[t[3]]<<4|ln[t[4]],b:ln[t[5]]<<4|ln[t[6]],a:e===9?ln[t[7]]<<4|ln[t[8]]:255})),n}const MD=(t,e)=>t<255?e(t):"";function VD(t){var e=DD(t)?ND:OD;return t?"#"+e(t.r)+e(t.g)+e(t.b)+MD(t.a,e):void 0}const FD=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function AI(t,e,n){const i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function jD(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function UD(t,e,n){const i=AI(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function $D(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function z_(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,c,h;return s!==o&&(h=s-o,c=a>.5?h/(2-s-o):h/(s+o),l=$D(n,i,r,h,s),l=l*60+.5),[l|0,c||0,a]}function H_(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(vr)}function W_(t,e,n){return H_(AI,t,e,n)}function BD(t,e,n){return H_(UD,t,e,n)}function zD(t,e,n){return H_(jD,t,e,n)}function CI(t){return(t%360+360)%360}function HD(t){const e=FD.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?dl(+e[5]):vr(+e[5]));const r=CI(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=BD(r,s,o):e[1]==="hsv"?i=zD(r,s,o):i=W_(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function WD(t,e){var n=z_(t);n[0]=CI(n[0]+e),n=W_(n),t.r=n[0],t.g=n[1],t.b=n[2]}function KD(t){if(!t)return;const e=z_(t),n=e[0],i=jE(e[1]),r=jE(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${di(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const UE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},$E={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function qD(){const t={},e=Object.keys($E),n=Object.keys(UE);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,UE[s]);s=parseInt($E[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Nu;function GD(t){Nu||(Nu=qD(),Nu.transparent=[0,0,0,0]);const e=Nu[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const YD=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function QD(t){const e=YD.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?dl(o):sr(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?dl(i):sr(i,0,255)),r=255&(e[4]?dl(r):sr(r,0,255)),s=255&(e[6]?dl(s):sr(s,0,255)),{r:i,g:r,b:s,a:n}}}function XD(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${di(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Ip=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Js=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function JD(t,e,n){const i=Js(di(t.r)),r=Js(di(t.g)),s=Js(di(t.b));return{r:vr(Ip(i+n*(Js(di(e.r))-i))),g:vr(Ip(r+n*(Js(di(e.g))-r))),b:vr(Ip(s+n*(Js(di(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Ou(t,e,n){if(t){let i=z_(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=W_(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function kI(t,e){return t&&Object.assign(e||{},t)}function BE(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=vr(t[3]))):(e=kI(t,{r:0,g:0,b:0,a:1}),e.a=vr(e.a)),e}function ZD(t){return t.charAt(0)==="r"?QD(t):HD(t)}class cc{constructor(e){if(e instanceof cc)return e;const n=typeof e;let i;n==="object"?i=BE(e):n==="string"&&(i=LD(e)||GD(e)||ZD(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=kI(this._rgb);return e&&(e.a=di(e.a)),e}set rgb(e){this._rgb=BE(e)}rgbString(){return this._valid?XD(this._rgb):void 0}hexString(){return this._valid?VD(this._rgb):void 0}hslString(){return this._valid?KD(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=JD(this._rgb,e._rgb,n)),this}clone(){return new cc(this.rgb)}alpha(e){return this._rgb.a=vr(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Rc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ou(this._rgb,2,e),this}darken(e){return Ou(this._rgb,2,-e),this}saturate(e){return Ou(this._rgb,1,e),this}desaturate(e){return Ou(this._rgb,1,-e),this}rotate(e){return WD(this._rgb,e),this}}/*!
 * Chart.js v4.4.4
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function ai(){}const eL=(()=>{let t=0;return()=>t++})();function Ee(t){return t===null||typeof t>"u"}function De(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function me(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function rt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Gt(t,e){return rt(t)?t:e}function _e(t,e){return typeof t>"u"?e:t}const tL=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function be(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ye(t,e,n,i){let r,s,o;if(De(t))for(s=t.length,r=0;r<s;r++)e.call(n,t[r],r);else if(me(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function ld(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function cd(t){if(De(t))return t.map(cd);if(me(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=cd(t[n[r]]);return e}return t}function PI(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function nL(t,e,n,i){if(!PI(t))return;const r=e[t],s=n[t];me(r)&&me(s)?uc(r,s,i):e[t]=cd(s)}function uc(t,e,n){const i=De(e)?e:[e],r=i.length;if(!me(t))return t;n=n||{};const s=n.merger||nL;let o;for(let a=0;a<r;++a){if(o=i[a],!me(o))continue;const l=Object.keys(o);for(let c=0,h=l.length;c<h;++c)s(l[c],t,o,n)}return t}function Pl(t,e){return uc(t,e,{merger:iL})}function iL(t,e,n){if(!PI(t))return;const i=e[t],r=n[t];me(i)&&me(r)?Pl(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=cd(r))}const zE={"":t=>t,x:t=>t.x,y:t=>t.y};function rL(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function sL(t){const e=rL(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function Ho(t,e){return(zE[e]||(zE[e]=sL(e)))(t)}function K_(t){return t.charAt(0).toUpperCase()+t.slice(1)}const hc=t=>typeof t<"u",Ir=t=>typeof t=="function",HE=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function oL(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ot=Math.PI,qn=2*ot,ud=Number.POSITIVE_INFINITY,aL=ot/180,Xt=ot/2,Yr=ot/4,WE=ot*2/3,or=Math.log10,Er=Math.sign;function yh(t,e,n){return Math.abs(t-e)<n}function KE(t){const e=Math.round(t);t=yh(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(or(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function lL(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function hd(t){return!isNaN(parseFloat(t))&&isFinite(t)}function cL(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function RI(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function ar(t){return t*(ot/180)}function q_(t){return t*(180/ot)}function qE(t){if(!rt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function uL(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*ot&&(s+=qn),{angle:s,distance:r}}function hL(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function $n(t){return(t%qn+qn)%qn}function dL(t,e,n,i){const r=$n(t),s=$n(e),o=$n(n),a=$n(s-r),l=$n(o-r),c=$n(r-s),h=$n(r-o);return r===s||r===o||i&&s===o||a>l&&c<h}function kn(t,e,n){return Math.max(e,Math.min(n,t))}function fL(t){return kn(t,-32768,32767)}function Eo(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function G_(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const lm=(t,e,n,i)=>G_(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),pL=(t,e,n)=>G_(t,n,i=>t[i][e]>=n);function gL(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const NI=["push","pop","shift","splice","unshift"];function mL(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),NI.forEach(n=>{const i="_onData"+K_(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function GE(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(NI.forEach(s=>{delete t[s]}),delete t._chartjs)}function OI(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const DI=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function LI(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,DI.call(window,()=>{i=!1,t.apply(e,n)}))}}function _L(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Y_=t=>t==="start"?"left":t==="end"?"right":"center",wt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,yL=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e,Du=t=>t===0||t===1,YE=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*qn/n)),QE=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*qn/n)+1,Rl={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Xt)+1,easeOutSine:t=>Math.sin(t*Xt),easeInOutSine:t=>-.5*(Math.cos(ot*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Du(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Du(t)?t:YE(t,.075,.3),easeOutElastic:t=>Du(t)?t:QE(t,.075,.3),easeInOutElastic(t){return Du(t)?t:t<.5?.5*YE(t*2,.1125,.45):.5+.5*QE(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Rl.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Rl.easeInBounce(t*2)*.5:Rl.easeOutBounce(t*2-1)*.5+.5};function MI(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function XE(t){return MI(t)?t:new cc(t)}function Ap(t){return MI(t)?t:new cc(t).saturate(.5).darken(.1).hexString()}const vL=["x","y","borderWidth","radius","tension"],EL=["color","borderColor","backgroundColor"];function wL(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:EL},numbers:{type:"number",properties:vL}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function TL(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const JE=new Map;function bL(t,e){e=e||{};const n=t+JSON.stringify(e);let i=JE.get(n);return i||(i=new Intl.NumberFormat(t,e),JE.set(n,i)),i}function Q_(t,e,n){return bL(e,n).format(t)}const VI={values(t){return De(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=xL(t,n)}const o=or(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Q_(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(or(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?VI.numeric.call(this,t,e,n):""}};function xL(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var af={formatters:VI};function SL(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:af.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ts=Object.create(null),cm=Object.create(null);function Nl(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function Cp(t,e,n){return typeof e=="string"?uc(Nl(t,e),n):uc(Nl(t,""),e)}class IL{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Ap(r.backgroundColor),this.hoverBorderColor=(i,r)=>Ap(r.borderColor),this.hoverColor=(i,r)=>Ap(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Cp(this,e,n)}get(e){return Nl(this,e)}describe(e,n){return Cp(cm,e,n)}override(e,n){return Cp(Ts,e,n)}route(e,n,i,r){const s=Nl(this,e),o=Nl(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[r];return me(l)?Object.assign({},c,l):_e(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var $e=new IL({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[wL,TL,SL]);function AL(t){return!t||Ee(t.size)||Ee(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function dd(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function CL(t,e,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,h,d,f;for(l=0;l<a;l++)if(d=n[l],d!=null&&!De(d))o=dd(t,r,s,o,d);else if(De(d))for(c=0,h=d.length;c<h;c++)f=d[c],f!=null&&!De(f)&&(o=dd(t,r,s,o,f));t.restore();const g=s.length/2;if(g>n.length){for(l=0;l<g;l++)delete r[s[l]];s.splice(0,g)}return o}function Qr(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function ZE(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function ew(t,e,n,i){FI(t,e,n,i,null)}function FI(t,e,n,i,r){let s,o,a,l,c,h,d,f;const g=e.pointStyle,_=e.rotation,v=e.radius;let x=(_||0)*aL;if(g&&typeof g=="object"&&(s=g.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(x),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),g){default:r?t.ellipse(n,i,r/2,v,0,0,qn):t.arc(n,i,v,0,qn),t.closePath();break;case"triangle":h=r?r/2:v,t.moveTo(n+Math.sin(x)*h,i-Math.cos(x)*v),x+=WE,t.lineTo(n+Math.sin(x)*h,i-Math.cos(x)*v),x+=WE,t.lineTo(n+Math.sin(x)*h,i-Math.cos(x)*v),t.closePath();break;case"rectRounded":c=v*.516,l=v-c,o=Math.cos(x+Yr)*l,d=Math.cos(x+Yr)*(r?r/2-c:l),a=Math.sin(x+Yr)*l,f=Math.sin(x+Yr)*(r?r/2-c:l),t.arc(n-d,i-a,c,x-ot,x-Xt),t.arc(n+f,i-o,c,x-Xt,x),t.arc(n+d,i+a,c,x,x+Xt),t.arc(n-f,i+o,c,x+Xt,x+ot),t.closePath();break;case"rect":if(!_){l=Math.SQRT1_2*v,h=r?r/2:l,t.rect(n-h,i-l,2*h,2*l);break}x+=Yr;case"rectRot":d=Math.cos(x)*(r?r/2:v),o=Math.cos(x)*v,a=Math.sin(x)*v,f=Math.sin(x)*(r?r/2:v),t.moveTo(n-d,i-a),t.lineTo(n+f,i-o),t.lineTo(n+d,i+a),t.lineTo(n-f,i+o),t.closePath();break;case"crossRot":x+=Yr;case"cross":d=Math.cos(x)*(r?r/2:v),o=Math.cos(x)*v,a=Math.sin(x)*v,f=Math.sin(x)*(r?r/2:v),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"star":d=Math.cos(x)*(r?r/2:v),o=Math.cos(x)*v,a=Math.sin(x)*v,f=Math.sin(x)*(r?r/2:v),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o),x+=Yr,d=Math.cos(x)*(r?r/2:v),o=Math.cos(x)*v,a=Math.sin(x)*v,f=Math.sin(x)*(r?r/2:v),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"line":o=r?r/2:Math.cos(x)*v,a=Math.sin(x)*v,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(x)*(r?r/2:v),i+Math.sin(x)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function wo(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function X_(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function J_(t){t.restore()}function kL(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ee(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function PL(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,h=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,h),t.lineTo(a,h),t.stroke()}}function RL(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function bs(t,e,n,i,r,s={}){const o=De(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,kL(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&RL(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Ee(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),PL(t,n,i,c,s),i+=Number(r.lineHeight);t.restore()}function dc(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*ot,ot,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,ot,Xt,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Xt,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Xt,!0),t.lineTo(n+o.topLeft,i)}const NL=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,OL=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function DL(t,e){const n=(""+t).match(NL);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const LL=t=>+t||0;function jI(t,e){const n={},i=me(e),r=i?Object.keys(e):e,s=me(t)?i?o=>_e(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=LL(s(o));return n}function UI(t){return jI(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ds(t){return jI(t,["topLeft","topRight","bottomLeft","bottomRight"])}function It(t){const e=UI(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function et(t,e){t=t||{},e=e||$e.font;let n=_e(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=_e(t.style,e.style);i&&!(""+i).match(OL)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:_e(t.family,e.family),lineHeight:DL(_e(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:_e(t.weight,e.weight),string:""};return r.string=AL(r),r}function Lu(t,e,n,i){let r,s,o;for(r=0,s=t.length;r<s;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function ML(t,e,n){const{min:i,max:r}=t,s=tL(e,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Ms(t,e){return Object.assign(Object.create(t),e)}function Z_(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=HI("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>Z_([a,...t],e,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return BI(a,l,()=>HL(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return nw(a).includes(l)},ownKeys(a){return nw(a)},set(a,l,c){const h=a._storage||(a._storage=r());return a[l]=h[l]=c,delete a._keys,!0}})}function Wo(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:$I(t,i),setContext:s=>Wo(t,s,n,i),override:s=>Wo(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return BI(s,o,()=>FL(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function $I(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Ir(n)?n:()=>n,isIndexable:Ir(i)?i:()=>i}}const VL=(t,e)=>t?t+K_(e):e,ey=(t,e)=>me(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function BI(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function FL(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];return Ir(a)&&o.isScriptable(e)&&(a=jL(e,a,t,n)),De(a)&&a.length&&(a=UL(e,a,t,o.isIndexable)),ey(e,a)&&(a=Wo(a,r,s&&s[e],o)),a}function jL(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||i);return a.delete(t),ey(t,l)&&(l=ty(r._scopes,r,t,l)),l}function UL(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(me(e[0])){const l=e,c=r._scopes.filter(h=>h!==l);e=[];for(const h of l){const d=ty(c,r,t,h);e.push(Wo(d,s,o&&o[t],a))}}return e}function zI(t,e,n){return Ir(t)?t(e,n):t}const $L=(t,e)=>t===!0?e:typeof t=="string"?Ho(e,t):void 0;function BL(t,e,n,i,r){for(const s of e){const o=$L(n,s);if(o){t.add(o);const a=zI(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function ty(t,e,n,i){const r=e._rootScopes,s=zI(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=tw(a,o,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=tw(a,o,s,l,i),l===null)?!1:Z_(Array.from(a),[""],r,s,()=>zL(e,n,i))}function tw(t,e,n,i,r){for(;n;)n=BL(t,e,n,i,r);return n}function zL(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return De(r)&&me(n)?n:r||{}}function HL(t,e,n,i){let r;for(const s of e)if(r=HI(VL(s,t),n),typeof r<"u")return ey(t,r)?ty(n,i,t,r):r}function HI(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function nw(t){let e=t._keys;return e||(e=t._keys=WL(t._scopes)),e}function WL(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function ny(){return typeof window<"u"&&typeof document<"u"}function iy(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function fd(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const lf=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function KL(t,e){return lf(t).getPropertyValue(e)}const qL=["top","right","bottom","left"];function fs(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=qL[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const GL=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function YL(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(GL(r,s,t.target))a=r,l=s;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function ts(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=lf(n),s=r.boxSizing==="border-box",o=fs(r,"padding"),a=fs(r,"border","width"),{x:l,y:c,box:h}=YL(t,n),d=o.left+(h&&a.left),f=o.top+(h&&a.top);let{width:g,height:_}=e;return s&&(g-=o.width+a.width,_-=o.height+a.height),{x:Math.round((l-d)/g*n.width/i),y:Math.round((c-f)/_*n.height/i)}}function QL(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&iy(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=lf(s),l=fs(a,"border","width"),c=fs(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=fd(a.maxWidth,s,"clientWidth"),r=fd(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||ud,maxHeight:r||ud}}const Mu=t=>Math.round(t*10)/10;function XL(t,e,n,i){const r=lf(t),s=fs(r,"margin"),o=fd(r.maxWidth,t,"clientWidth")||ud,a=fd(r.maxHeight,t,"clientHeight")||ud,l=QL(t,e,n);let{width:c,height:h}=l;if(r.boxSizing==="content-box"){const f=fs(r,"border","width"),g=fs(r,"padding");c-=g.width+f.width,h-=g.height+f.height}return c=Math.max(0,c-s.width),h=Math.max(0,i?c/i:h-s.height),c=Mu(Math.min(c,o,l.maxWidth)),h=Mu(Math.min(h,a,l.maxHeight)),c&&!h&&(h=Mu(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&h>l.height&&(h=l.height,c=Mu(Math.floor(h*i))),{width:c,height:h}}function iw(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const JL=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};ny()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function rw(t,e){const n=KL(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const ZL=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},eM=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Po(t,e,n){return t?ZL(e,n):eM()}function WI(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function KI(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}/*!
 * Chart.js v4.4.4
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class tM{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=DI.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var li=new tM;const sw="transparent",nM={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=XE(t||sw),r=i.valid&&XE(e||sw);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class iM{constructor(e,n,i,r){const s=n[i];r=Lu([e.to,r,s,e.from]);const o=Lu([e.from,s,r]);this._active=!0,this._fn=e.fn||nM[e.type||typeof o],this._easing=Rl[e.easing]||Rl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Lu([e.to,n,r,e.from]),this._from=Lu([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class qI{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!me(e))return;const n=Object.keys($e.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!me(s))return;const o={};for(const a of n)o[a]=s[a];(De(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,r=sM(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&rM(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}const h=n[c];let d=s[c];const f=i.get(c);if(d)if(f&&d.active()){d.update(f,h,a);continue}else d.cancel();if(!f||!f.duration){e[c]=h;continue}s[c]=d=new iM(f,e,c,h),r.push(d)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return li.add(this._chart,i),!0}}function rM(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function sM(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function ow(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function oM(t,e,n){if(n===!1)return!1;const i=ow(t,n),r=ow(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function aM(t){let e,n,i,r;return me(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function GI(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function aw(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}c=t.values[l],rt(c)&&(s||e===0||Er(e)===Er(c))&&(e+=c)}return e}}function lM(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,h;for(l=0,c=o.length;l<c;++l)h=o[l],a[l]={[r]:h,[s]:t[h]};return a}function lw(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function cM(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function uM(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function hM(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function cw(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function uw(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,h=cM(s,o,i),d=e.length;let f;for(let g=0;g<d;++g){const _=e[g],{[l]:v,[c]:x}=_,w=_._stacks||(_._stacks={});f=w[c]=hM(r,h,v),f[a]=x,f._top=cw(f,o,!0,i.type),f._bottom=cw(f,o,!1,i.type);const E=f._visualValues||(f._visualValues={});E[a]=x}}function kp(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function dM(t,e){return Ms(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function fM(t,e,n){return Ms(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Za(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const Pp=t=>t==="reset"||t==="none",hw=(t,e)=>e?t:Object.assign({},t),pM=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:GI(n,!0),values:null};class Ol{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=lw(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Za(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(d,f,g,_)=>d==="x"?f:d==="r"?_:g,s=n.xAxisID=_e(i.xAxisID,kp(e,"x")),o=n.yAxisID=_e(i.yAxisID,kp(e,"y")),a=n.rAxisID=_e(i.rAxisID,kp(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,s,o,a),h=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&GE(this._data,this),e._stacked&&Za(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(me(n)){const r=this._cachedMeta;this._data=lM(n,r)}else if(i!==n){if(i){GE(i,this);const r=this._cachedMeta;Za(r),r._parsed=[]}n&&Object.isExtensible(n)&&mL(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=lw(n.vScale,n),n.stack!==i.stack&&(r=!0,Za(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&uw(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=e===0&&n===r.length?!0:i._sorted,c=e>0&&i._parsed[e-1],h,d,f;if(this._parsing===!1)i._parsed=r,i._sorted=!0,f=r;else{De(r[e])?f=this.parseArrayData(i,r,e,n):me(r[e])?f=this.parseObjectData(i,r,e,n):f=this.parsePrimitiveData(i,r,e,n);const g=()=>d[a]===null||c&&d[a]<c[a];for(h=0;h<n;++h)i._parsed[h+e]=d=f[h],l&&(g()&&(l=!1),c=d);i._sorted=l}o&&uw(this,f)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),h=s===o,d=new Array(r);let f,g,_;for(f=0,g=r;f<g;++f)_=f+i,d[f]={[a]:h||s.parse(c[_],_),[l]:o.parse(n[_],_)};return d}parseArrayData(e,n,i,r){const{xScale:s,yScale:o}=e,a=new Array(r);let l,c,h,d;for(l=0,c=r;l<c;++l)h=l+i,d=n[h],a[l]={x:s.parse(d[0],h),y:o.parse(d[1],h)};return a}parseObjectData(e,n,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let h,d,f,g;for(h=0,d=r;h<d;++h)f=h+i,g=n[f],c[h]={x:s.parse(Ho(g,a),f),y:o.parse(Ho(g,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:GI(r,!0),values:n._stacks[e.axis]._visualValues};return aw(a,o,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=aw(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,a=this._getOtherScale(e),l=pM(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:d}=uM(a);let f,g;function _(){g=r[f];const v=g[a.axis];return!rt(g[e.axis])||h>v||d<v}for(f=0;f<o&&!(!_()&&(this.updateRangeFromParsed(c,e,g,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!_()){this.updateRangeFromParsed(c,e,g,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][e.axis],rt(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=aM(_e(this.options.clip,oM(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,s,a,l),h=a;h<a+l;++h){const d=r[h];d.hidden||(d.active&&c?o.push(d):d.draw(e,s))}for(h=0;h<o.length;++h)o[h].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=fM(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=dM(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&hc(i);if(a)return hw(a,l);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,e),d=r?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),h),g=Object.keys($e.elements[e]),_=()=>this.getContext(i,r,n),v=c.resolveNamedOptions(f,g,_,d);return v.$shared&&(v.$shared=l,s[o]=Object.freeze(hw(v,l))),v}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const h=this.chart.config,d=h.datasetAnimationScopeKeys(this._type,n),f=h.getOptionScopes(this.getDataset(),d);l=h.createResolver(f,this.getContext(e,i,n))}const c=new qI(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Pp(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(e,n,i,r){Pp(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!Pp(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&Za(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}re(Ol,"defaults",{}),re(Ol,"datasetElementType",null),re(Ol,"dataElementType",null);function gM(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=OI(i.sort((r,s)=>r-s))}return t._cache.$bar}function mM(t){const e=t.iScale,n=gM(e,t.type);let i=e._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(hc(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=n.length;r<s;++r)o=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),l();return i}function _M(t,e,n,i){const r=n.barThickness;let s,o;return Ee(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}function yM(t,e,n,i){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function vM(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}function YI(t,e,n,i){return De(t)?vM(t,e,n,i):e[n.axis]=n.parse(t,i),e}function dw(t,e,n,i){const r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[];let c,h,d,f;for(c=n,h=n+i;c<h;++c)f=e[c],d={},d[r.axis]=a||r.parse(o[c],c),l.push(YI(f,d,s,c));return l}function Rp(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function EM(t,e,n){return t!==0?Er(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function wM(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}function TM(t,e,n,i){let r=e.borderSkipped;const s={};if(!r){t.borderSkipped=s;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:h}=wM(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=h:(s[fw(h,o,a,l)]=!0,r=c)),s[fw(r,o,a,l)]=!0,t.borderSkipped=s}function fw(t,e,n,i){return i?(t=bM(t,e,n),t=pw(t,n,e)):t=pw(t,e,n),t}function bM(t,e,n){return t===e?n:t===n?e:t}function pw(t,e,n){return t==="start"?e:t==="end"?n:t}function xM(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class vh extends Ol{parsePrimitiveData(e,n,i,r){return dw(e,n,i,r)}parseArrayData(e,n,i,r){return dw(e,n,i,r)}parseObjectData(e,n,i,r){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,h=o.axis==="x"?a:l,d=[];let f,g,_,v;for(f=i,g=i+r;f<g;++f)v=n[f],_={},_[s.axis]=s.parse(Ho(v,c),f),d.push(YI(Ho(v,h),_,o,f));return d}updateRangeFromParsed(e,n,i,r){super.updateRangeFromParsed(e,n,i,r);const s=i._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:r}=n,s=this.getParsed(e),o=s._custom,a=Rp(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),h=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,r);for(let g=n;g<n+i;g++){const _=this.getParsed(g),v=s||Ee(_[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),x=this._calculateBarIndexPixels(g,h),w=(_._stacks||{})[a.axis],E={horizontal:c,base:v.base,enableBorderRadius:!w||Rp(_._custom)||o===w._top||o===w._bottom,x:c?v.head:x.center,y:c?x.center:v.head,height:c?x.size:Math.abs(v.size),width:c?Math.abs(v.size):x.size};f&&(E.options=d||this.resolveDataElementOptions(g,e[g].active?"active":r));const b=E.options||e[g].options;TM(E,b,w,o),xM(E,b,h.ratio),this.updateElement(e[g],g,E,r)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[i.axis],c=h=>{const d=h._parsed.find(g=>g[i.axis]===l),f=d&&d[h.vScale.axis];if(Ee(f)||isNaN(f))return!0};for(const h of r)if(!(n!==void 0&&c(h))&&((s===!1||o.indexOf(h.stack)===-1||s===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const r=this._getStacks(e,i),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,r=[];let s,o;for(s=0,o=n.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=e.barThickness;return{min:a||mM(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,h=Rp(c);let d=l[n.axis],f=0,g=i?this.applyStack(n,l,i):d,_,v;g!==d&&(f=g-d,g=d),h&&(d=c.barStart,g=c.barEnd-c.barStart,d!==0&&Er(d)!==Er(c.barEnd)&&(f=0),f+=d);const x=!Ee(s)&&!h?s:f;let w=n.getPixelForValue(x);if(this.chart.getDataVisibility(e)?_=n.getPixelForValue(f+g):_=w,v=_-w,Math.abs(v)<o){v=EM(v,n,a)*o,d===a&&(w-=v/2);const E=n.getPixelForDecimal(0),b=n.getPixelForDecimal(1),C=Math.min(E,b),N=Math.max(E,b);w=Math.max(Math.min(w,N),C),_=w+v,i&&!h&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(_)-n.getValueForPixel(w))}if(w===n.getPixelForValue(a)){const E=Er(v)*n.getLineWidthForValue(a)/2;w+=E,v-=E}return{size:v,base:w,head:_,center:_+v/2}}_calculateBarIndexPixels(e,n){const i=n.scale,r=this.options,s=r.skipNull,o=_e(r.maxBarThickness,1/0);let a,l;if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,h=r.barThickness==="flex"?yM(e,n,r,c):_M(e,n,r,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=h.start+h.chunk*d+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}re(vh,"id","bar"),re(vh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),re(vh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Xr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ry{constructor(e){re(this,"options");this.options=e||{}}static override(e){Object.assign(ry.prototype,e)}init(){}formats(){return Xr()}parse(){return Xr()}format(){return Xr()}add(){return Xr()}diff(){return Xr()}startOf(){return Xr()}endOf(){return Xr()}}var SM={_date:ry};function IM(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?pL:lm;if(i){if(r._sharedOptions){const c=s[0],h=typeof c.getRange=="function"&&c.getRange(e);if(h){const d=l(s,e,n-h),f=l(s,e,n+h);return{lo:d.lo,hi:f.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function Nc(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:h}=s[a],{lo:d,hi:f}=IM(s[a],e,o,r);for(let g=d;g<=f;++g){const _=h[g];_.skip||i(_,c,g)}}}function AM(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Np(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||Nc(t,n,e,function(a,l,c){!r&&!wo(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function CM(t,e,n,i){let r=[];function s(o,a,l){const{startAngle:c,endAngle:h}=o.getProps(["startAngle","endAngle"],i),{angle:d}=uL(o,{x:e.x,y:e.y});dL(d,c,h)&&r.push({element:o,datasetIndex:a,index:l})}return Nc(t,n,e,s),r}function kM(t,e,n,i,r,s){let o=[];const a=AM(n);let l=Number.POSITIVE_INFINITY;function c(h,d,f){const g=h.inRange(e.x,e.y,r);if(i&&!g)return;const _=h.getCenterPoint(r);if(!(!!s||t.isPointInArea(_))&&!g)return;const x=a(e,_);x<l?(o=[{element:h,datasetIndex:d,index:f}],l=x):x===l&&o.push({element:h,datasetIndex:d,index:f})}return Nc(t,n,e,c),o}function Op(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?CM(t,e,n,r):kM(t,e,n,i,r,s)}function gw(t,e,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Nc(t,n,e,(l,c,h)=>{l[o]&&l[o](e[n],r)&&(s.push({element:l,datasetIndex:c,index:h}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:s}var PM={evaluateInteractionItems:Nc,modes:{index(t,e,n,i){const r=ts(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Np(t,r,s,i,o):Op(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const h=a[0].index,d=c.data[h];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:h})}),l):[]},dataset(t,e,n,i){const r=ts(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Np(t,r,s,i,o):Op(t,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let h=0;h<c.length;++h)a.push({element:c[h],datasetIndex:l,index:h})}return a},point(t,e,n,i){const r=ts(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Np(t,r,s,i,o)},nearest(t,e,n,i){const r=ts(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Op(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=ts(e,t);return gw(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=ts(e,t);return gw(t,r,"y",n.intersect,i)}}};const QI=["left","top","right","bottom"];function el(t,e){return t.filter(n=>n.pos===e)}function mw(t,e){return t.filter(n=>QI.indexOf(n.pos)===-1&&n.box.axis===e)}function tl(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function RM(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function NM(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!QI.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function OM(t,e){const n=NM(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],h=c&&a.stackWeight/c.weight;a.horizontal?(a.width=h?h*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=h?h*r:l&&e.availableHeight)}return n}function DM(t){const e=RM(t),n=tl(e.filter(c=>c.box.fullSize),!0),i=tl(el(e,"left"),!0),r=tl(el(e,"right")),s=tl(el(e,"top"),!0),o=tl(el(e,"bottom")),a=mw(e,"x"),l=mw(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:el(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function _w(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function XI(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function LM(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!me(r)){n.size&&(t[r]-=n.size);const d=i[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[r]+=n.size}s.getPadding&&XI(o,s.getPadding());const a=Math.max(0,e.outerWidth-_w(o,t,"left","right")),l=Math.max(0,e.outerHeight-_w(o,t,"top","bottom")),c=a!==t.w,h=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:h}:{same:h,other:c}}function MM(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function VM(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function fl(t,e,n,i){const r=[];let s,o,a,l,c,h;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,VM(a.horizontal,e));const{same:d,other:f}=LM(e,n,a,i);c|=d&&r.length,h=h||f,l.fullSize||r.push(a)}return c&&fl(r,e,n,i)||h}function Vu(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function yw(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*h,f=c.size||l.height;hc(c.start)&&(o=c.start),l.fullSize?Vu(l,r.left,o,n.outerWidth-r.right-r.left,f):Vu(l,e.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*h,f=c.size||l.width;hc(c.start)&&(s=c.start),l.fullSize?Vu(l,s,r.top,f,n.outerHeight-r.bottom-r.top):Vu(l,s,e.top+c.placed,f,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=o}var pn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=It(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=DM(t.boxes),l=a.vertical,c=a.horizontal;ye(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const h=l.reduce((v,x)=>x.box.options&&x.box.options.display===!1?v:v+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/h,hBoxMaxHeight:o/2}),f=Object.assign({},r);XI(f,It(i));const g=Object.assign({maxPadding:f,w:s,h:o,x:r.left,y:r.top},r),_=OM(l.concat(c),d);fl(a.fullSize,g,d,_),fl(l,g,d,_),fl(c,g,d,_)&&fl(l,g,d,_),MM(g),yw(a.leftAndTop,g,d,_),g.x+=g.w,g.y+=g.h,yw(a.rightAndBottom,g,d,_),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},ye(a.chartArea,v=>{const x=v.box;Object.assign(x,t.chartArea),x.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class JI{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class FM extends JI{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Eh="$chartjs",jM={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},vw=t=>t===null||t==="";function UM(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[Eh]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",vw(r)){const s=rw(t,"width");s!==void 0&&(t.width=s)}if(vw(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=rw(t,"height");s!==void 0&&(t.height=s)}return t}const ZI=JL?{passive:!0}:!1;function $M(t,e,n){t&&t.addEventListener(e,n,ZI)}function BM(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,ZI)}function zM(t,e){const n=jM[t.type]||t.type,{x:i,y:r}=ts(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function pd(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function HM(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||pd(a.addedNodes,i),o=o&&!pd(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function WM(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||pd(a.removedNodes,i),o=o&&!pd(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const fc=new Map;let Ew=0;function eA(){const t=window.devicePixelRatio;t!==Ew&&(Ew=t,fc.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function KM(t,e){fc.size||window.addEventListener("resize",eA),fc.set(t,e)}function qM(t){fc.delete(t),fc.size||window.removeEventListener("resize",eA)}function GM(t,e,n){const i=t.canvas,r=i&&iy(i);if(!r)return;const s=LI((a,l)=>{const c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||s(c,h)});return o.observe(r),KM(t,s),o}function Dp(t,e,n){n&&n.disconnect(),e==="resize"&&qM(t)}function YM(t,e,n){const i=t.canvas,r=LI(s=>{t.ctx!==null&&n(zM(s,t))},t);return $M(i,e,r),r}class QM extends JI{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(UM(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Eh])return!1;const i=n[Eh].initial;["height","width"].forEach(s=>{const o=i[s];Ee(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[Eh],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:HM,detach:WM,resize:GM}[n]||YM;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:Dp,detach:Dp,resize:Dp}[n]||BM)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return XL(e,n,i,r)}isAttached(e){const n=e&&iy(e);return!!(n&&n.isConnected)}}function XM(t){return!ny()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?FM:QM}var sh;let fa=(sh=class{constructor(){re(this,"x");re(this,"y");re(this,"active",!1);re(this,"options");re(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return hd(this.x)&&hd(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}},re(sh,"defaults",{}),re(sh,"defaultRoutes"),sh);function JM(t,e){const n=t.options.ticks,i=ZM(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?t2(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return n2(e,c,s,o/r),c;const h=e2(s,e,r);if(o>0){let d,f;const g=o>1?Math.round((l-a)/(o-1)):null;for(Fu(e,c,h,Ee(g)?0:a-g,a),d=0,f=o-1;d<f;d++)Fu(e,c,h,s[d],s[d+1]);return Fu(e,c,h,l,Ee(g)?e.length:l+g),c}return Fu(e,c,h),c}function ZM(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function e2(t,e,n){const i=i2(t),r=e.length/n;if(!i)return Math.max(r,1);const s=lL(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function t2(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function n2(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function Fu(t,e,n,i,r){const s=_e(i,0),o=Math.min(_e(r,t.length),t.length);let a=0,l,c,h;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),h=s;h<0;)a++,h=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===h&&(e.push(t[c]),a++,h=Math.round(s+a*n))}function i2(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const r2=t=>t==="left"?"right":t==="right"?"left":t,ww=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Tw=(t,e)=>Math.min(e||t,t);function bw(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function s2(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-a||l>o+a)))return l}function o2(t,e){ye(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function nl(t){return t.drawTicks?t.tickLength:0}function xw(t,e){if(!t.display)return 0;const n=et(t.font,e),i=It(t.padding);return(De(t.text)?t.text.length:1)*n.lineHeight+i.height}function a2(t,e){return Ms(t,{scale:e,type:"scale"})}function l2(t,e,n){return Ms(t,{tick:n,index:e,type:"tick"})}function c2(t,e,n){let i=Y_(t);return(n&&e!=="right"||!n&&e==="right")&&(i=r2(i)),i}function u2(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:h}=l;let d=0,f,g,_;const v=o-r,x=a-s;if(t.isHorizontal()){if(g=wt(i,s,a),me(n)){const w=Object.keys(n)[0],E=n[w];_=h[w].getPixelForValue(E)+v-e}else n==="center"?_=(c.bottom+c.top)/2+v-e:_=ww(t,n,e);f=a-s}else{if(me(n)){const w=Object.keys(n)[0],E=n[w];g=h[w].getPixelForValue(E)-x+e}else n==="center"?g=(c.left+c.right)/2-x+e:g=ww(t,n,e);_=wt(i,o,r),d=n==="left"?-Xt:Xt}return{titleX:g,titleY:_,maxWidth:f,rotation:d}}class Vs extends fa{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=Gt(e,Number.POSITIVE_INFINITY),n=Gt(n,Number.NEGATIVE_INFINITY),i=Gt(i,Number.POSITIVE_INFINITY),r=Gt(r,Number.NEGATIVE_INFINITY),{min:Gt(e,i),max:Gt(n,r),minDefined:rt(e),maxDefined:rt(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Gt(n,Gt(i,n)),max:Gt(i,Gt(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){be(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ML(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?bw(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=JM(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){be(this.options.afterUpdate,[this])}beforeSetDimensions(){be(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){be(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),be(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){be(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=be(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){be(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){be(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=Tw(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const h=this._getLabelSizes(),d=h.widest.width,f=h.highest.height,g=kn(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/i:g/(i-1),d+6>a&&(a=g/(i-(e.offset?.5:1)),l=this.maxHeight-nl(e.grid)-n.padding-xw(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=q_(Math.min(Math.asin(kn((h.highest.height+6)/a,-1,1)),Math.asin(kn(l/c,-1,1))-Math.asin(kn(f/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){be(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){be(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=xw(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=nl(s)+l):(e.height=this.maxHeight,e.width=nl(s)+l),i.display&&this.ticks.length){const{first:c,last:h,widest:d,highest:f}=this._getLabelSizes(),g=i.padding*2,_=ar(this.labelRotation),v=Math.cos(_),x=Math.sin(_);if(a){const w=i.mirror?0:x*d.width+v*f.height;e.height=Math.min(this.maxHeight,e.height+w+g)}else{const w=i.mirror?0:v*d.width+x*f.height;e.width=Math.min(this.maxWidth,e.width+w+g)}this._calculatePadding(c,h,x,v)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;l?c?(f=r*e.width,g=i*n.height):(f=i*e.height,g=r*n.width):s==="start"?g=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,g=n.width/2),this.paddingLeft=Math.max((f-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-d+o)*this.width/(this.width-d),0)}else{let h=n.height/2,d=e.height/2;s==="start"?(h=0,d=e.height):s==="end"&&(h=n.height,d=0),this.paddingTop=h+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){be(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Ee(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=bw(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/Tw(n,i));let c=0,h=0,d,f,g,_,v,x,w,E,b,C,N;for(d=0;d<n;d+=l){if(_=e[d].label,v=this._resolveTickFontOptions(d),r.font=x=v.string,w=s[x]=s[x]||{data:{},gc:[]},E=v.lineHeight,b=C=0,!Ee(_)&&!De(_))b=dd(r,w.data,w.gc,b,_),C=E;else if(De(_))for(f=0,g=_.length;f<g;++f)N=_[f],!Ee(N)&&!De(N)&&(b=dd(r,w.data,w.gc,b,N),C+=E);o.push(b),a.push(C),c=Math.max(b,c),h=Math.max(C,h)}o2(s,n);const L=o.indexOf(c),S=a.indexOf(h),y=I=>({width:o[I]||0,height:a[I]||0});return{first:y(0),last:y(n-1),widest:y(L),highest:y(S),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return fL(this._alignToPixels?Qr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=l2(this.getContext(),e,i))}return this.$context||(this.$context=a2(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ar(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=nl(s),g=[],_=a.setContext(this.getContext()),v=_.display?_.width:0,x=v/2,w=function(ie){return Qr(i,ie,v)};let E,b,C,N,L,S,y,I,k,R,D,P;if(o==="top")E=w(this.bottom),S=this.bottom-f,I=E-x,R=w(e.top)+x,P=e.bottom;else if(o==="bottom")E=w(this.top),R=e.top,P=w(e.bottom)-x,S=E+x,I=this.top+f;else if(o==="left")E=w(this.right),L=this.right-f,y=E-x,k=w(e.left)+x,D=e.right;else if(o==="right")E=w(this.left),k=e.left,D=w(e.right)-x,L=E+x,y=this.left+f;else if(n==="x"){if(o==="center")E=w((e.top+e.bottom)/2+.5);else if(me(o)){const ie=Object.keys(o)[0],oe=o[ie];E=w(this.chart.scales[ie].getPixelForValue(oe))}R=e.top,P=e.bottom,S=E+x,I=S+f}else if(n==="y"){if(o==="center")E=w((e.left+e.right)/2);else if(me(o)){const ie=Object.keys(o)[0],oe=o[ie];E=w(this.chart.scales[ie].getPixelForValue(oe))}L=E-x,y=L-f,k=e.left,D=e.right}const le=_e(r.ticks.maxTicksLimit,d),ne=Math.max(1,Math.ceil(d/le));for(b=0;b<d;b+=ne){const ie=this.getContext(b),oe=s.setContext(ie),B=a.setContext(ie),q=oe.lineWidth,Y=oe.color,de=B.dash||[],te=B.dashOffset,fe=oe.tickWidth,ke=oe.tickColor,Pe=oe.tickBorderDash||[],Ne=oe.tickBorderDashOffset;C=s2(this,b,l),C!==void 0&&(N=Qr(i,C,q),c?L=y=k=D=N:S=I=R=P=N,g.push({tx1:L,ty1:S,tx2:y,ty2:I,x1:k,y1:R,x2:D,y2:P,width:q,color:Y,borderDash:de,borderDashOffset:te,tickWidth:fe,tickColor:ke,tickBorderDash:Pe,tickBorderDashOffset:Ne}))}return this._ticksLength=d,this._borderValue=E,g}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:h,mirror:d}=s,f=nl(i.grid),g=f+h,_=d?-h:g,v=-ar(this.labelRotation),x=[];let w,E,b,C,N,L,S,y,I,k,R,D,P="middle";if(r==="top")L=this.bottom-_,S=this._getXAxisLabelAlignment();else if(r==="bottom")L=this.top+_,S=this._getXAxisLabelAlignment();else if(r==="left"){const ne=this._getYAxisLabelAlignment(f);S=ne.textAlign,N=ne.x}else if(r==="right"){const ne=this._getYAxisLabelAlignment(f);S=ne.textAlign,N=ne.x}else if(n==="x"){if(r==="center")L=(e.top+e.bottom)/2+g;else if(me(r)){const ne=Object.keys(r)[0],ie=r[ne];L=this.chart.scales[ne].getPixelForValue(ie)+g}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")N=(e.left+e.right)/2-g;else if(me(r)){const ne=Object.keys(r)[0],ie=r[ne];N=this.chart.scales[ne].getPixelForValue(ie)}S=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?P="top":l==="end"&&(P="bottom"));const le=this._getLabelSizes();for(w=0,E=a.length;w<E;++w){b=a[w],C=b.label;const ne=s.setContext(this.getContext(w));y=this.getPixelForTick(w)+s.labelOffset,I=this._resolveTickFontOptions(w),k=I.lineHeight,R=De(C)?C.length:1;const ie=R/2,oe=ne.color,B=ne.textStrokeColor,q=ne.textStrokeWidth;let Y=S;o?(N=y,S==="inner"&&(w===E-1?Y=this.options.reverse?"left":"right":w===0?Y=this.options.reverse?"right":"left":Y="center"),r==="top"?c==="near"||v!==0?D=-R*k+k/2:c==="center"?D=-le.highest.height/2-ie*k+k:D=-le.highest.height+k/2:c==="near"||v!==0?D=k/2:c==="center"?D=le.highest.height/2-ie*k:D=le.highest.height-R*k,d&&(D*=-1),v!==0&&!ne.showLabelBackdrop&&(N+=k/2*Math.sin(v))):(L=y,D=(1-R)*k/2);let de;if(ne.showLabelBackdrop){const te=It(ne.backdropPadding),fe=le.heights[w],ke=le.widths[w];let Pe=D-te.top,Ne=0-te.left;switch(P){case"middle":Pe-=fe/2;break;case"bottom":Pe-=fe;break}switch(S){case"center":Ne-=ke/2;break;case"right":Ne-=ke;break;case"inner":w===E-1?Ne-=ke:w>0&&(Ne-=ke/2);break}de={left:Ne,top:Pe,width:ke+te.width,height:fe+te.height,color:ne.backdropColor}}x.push({label:C,font:I,textOffset:D,options:{rotation:v,color:oe,strokeColor:B,strokeWidth:q,textAlign:Y,textBaseline:P,translation:[N,L],backdrop:de}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ar(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,h;return n==="left"?r?(h=this.right+s,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-a,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h=this.left)):n==="right"?r?(h=this.left+s,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+a,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,h,d,f;this.isHorizontal()?(c=Qr(e,this.left,o)-o/2,h=Qr(e,this.right,a)+a/2,d=f=l):(d=Qr(e,this.top,o)-o/2,f=Qr(e,this.bottom,a)+a/2,c=h=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,d),n.lineTo(h,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&X_(i,r);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,h=o.textOffset;bs(i,c,0,h,l,a)}r&&J_(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=et(i.font),o=It(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||me(n)?(l+=o.bottom,De(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:h,maxWidth:d,rotation:f}=u2(this,l,n,a);bs(e,i.text,0,0,s,{color:i.color,maxWidth:d,rotation:f,textAlign:c2(a,n,r),textBaseline:"middle",translation:[c,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=_e(e.grid&&e.grid.z,-1),r=_e(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Vs.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return et(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ju{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;f2(n)&&(i=this.register(n));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,h2(e,o,i),this.override&&$e.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in $e[r]&&(delete $e[r][i],this.override&&delete Ts[i])}}function h2(t,e,n){const i=uc(Object.create(null),[n?$e.get(n):{},$e.get(e),t.defaults]);$e.set(e,i),t.defaultRoutes&&d2(e,t.defaultRoutes),t.descriptors&&$e.describe(e,t.descriptors)}function d2(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");$e.route(s,r,l,a)})}function f2(t){return"id"in t&&"defaults"in t}class p2{constructor(){this.controllers=new ju(Ol,"datasets",!0),this.elements=new ju(fa,"elements"),this.plugins=new ju(Object,"plugins"),this.scales=new ju(Vs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):ye(r,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const r=K_(e);be(i["before"+r],[],i),n[e](i),be(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Un=new p2;class g2{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,r){r=r||{};for(const s of e){const o=s.plugin,a=o[i],l=[n,r,s.options];if(be(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Ee(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=_e(i.options&&i.options.plugins,{}),s=m2(i);return r===!1&&!n?[]:y2(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function m2(t){const e={},n=[],i=Object.keys(Un.plugins.items);for(let s=0;s<i.length;s++)n.push(Un.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function _2(t,e){return!e&&t===!1?null:t===!0?{}:t}function y2(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=_2(i[l],r);c!==null&&s.push({plugin:a,options:v2(t.config,{plugin:a,local:n[l]},c,o)})}return s}function v2(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function um(t,e){const n=$e.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function E2(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function w2(t,e){return t===e?"_index_":"_value_"}function Sw(t){if(t==="x"||t==="y"||t==="r")return t}function T2(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function hm(t,...e){if(Sw(t))return t;for(const n of e){const i=n.axis||T2(n.position)||t.length>1&&Sw(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Iw(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function b2(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return Iw(t,"x",n[0])||Iw(t,"y",n[0])}return{}}function x2(t,e){const n=Ts[t.type]||{scales:{}},i=e.scales||{},r=um(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!me(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=hm(o,a,b2(o,t),$e.scales[a.type]),c=w2(l,r),h=n.scales||{};s[o]=Pl(Object.create(null),[{axis:l},a,h[l],h[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||um(a,e),h=(Ts[a]||{}).scales||{};Object.keys(h).forEach(d=>{const f=E2(d,l),g=o[f+"AxisID"]||f;s[g]=s[g]||Object.create(null),Pl(s[g],[{axis:f},i[g],h[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];Pl(a,[$e.scales[a.type],$e.scale])}),s}function tA(t){const e=t.options||(t.options={});e.plugins=_e(e.plugins,{}),e.scales=x2(t,e)}function nA(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function S2(t){return t=t||{},t.data=nA(t.data),tA(t),t}const Aw=new Map,iA=new Set;function Uu(t,e){let n=Aw.get(t);return n||(n=e(),Aw.set(t,n),iA.add(n)),n}const il=(t,e,n)=>{const i=Ho(e,n);i!==void 0&&t.add(i)};let I2=class{constructor(e){this._config=S2(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=nA(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),tA(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Uu(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Uu(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Uu(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Uu(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(h=>{e&&(l.add(e),h.forEach(d=>il(l,e,d))),h.forEach(d=>il(l,r,d)),h.forEach(d=>il(l,Ts[s]||{},d)),h.forEach(d=>il(l,$e,d)),h.forEach(d=>il(l,cm,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),iA.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Ts[n]||{},$e.datasets[n]||{},{type:n},$e,cm]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=Cw(this._resolverCache,e,r);let l=o;if(C2(o,n)){s.$shared=!1,i=Ir(i)?i():i;const c=this.createResolver(e,i,a);l=Wo(o,i,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,i=[""],r){const{resolver:s}=Cw(this._resolverCache,e,i);return me(n)?Wo(s,n,void 0,r):s}};function Cw(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:Z_(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const A2=t=>me(t)&&Object.getOwnPropertyNames(t).some(e=>Ir(t[e]));function C2(t,e){const{isScriptable:n,isIndexable:i}=$I(t);for(const r of e){const s=n(r),o=i(r),a=(o||s)&&t[r];if(s&&(Ir(a)||A2(a))||o&&De(a))return!0}return!1}var k2="4.4.4";const P2=["top","bottom","left","right","chartArea"];function kw(t,e){return t==="top"||t==="bottom"||P2.indexOf(t)===-1&&e==="x"}function Pw(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Rw(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),be(n&&n.onComplete,[t],e)}function R2(t){const e=t.chart,n=e.options.animation;be(n&&n.onProgress,[t],e)}function rA(t){return ny()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const wh={},Nw=t=>{const e=rA(t);return Object.values(wh).filter(n=>n.canvas===e).pop()};function N2(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function O2(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function $u(t,e,n){return t.options.clip?t[n]:e[n]}function D2(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:$u(n,e,"left"),right:$u(n,e,"right"),top:$u(i,e,"top"),bottom:$u(i,e,"bottom")}:e}var Ki;let Oc=(Ki=class{static register(...e){Un.add(...e),Ow()}static unregister(...e){Un.remove(...e),Ow()}constructor(e,n){const i=this.config=new I2(n),r=rA(e),s=Nw(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||XM(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,h=l&&l.width;if(this.id=eL(),this.ctx=a,this.canvas=l,this.width=h,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new g2,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=_L(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],wh[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}li.listen(this,"complete",Rw),li.listen(this,"progress",R2),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return Ee(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Un}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():iw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ZE(this.canvas,this.ctx),this}stop(){return li.stop(this),this}resize(e,n){li.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,iw(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),be(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ye(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=hm(o,a),c=l==="r",h=l==="x";return{options:a,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),ye(s,o=>{const a=o.options,l=a.id,c=hm(l,a),h=_e(a.type,o.dtype);(a.position===void 0||kw(a.position,c)!==kw(o.dposition))&&(a.position=o.dposition),r[l]=!0;let d=null;if(l in i&&i[l].type===h)d=i[l];else{const f=Un.getScale(h);d=new f({id:l,type:h,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(a,e)}),ye(r,(o,a)=>{o||delete i[a]}),ye(i,o=>{pn.configure(this,o,o.options),pn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(Pw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||um(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Un.getController(a),{datasetElementType:c,dataElementType:h}=$e.datasets[a];Object.assign(l,{dataElementType:Un.getElement(h),datasetElementType:c&&Un.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ye(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:d}=this.getDatasetMeta(c),f=!r&&s.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||ye(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Pw("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ye(this.scales,e=>{pn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!HE(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;N2(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!HE(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;pn.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],ye(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Ir(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(li.has(this)?this.attached&&!li.running(this)&&li.start(this):(this.draw(),Rw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,r=!i.disabled,s=D2(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&X_(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),e.controller.draw(),r&&J_(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return wo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=PM.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Ms(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);hc(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),li.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),ZE(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete wh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};ye(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ye(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ye(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!ld(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(l,c)=>l.filter(h=>!c.some(d=>h.datasetIndex===d.datasetIndex&&h.index===d.index)),o=s(n,e),a=i?e:s(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(e,r,i,o),l=oL(e),c=O2(e,this._lastEvent,i,l);i&&(this._lastEvent=null,be(s.onHover,[e,a,this],this),l&&be(s.onClick,[e,a,this],this));const h=!ld(a,r);return(h||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=c,h}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},re(Ki,"defaults",$e),re(Ki,"instances",wh),re(Ki,"overrides",Ts),re(Ki,"registry",Un),re(Ki,"version",k2),re(Ki,"getChart",Nw),Ki);function Ow(){return ye(Oc.instances,t=>t._plugins.invalidate())}function sA(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,h,d;return t.horizontal?(d=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-d,h=i+d):(d=s/2,a=n-d,l=n+d,c=Math.min(i,r),h=Math.max(i,r)),{left:a,top:c,right:l,bottom:h}}function lr(t,e,n,i){return t?0:kn(e,n,i)}function L2(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=UI(i);return{t:lr(r.top,s.top,0,n),r:lr(r.right,s.right,0,e),b:lr(r.bottom,s.bottom,0,n),l:lr(r.left,s.left,0,e)}}function M2(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=ds(r),o=Math.min(e,n),a=t.borderSkipped,l=i||me(r);return{topLeft:lr(!l||a.top||a.left,s.topLeft,0,o),topRight:lr(!l||a.top||a.right,s.topRight,0,o),bottomLeft:lr(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:lr(!l||a.bottom||a.right,s.bottomRight,0,o)}}function V2(t){const e=sA(t),n=e.right-e.left,i=e.bottom-e.top,r=L2(t,n/2,i/2),s=M2(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function Lp(t,e,n,i){const r=e===null,s=n===null,a=t&&!(r&&s)&&sA(t,i);return a&&(r||Eo(e,a.left,a.right))&&(s||Eo(n,a.top,a.bottom))}function F2(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function j2(t,e){t.rect(e.x,e.y,e.w,e.h)}function Mp(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}class Dl extends fa{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=V2(this),a=F2(o.radius)?dc:j2;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,Mp(o,n,s)),e.clip(),a(e,Mp(s,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,Mp(s,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return Lp(this,e,n,i)}inXRange(e,n){return Lp(this,e,null,n)}inYRange(e,n){return Lp(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}re(Dl,"id","bar"),re(Dl,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),re(Dl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Dw=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},U2=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Lw extends fa{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=be(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=et(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Dw(i,s);let c,h;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(o,s,a,l)+10):(h=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=r+a;let d=e;s.textAlign="left",s.textBaseline="middle";let f=-1,g=-h;return this.legendItems.forEach((_,v)=>{const x=i+n/2+s.measureText(_.text).width;(v===0||c[c.length-1]+x+2*a>o)&&(d+=h,c[c.length-(v>0?0:1)]=0,g+=h,f++),l[v]={left:0,top:g,row:f,width:x,height:r},c[c.length-1]+=x+a}),d}_fitCols(e,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=o-e;let d=a,f=0,g=0,_=0,v=0;return this.legendItems.forEach((x,w)=>{const{itemWidth:E,itemHeight:b}=$2(i,n,s,x,r);w>0&&g+b+2*a>h&&(d+=f+a,c.push({width:f,height:g}),_+=f+a,v++,f=g=0),l[w]={left:_,top:g,col:v,width:E,height:b},f=Math.max(f,E),g+=b+a}),d+=f,c.push({width:f,height:g}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=Po(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=wt(i,this.left+r,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=wt(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=wt(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=wt(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;X_(e,this),this._draw(),J_(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=$e.color,l=Po(e.rtl,this.left,this.width),c=et(o.font),{padding:h}=o,d=c.size,f=d/2;let g;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:_,boxHeight:v,itemHeight:x}=Dw(o,d),w=function(L,S,y){if(isNaN(_)||_<=0||isNaN(v)||v<0)return;r.save();const I=_e(y.lineWidth,1);if(r.fillStyle=_e(y.fillStyle,a),r.lineCap=_e(y.lineCap,"butt"),r.lineDashOffset=_e(y.lineDashOffset,0),r.lineJoin=_e(y.lineJoin,"miter"),r.lineWidth=I,r.strokeStyle=_e(y.strokeStyle,a),r.setLineDash(_e(y.lineDash,[])),o.usePointStyle){const k={radius:v*Math.SQRT2/2,pointStyle:y.pointStyle,rotation:y.rotation,borderWidth:I},R=l.xPlus(L,_/2),D=S+f;FI(r,k,R,D,o.pointStyleWidth&&_)}else{const k=S+Math.max((d-v)/2,0),R=l.leftForLtr(L,_),D=ds(y.borderRadius);r.beginPath(),Object.values(D).some(P=>P!==0)?dc(r,{x:R,y:k,w:_,h:v,radius:D}):r.rect(R,k,_,v),r.fill(),I!==0&&r.stroke()}r.restore()},E=function(L,S,y){bs(r,y.text,L,S+x/2,c,{strikethrough:y.hidden,textAlign:l.textAlign(y.textAlign)})},b=this.isHorizontal(),C=this._computeTitleHeight();b?g={x:wt(s,this.left+h,this.right-i[0]),y:this.top+h+C,line:0}:g={x:this.left+h,y:wt(s,this.top+C+h,this.bottom-n[0].height),line:0},WI(this.ctx,e.textDirection);const N=x+h;this.legendItems.forEach((L,S)=>{r.strokeStyle=L.fontColor,r.fillStyle=L.fontColor;const y=r.measureText(L.text).width,I=l.textAlign(L.textAlign||(L.textAlign=o.textAlign)),k=_+f+y;let R=g.x,D=g.y;l.setWidth(this.width),b?S>0&&R+k+h>this.right&&(D=g.y+=N,g.line++,R=g.x=wt(s,this.left+h,this.right-i[g.line])):S>0&&D+N>this.bottom&&(R=g.x=R+n[g.line].width+h,g.line++,D=g.y=wt(s,this.top+C+h,this.bottom-n[g.line].height));const P=l.x(R);if(w(P,D,L),R=yL(I,R+_+f,b?R+k:this.right,e.rtl),E(l.x(R),D,L),b)g.x+=k+h;else if(typeof L.text!="string"){const le=c.lineHeight;g.y+=oA(L,le)+h}else g.y+=N}),KI(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=et(n.font),r=It(n.padding);if(!n.display)return;const s=Po(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=r.top+l;let h,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),h=this.top+c,d=wt(e.align,d,this.right-f);else{const _=this.columnSizes.reduce((v,x)=>Math.max(v,x.height),0);h=c+wt(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const g=wt(a,d,d+f);o.textAlign=s.textAlign(Y_(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,bs(o,n.text,g,h,i)}_computeTitleHeight(){const e=this.options.title,n=et(e.font),i=It(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(Eo(e,this.left,this.right)&&Eo(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Eo(e,r.left,r.left+r.width)&&Eo(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!H2(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=U2(r,i);r&&!s&&be(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&be(n.onHover,[e,i,this],this)}else i&&be(n.onClick,[e,i,this],this)}}function $2(t,e,n,i,r){const s=B2(i,t,e,n),o=z2(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function B2(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function z2(t,e,n){let i=t;return typeof e.text!="string"&&(i=oA(e,n)),i}function oA(t,e){const n=t.text?t.text.length:0;return e*n}function H2(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var aA={id:"legend",_element:Lw,start(t,e,n){const i=t.legend=new Lw({ctx:t.ctx,options:n,chart:t});pn.configure(t,i,n),pn.addBox(t,i)},stop(t){pn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;pn.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),h=It(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class lA extends fa{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=De(i.text)?i.text.length:1;this._padding=It(i.padding);const s=r*et(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,c,h,d;return this.isHorizontal()?(h=wt(a,i,s),d=n+e,c=s-i):(o.position==="left"?(h=i+e,d=wt(a,r,n),l=ot*-.5):(h=s-e,d=wt(a,n,r),l=ot*.5),c=r-n),{titleX:h,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=et(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);bs(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:Y_(n.align),textBaseline:"middle",translation:[o,a]})}}function W2(t,e){const n=new lA({ctx:t.ctx,options:e,chart:t});pn.configure(t,n,e),pn.addBox(t,n),t.titleBlock=n}var cA={id:"title",_element:lA,start(t,e,n){W2(t,n)},stop(t){const e=t.titleBlock;pn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;pn.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const pl={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),r+=l.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),h=hL(e,c);h<r&&(r=h,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Fn(t,e){return e&&(De(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ci(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function K2(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function Mw(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=et(e.bodyFont),c=et(e.titleFont),h=et(e.footerFont),d=s.length,f=r.length,g=i.length,_=It(e.padding);let v=_.height,x=0,w=i.reduce((C,N)=>C+N.before.length+N.lines.length+N.after.length,0);if(w+=t.beforeBody.length+t.afterBody.length,d&&(v+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),w){const C=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;v+=g*C+(w-g)*l.lineHeight+(w-1)*e.bodySpacing}f&&(v+=e.footerMarginTop+f*h.lineHeight+(f-1)*e.footerSpacing);let E=0;const b=function(C){x=Math.max(x,n.measureText(C).width+E)};return n.save(),n.font=c.string,ye(t.title,b),n.font=l.string,ye(t.beforeBody.concat(t.afterBody),b),E=e.displayColors?o+2+e.boxPadding:0,ye(i,C=>{ye(C.before,b),ye(C.lines,b),ye(C.after,b)}),E=0,n.font=h.string,ye(t.footer,b),n.restore(),x+=_.width,{width:x,height:v}}function q2(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function G2(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function Y2(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),G2(c,t,e,n)&&(c="center"),c}function Vw(t,e,n){const i=n.yAlign||e.yAlign||q2(t,n);return{xAlign:n.xAlign||e.xAlign||Y2(t,e,n,i),yAlign:i}}function Q2(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function X2(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function Fw(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:g}=ds(o);let _=Q2(e,a);const v=X2(e,l,c);return l==="center"?a==="left"?_+=c:a==="right"&&(_-=c):a==="left"?_-=Math.max(h,f)+r:a==="right"&&(_+=Math.max(d,g)+r),{x:kn(_,0,i.width-e.width),y:kn(v,0,i.height-e.height)}}function Bu(t,e,n){const i=It(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function jw(t){return Fn([],ci(t))}function J2(t,e,n){return Ms(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Uw(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const uA={beforeTitle:ai,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:ai,beforeBody:ai,beforeLabel:ai,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Ee(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ai,afterBody:ai,beforeFooter:ai,footer:ai,afterFooter:ai};function Vt(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?uA[e].call(n,i):r}var hg;let $w=(hg=class extends fa{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new qI(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=J2(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=Vt(i,"beforeTitle",this,e),s=Vt(i,"title",this,e),o=Vt(i,"afterTitle",this,e);let a=[];return a=Fn(a,ci(r)),a=Fn(a,ci(s)),a=Fn(a,ci(o)),a}getBeforeBody(e,n){return jw(Vt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return ye(e,s=>{const o={before:[],lines:[],after:[]},a=Uw(i,s);Fn(o.before,ci(Vt(a,"beforeLabel",this,s))),Fn(o.lines,Vt(a,"label",this,s)),Fn(o.after,ci(Vt(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,n){return jw(Vt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=Vt(i,"beforeFooter",this,e),s=Vt(i,"footer",this,e),o=Vt(i,"afterFooter",this,e);let a=[];return a=Fn(a,ci(r)),a=Fn(a,ci(s)),a=Fn(a,ci(o)),a}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(K2(this.chart,n[l]));return e.filter&&(a=a.filter((h,d,f)=>e.filter(h,d,f,i))),e.itemSort&&(a=a.sort((h,d)=>e.itemSort(h,d,i))),ye(a,h=>{const d=Uw(e.callbacks,h);r.push(Vt(d,"labelColor",this,h)),s.push(Vt(d,"labelPointStyle",this,h)),o.push(Vt(d,"labelTextColor",this,h))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=pl[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=Mw(this,i),c=Object.assign({},a,l),h=Vw(this.chart,i,c),d=Fw(i,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:d}=ds(a),{x:f,y:g}=e,{width:_,height:v}=n;let x,w,E,b,C,N;return s==="center"?(C=g+v/2,r==="left"?(x=f,w=x-o,b=C+o,N=C-o):(x=f+_,w=x+o,b=C-o,N=C+o),E=x):(r==="left"?w=f+Math.max(l,h)+o:r==="right"?w=f+_-Math.max(c,d)-o:w=this.caretX,s==="top"?(b=g,C=b-o,x=w-o,E=w+o):(b=g+v,C=b+o,x=w+o,E=w-o),N=b),{x1:x,x2:w,x3:E,y1:b,y2:C,y3:N}}drawTitle(e,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const c=Po(i.rtl,this.x,this.width);for(e.x=Bu(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=et(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=s,h=et(s.bodyFont),d=Bu(this,"left",s),f=r.x(d),g=l<h.lineHeight?(h.lineHeight-l)/2:0,_=n.y+g;if(s.usePointStyle){const v={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},x=r.leftForLtr(f,c)+c/2,w=_+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,ew(e,v,x,w),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,ew(e,v,x,w)}else{e.lineWidth=me(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const v=r.leftForLtr(f,c),x=r.leftForLtr(r.xPlus(f,1),c-2),w=ds(o.borderRadius);Object.values(w).some(E=>E!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,dc(e,{x:v,y:_,w:c,h:l,radius:w}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),dc(e,{x,y:_+1,w:c-2,h:l-2,radius:w}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(v,_,c,l),e.strokeRect(v,_,c,l),e.fillStyle=o.backgroundColor,e.fillRect(x,_+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:h}=i,d=et(i.bodyFont);let f=d.lineHeight,g=0;const _=Po(i.rtl,this.x,this.width),v=function(y){n.fillText(y,_.x(e.x+g),e.y+f/2),e.y+=f+s},x=_.textAlign(o);let w,E,b,C,N,L,S;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=Bu(this,x,i),n.fillStyle=i.bodyColor,ye(this.beforeBody,v),g=a&&x!=="right"?o==="center"?c/2+h:c+2+h:0,C=0,L=r.length;C<L;++C){for(w=r[C],E=this.labelTextColors[C],n.fillStyle=E,ye(w.before,v),b=w.lines,a&&b.length&&(this._drawColorBox(n,e,C,_,i),f=Math.max(d.lineHeight,l)),N=0,S=b.length;N<S;++N)v(b[N]),f=d.lineHeight;ye(w.after,v)}g=0,f=d.lineHeight,ye(this.afterBody,v),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=Po(i.rtl,this.x,this.width);for(e.x=Bu(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=et(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:h}=i,{topLeft:d,topRight:f,bottomLeft:g,bottomRight:_}=ds(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(a+c,l+h-_),n.quadraticCurveTo(a+c,l+h,a+c-_,l+h),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(a+g,l+h),n.quadraticCurveTo(a,l+h,a,l+h-g),o==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=pl[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Mw(this,e),l=Object.assign({},o,this._size),c=Vw(n,e,l),h=Fw(e,l,c,n);(r._to!==h.x||s._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=It(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),WI(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),KI(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!ld(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,i),a=this._positionChanged(o,e),l=n||!ld(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,o=pl[s.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}},re(hg,"positioners",pl),hg);var hA={id:"tooltip",_element:$w,positioners:pl,afterInit(t,e,n){n&&(t.tooltip=new $w({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:uA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Z2=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function eV(t,e,n,i){const r=t.indexOf(e);if(r===-1)return Z2(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const tV=(t,e)=>t===null?null:kn(Math.round(t),0,e);function Bw(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class gd extends Vs{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Ee(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:eV(i,e,_e(n,e),this._addedLabels),tV(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return Bw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}re(gd,"id","category"),re(gd,"defaults",{ticks:{callback:Bw}});function nV(t,e){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:h,maxDigits:d,includeBounds:f}=t,g=s||1,_=h-1,{min:v,max:x}=e,w=!Ee(o),E=!Ee(a),b=!Ee(c),C=(x-v)/(d+1);let N=KE((x-v)/_/g)*g,L,S,y,I;if(N<1e-14&&!w&&!E)return[{value:v},{value:x}];I=Math.ceil(x/N)-Math.floor(v/N),I>_&&(N=KE(I*N/_/g)*g),Ee(l)||(L=Math.pow(10,l),N=Math.ceil(N*L)/L),r==="ticks"?(S=Math.floor(v/N)*N,y=Math.ceil(x/N)*N):(S=v,y=x),w&&E&&s&&cL((a-o)/s,N/1e3)?(I=Math.round(Math.min((a-o)/N,h)),N=(a-o)/I,S=o,y=a):b?(S=w?o:S,y=E?a:y,I=c-1,N=(y-S)/I):(I=(y-S)/N,yh(I,Math.round(I),N/1e3)?I=Math.round(I):I=Math.ceil(I));const k=Math.max(qE(N),qE(S));L=Math.pow(10,Ee(l)?k:l),S=Math.round(S*L)/L,y=Math.round(y*L)/L;let R=0;for(w&&(f&&S!==o?(n.push({value:o}),S<o&&R++,yh(Math.round((S+R*N)*L)/L,o,zw(o,C,t))&&R++):S<o&&R++);R<I;++R){const D=Math.round((S+R*N)*L)/L;if(E&&D>a)break;n.push({value:D})}return E&&f&&y!==a?n.length&&yh(n[n.length-1].value,a,zw(a,C,t))?n[n.length-1].value=a:n.push({value:a}):(!E||y===a)&&n.push({value:y}),n}function zw(t,e,{horizontal:n,minRotation:i}){const r=ar(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class md extends Vs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Ee(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(e){const l=Er(r),c=Er(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=nV(r,s);return e.bounds==="ticks"&&RI(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Q_(e,this.chart.options.locale,this.options.ticks.format)}}class _d extends md{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=rt(e)?e:0,this.max=rt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=ar(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}re(_d,"id","linear"),re(_d,"defaults",{ticks:{callback:af.formatters.numeric}});const pc=t=>Math.floor(or(t)),Jr=(t,e)=>Math.pow(10,pc(t)+e);function Hw(t){return t/Math.pow(10,pc(t))===1}function Ww(t,e,n){const i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function iV(t,e){const n=e-t;let i=pc(n);for(;Ww(t,e,i)>10;)i++;for(;Ww(t,e,i)<10;)i--;return Math.min(i,pc(t))}function rV(t,{min:e,max:n}){e=Gt(t.min,e);const i=[],r=pc(e);let s=iV(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=r>s?Math.pow(10,r):0,c=Math.round((e-l)*o)/o,h=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((c-h)/Math.pow(10,s)),f=Gt(t.min,Math.round((l+h+d*Math.pow(10,s))*o)/o);for(;f<n;)i.push({value:f,major:Hw(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,o=s>=0?1:o),f=Math.round((l+h+d*Math.pow(10,s))*o)/o;const g=Gt(t.max,f);return i.push({value:g,major:Hw(g),significand:d}),i}class Kw extends Vs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=md.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return rt(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=rt(e)?Math.max(0,e):null,this.max=rt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!rt(this._userMin)&&(this.min=e===Jr(this.min,0)?Jr(this.min,-1):Jr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const s=a=>i=e?i:a,o=a=>r=n?r:a;i===r&&(i<=0?(s(1),o(10)):(s(Jr(i,-1)),o(Jr(r,1)))),i<=0&&s(Jr(r,-1)),r<=0&&o(Jr(i,1)),this.min=i,this.max=r}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=rV(n,this);return e.bounds==="ticks"&&RI(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Q_(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=or(e),this._valueRange=or(this.max)-or(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(or(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}re(Kw,"id","logarithmic"),re(Kw,"defaults",{ticks:{callback:af.formatters.logarithmic,major:{enabled:!0}}});function dm(t){const e=t.ticks;if(e.display&&t.display){const n=It(e.backdropPadding);return _e(e.font&&e.font.size,$e.font.size)+n.height}return 0}function sV(t,e,n){return n=De(n)?n:[n],{w:CL(t,e.string,n),h:n.length*e.lineHeight}}function qw(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function oV(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?ot/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));r[l]=c.padding;const h=t.getPointPosition(l,t.drawingArea+r[l],a),d=et(c.font),f=sV(t.ctx,d,t._pointLabels[l]);i[l]=f;const g=$n(t.getIndexAngle(l)+a),_=Math.round(q_(g)),v=qw(_,h.x,f.w,0,180),x=qw(_,h.y,f.h,90,270);aV(n,e,g,v,x)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=uV(t,i,r)}function aV(t,e,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function lV(t,e,n){const i=t.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,i+r+o,s),c=Math.round(q_($n(l.angle+Xt))),h=fV(l.y,a.h,c),d=hV(c),f=dV(l.x,a.w,d);return{visible:!0,x:l.x,y:h,textAlign:d,left:f,top:h,right:f+a.w,bottom:h+a.h}}function cV(t,e){if(!e)return!0;const{left:n,top:i,right:r,bottom:s}=t;return!(wo({x:n,y:i},e)||wo({x:n,y:s},e)||wo({x:r,y:i},e)||wo({x:r,y:s},e))}function uV(t,e,n){const i=[],r=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:dm(s)/2,additionalAngle:o?ot/r:0};let c;for(let h=0;h<r;h++){l.padding=n[h],l.size=e[h];const d=lV(t,h,l);i.push(d),a==="auto"&&(d.visible=cV(d,c),d.visible&&(c=d))}return i}function hV(t){return t===0||t===180?"center":t<180?"left":"right"}function dV(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function fV(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function pV(t,e,n){const{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=e;if(!Ee(a)){const l=ds(e.borderRadius),c=It(e.backdropPadding);t.fillStyle=a;const h=i-c.left,d=r-c.top,f=s-i+c.width,g=o-r+c.height;Object.values(l).some(_=>_!==0)?(t.beginPath(),dc(t,{x:h,y:d,w:f,h:g,radius:l}),t.fill()):t.fillRect(h,d,f,g)}}function gV(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const s=t._pointLabelItems[r];if(!s.visible)continue;const o=i.setContext(t.getPointLabelContext(r));pV(n,o,s);const a=et(o.font),{x:l,y:c,textAlign:h}=s;bs(n,t._pointLabels[r],l,c+a.lineHeight/2,a,{color:o.color,textAlign:h,textBaseline:"middle"})}}function dA(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,qn);else{let s=t.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=t.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function mV(t,e,n,i,r){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),dA(t,n,o,i),s.closePath(),s.stroke(),s.restore())}function _V(t,e,n){return Ms(t,{label:n,index:e,type:"pointLabel"})}class zu extends md{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=It(dm(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=rt(e)&&!isNaN(e)?e:0,this.max=rt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/dm(this.options))}generateTickLabels(e){md.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const r=be(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?oV(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,r))}getIndexAngle(e){const n=qn/(this._pointLabels.length||1),i=this.options.startAngle||0;return $n(e*n+ar(i))}getDistanceFromCenterForValue(e){if(Ee(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Ee(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return _V(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const r=this.getIndexAngle(e)-Xt+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:n,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),dA(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:r,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&gV(this,o),r.display&&this.ticks.forEach((h,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(h.value);const f=this.getContext(d),g=r.setContext(f),_=s.setContext(f);mV(this,g,l,o,_)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const h=i.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:f}=h;!f||!d||(e.lineWidth=f,e.strokeStyle=d,e.setLineDash(h.borderDash),e.lineDashOffset=h.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),h=et(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=h.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const d=It(c.backdropPadding);e.fillRect(-o/2-d.left,-s-h.size/2-d.top,o+d.width,h.size+d.height)}bs(e,a.label,0,-s,h,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}re(zu,"id","radialLinear"),re(zu,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:af.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),re(zu,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),re(zu,"descriptors",{angleLines:{_fallback:"grid"}});const cf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},jt=Object.keys(cf);function Gw(t,e){return t-e}function Yw(t,e){if(Ee(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),rt(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(hd(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function Qw(t,e,n,i){const r=jt.length;for(let s=jt.indexOf(t);s<r-1;++s){const o=cf[jt[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return jt[s]}return jt[r-1]}function yV(t,e,n,i,r){for(let s=jt.length-1;s>=jt.indexOf(n);s--){const o=jt[s];if(cf[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return jt[n?jt.indexOf(n):0]}function vV(t){for(let e=jt.indexOf(t)+1,n=jt.length;e<n;++e)if(cf[jt[e]].common)return jt[e]}function Xw(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=G_(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function EV(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function Jw(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:EV(t,i,r,n)}class yd extends Vs{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new SM._date(e.adapters.date);r.init(n),Pl(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Yw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=rt(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=rt(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=gL(r,s,o);return this._unit=n.unit||(i.autoSkip?Qw(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):yV(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:vV(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),Jw(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=kn(n,0,o),i=kn(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||Qw(s.minUnit,n,i,this._getLabelCapacity(n)),a=_e(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=hd(l)||l===!0,h={};let d=n,f,g;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const _=r.ticks.source==="data"&&this.getDataTimestamps();for(f=d,g=0;f<i;f=+e.add(f,a,o),g++)Xw(h,f,_);return(f===i||r.bounds==="ticks"||g===1)&&Xw(h,f,_),Object.keys(h).sort(Gw).map(v=>+v)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return be(o,[e,n,i],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,h=l&&a[l],d=c&&a[c],f=i[n],g=c&&d&&f&&f.major;return this._adapter.format(e,r||(g?d:h))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=ar(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,Jw(this,[e],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(Yw(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return OI(e.sort(Gw))}}re(yd,"id","time"),re(yd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Hu(t,e,n){let i=0,r=t.length-1,s,o,a,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=lm(t,"pos",e)),{pos:s,time:a}=t[i],{pos:o,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=lm(t,"time",e)),{time:s,pos:a}=t[i],{time:o,pos:l}=t[r]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class Zw extends yd{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Hu(n,this.min),this._tableRange=Hu(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let o,a,l,c,h;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)h=r[o+1],l=r[o-1],c=r[o],Math.round((h+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Hu(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Hu(this._table,i*this._tableRange+this._minPos,!0)}}re(Zw,"id","timeseries"),re(Zw,"defaults",yd.defaults);const fA="label";function eT(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function wV(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function pA(t,e){t.labels=e}function gA(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fA;const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(o=>o[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function TV(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fA;const n={labels:[],datasets:[]};return pA(n,t.labels),gA(n,t.datasets,e),n}function bV(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:h,updateMode:d,...f}=t,g=O.useRef(null),_=O.useRef(),v=()=>{g.current&&(_.current=new Oc(g.current,{type:o,data:TV(a,s),options:l&&{...l},plugins:c}),eT(e,_.current))},x=()=>{eT(e,null),_.current&&(_.current.destroy(),_.current=null)};return O.useEffect(()=>{!r&&_.current&&l&&wV(_.current,l)},[r,l]),O.useEffect(()=>{!r&&_.current&&pA(_.current.config.data,a.labels)},[r,a.labels]),O.useEffect(()=>{!r&&_.current&&a.datasets&&gA(_.current.config.data,a.datasets,s)},[r,a.datasets]),O.useEffect(()=>{_.current&&(r?(x(),setTimeout(v)):_.current.update(d))},[r,l,a.labels,a.datasets,d]),O.useEffect(()=>{_.current&&(x(),setTimeout(v))},[o]),O.useEffect(()=>(v(),()=>x()),[]),Qm.createElement("canvas",Object.assign({ref:g,role:"img",height:n,width:i},f),h)}const xV=O.forwardRef(bV);function SV(t,e){return Oc.register(e),O.forwardRef((n,i)=>Qm.createElement(xV,Object.assign({},n,{ref:i,type:t})))}const mA=SV("bar",vh);Oc.register(gd,_d,Dl,cA,hA,aA);function IV(){const[t,e]=O.useState(0),[n,i]=O.useState(0),[r,s]=O.useState(0);O.useEffect(()=>{(async()=>{const h=await(await fetch("https://backend-2txi.vercel.app/expenses")).json(),d=h.filter(C=>C.category==="Catering");console.log(d);const g=d.filter(C=>C.status==="approved").reduce((C,N)=>C+parseFloat(N.amount),0);e(g);const _=h.filter(C=>C.category==="Services");console.log(_);const v=_.filter(C=>C.status==="approved");console.log(v);const x=v.reduce((C,N)=>C+parseFloat(N.amount),0);i(x);const w=h.filter(C=>C.category==="Trip");console.log(w);const E=w.filter(C=>C.status==="approved");console.log(E);const b=E.reduce((C,N)=>C+parseFloat(N.amount),0);s(b)})()},[]);const o={labels:["Trip","Services","Catering"],datasets:[{label:"Day-to-Day Expenses",data:[r,n,t],background:["Blue","Orange","Yellow"]}]},a={responsive:!0,plugins:{legend:{display:!0},title:{display:!0,text:"Day-to-Day expenses",color:"black"}},scales:{x:{ticks:{color:"black"}},beginAtZero:!0}};return T.jsx(mA,{data:o,options:a})}Oc.register(gd,_d,Dl,cA,hA,aA);function AV(){const[t,e]=O.useState([]);console.log(t);const[n,i]=O.useState(0);console.log(n);const[r,s]=O.useState(0);console.log(r);const[o,a]=O.useState(0);console.log(o),O.useEffect(()=>{(async()=>{const f=await(await fetch("https://backend-2txi.vercel.app/expenses")).json();e(f);const g=f.filter(b=>b.team==="Project management");console.log(g);const _=g.reduce((b,C)=>b+parseFloat(C.amount),0);console.log(_),i(_);const v=f.filter(b=>b.team==="Design team");console.log(v);const x=v.reduce((b,C)=>b+parseFloat(C.amount),0);s(x);const E=f.filter(b=>b.team==="Software development").reduce((b,C)=>b+parseFloat(C.amount),0);console.log(E),a(E)})()},[]);const l={labels:["Project Management","Software development","Design team"],datasets:[{label:"Spending",data:[n,o,r],backgroundColor:["Blue","Yellow","Orange"]}]},c={responsive:!0,plugins:{legend:{display:!0},title:{display:!0,text:"Team Spending Trend",color:"Black"}},scales:{x:{ticks:{color:"Black"}},y:{beginAtZero:!0,ticks:{color:"Black"}}}};return T.jsx(mA,{data:l,options:c})}function _A(){const t=an(),e=()=>{t("/newExpense")},n=()=>{t("/newTrips")},[i,r]=O.useState(0);console.log(i);const[s,o]=O.useState([]),[a,l]=O.useState([]);console.log(a);const[c,h]=O.useState([]);console.log(c);const d=a.filter(_=>_.team==="Software development");console.log(d.length);const[f,g]=O.useState(0);return console.log(f),O.useEffect(()=>{(async()=>{try{const[v,x]=await Promise.all([fetch("https://backend-2txi.vercel.app/expenses"),fetch("https://backend-2txi.vercel.app/trips")]),w=await v.json();console.log(w);const E=w.filter(y=>y.status==="approved");h(E);const b=w.filter(y=>y.status==="pending");l(b);const C=await x.json(),N=C.filter(y=>y.status==="pending");console.log(N.length),g(N.length);const L=[...w,...C];o(L);const S=L.filter(y=>y.status==="pending").length;r(S)}catch(v){console.error("Error fetching data:",v)}})()},[]),T.jsxs("div",{className:"container",children:[T.jsxs("div",{className:"row tasksAndExpense",children:[T.jsxs("div",{className:"card col-sm-5",children:[T.jsx("h5",{children:"Pending Tasks"}),T.jsx("hr",{}),T.jsxs("div",{className:"pending-row",children:[T.jsx("i",{className:"bi bi-clock"}),T.jsxs("div",{className:"pending-info",children:[T.jsx("span",{children:"Pending Approvals"}),T.jsx("span",{children:i})]})]}),T.jsxs("div",{className:"pending-row",children:[T.jsx("i",{className:"bi bi-airplane"}),T.jsxs("div",{className:"pending-info",children:[T.jsx("span",{children:"Pending Trips Registered"}),T.jsx("span",{children:f})]})]}),T.jsxs("div",{className:"pending-row",children:[T.jsx("i",{className:"bi bi-cart-plus"}),T.jsxs("div",{className:"pending-info",children:[T.jsx("span",{children:"Pending Expenses"}),T.jsx("span",{children:a.length})]})]})]}),T.jsxs("div",{className:"card col-sm-7",children:[T.jsx("h5",{children:"Recent Expenses Approved"}),T.jsx("hr",{}),T.jsxs("table",{class:"table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{scope:"col",children:"Subject"}),T.jsx("th",{scope:"col",children:"Employee"}),T.jsx("th",{scope:"col",children:"Team"}),T.jsx("th",{scope:"col",children:"Amount"})]})}),T.jsx("tbody",{children:c.sort((_,v)=>new Date(v.create_timestamp)-new Date(_.create_timestamp)).slice(0,3).map((_,v)=>T.jsxs("tr",{children:[T.jsx("th",{scope:"row",children:v+1}),T.jsx("td",{children:_.employee}),T.jsx("td",{children:_.team}),T.jsx("td",{children:_.amount})]},v))})]})]})]}),T.jsxs("div",{className:"row card",style:{paddingInline:"10px",marginRight:"0px"},children:[T.jsx("h5",{children:"Quick Access"}),T.jsx("hr",{}),T.jsxs("div",{className:"row quickAccess__row",style:{padding:"calc(var(--bs-gutter-x)* .5)",margin:"0px"},children:[T.jsx("div",{className:"card col-sm",onClick:e,style:{display:"flex",justifyContent:"center"},children:T.jsxs("div",{children:[T.jsx("i",{className:"bi bi-wallet2"}),"+New expense"]})}),T.jsx("div",{className:"card col-sm",onClick:n,children:T.jsxs("div",{style:{display:"flex"},children:[T.jsx("i",{className:"bi bi-airplane"}),T.jsx("span",{children:"+Create trip"})]})})]})]}),T.jsxs("div",{className:"row chart",children:[T.jsx("div",{className:"card col-sm-6",children:T.jsx(AV,{})}),T.jsx("div",{className:"card col-sm-6",children:T.jsx(IV,{})})]})]})}var tT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},CV=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},vA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),i.push(n[h],n[d],n[f],n[g])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||d==null)throw new kV;const f=s<<2|a>>4;if(i.push(f),c!==64){const g=a<<4&240|c>>2;if(i.push(g),d!==64){const _=c<<6&192|d;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PV=function(t){const e=yA(t);return vA.encodeByteArray(e,!0)},vd=function(t){return PV(t).replace(/\./g,"")},EA=function(t){try{return vA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=()=>RV().__FIREBASE_DEFAULTS__,OV=()=>{if(typeof process>"u"||typeof tT>"u")return;const t=tT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&EA(t[1]);return e&&JSON.parse(e)},uf=()=>{try{return NV()||OV()||DV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wA=t=>{var e,n;return(n=(e=uf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},TA=t=>{const e=wA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},bA=()=>{var t;return(t=uf())===null||t===void 0?void 0:t.config},xA=t=>{var e;return(e=uf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[vd(JSON.stringify(n)),vd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function VV(){var t;const e=(t=uf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UV(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $V(){return!VV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BV(){try{return typeof indexedDB=="object"}catch{return!1}}function zV(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV="FirebaseError";class ii extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=HV,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dc.prototype.create)}}class Dc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?WV(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new ii(r,a,i)}}function WV(t,e){return t.replace(KV,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const KV=/\{\$([^}]+)}/g;function qV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ed(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(nT(s)&&nT(o)){if(!Ed(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function nT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function gl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function ml(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function GV(t,e){const n=new YV(t,e);return n.subscribe.bind(n)}class YV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");QV(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Vp),r.error===void 0&&(r.error=Vp),r.complete===void 0&&(r.complete=Vp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t){return t&&t._delegate?t._delegate:t}class Ar{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new LV;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZV(e))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ns){return this.instances.has(e)}getOptions(e=ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:JV(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ns){return this.component?this.component.multipleInstances?e:ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JV(t){return t===ns?void 0:t}function ZV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new XV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const tF={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},nF=ce.INFO,iF={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},rF=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=iF[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sy{constructor(e){this.name=e,this._logLevel=nF,this._logHandler=rF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const sF=(t,e)=>e.some(n=>t instanceof n);let iT,rT;function oF(){return iT||(iT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aF(){return rT||(rT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IA=new WeakMap,fm=new WeakMap,AA=new WeakMap,Fp=new WeakMap,oy=new WeakMap;function lF(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(wr(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&IA.set(n,t)}).catch(()=>{}),oy.set(e,t),e}function cF(t){if(fm.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});fm.set(t,e)}let pm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uF(t){pm=t(pm)}function hF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(jp(this),e,...n);return AA.set(i,e.sort?e.sort():[e]),wr(i)}:aF().includes(t)?function(...e){return t.apply(jp(this),e),wr(IA.get(this))}:function(...e){return wr(t.apply(jp(this),e))}}function dF(t){return typeof t=="function"?hF(t):(t instanceof IDBTransaction&&cF(t),sF(t,oF())?new Proxy(t,pm):t)}function wr(t){if(t instanceof IDBRequest)return lF(t);if(Fp.has(t))return Fp.get(t);const e=dF(t);return e!==t&&(Fp.set(t,e),oy.set(e,t)),e}const jp=t=>oy.get(t);function fF(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=wr(o);return i&&o.addEventListener("upgradeneeded",l=>{i(wr(o.result),l.oldVersion,l.newVersion,wr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const pF=["get","getKey","getAll","getAllKeys","count"],gF=["put","add","delete","clear"],Up=new Map;function sT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Up.get(e))return Up.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=gF.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||pF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return Up.set(e,s),s}uF(t=>({...t,get:(e,n,i)=>sT(e,n)||t.get(e,n,i),has:(e,n)=>!!sT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_F(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function _F(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gm="@firebase/app",oT="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new sy("@firebase/app"),yF="@firebase/app-compat",vF="@firebase/analytics-compat",EF="@firebase/analytics",wF="@firebase/app-check-compat",TF="@firebase/app-check",bF="@firebase/auth",xF="@firebase/auth-compat",SF="@firebase/database",IF="@firebase/database-compat",AF="@firebase/functions",CF="@firebase/functions-compat",kF="@firebase/installations",PF="@firebase/installations-compat",RF="@firebase/messaging",NF="@firebase/messaging-compat",OF="@firebase/performance",DF="@firebase/performance-compat",LF="@firebase/remote-config",MF="@firebase/remote-config-compat",VF="@firebase/storage",FF="@firebase/storage-compat",jF="@firebase/firestore",UF="@firebase/vertexai-preview",$F="@firebase/firestore-compat",BF="firebase",zF="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="[DEFAULT]",HF={[gm]:"fire-core",[yF]:"fire-core-compat",[EF]:"fire-analytics",[vF]:"fire-analytics-compat",[TF]:"fire-app-check",[wF]:"fire-app-check-compat",[bF]:"fire-auth",[xF]:"fire-auth-compat",[SF]:"fire-rtdb",[IF]:"fire-rtdb-compat",[AF]:"fire-fn",[CF]:"fire-fn-compat",[kF]:"fire-iid",[PF]:"fire-iid-compat",[RF]:"fire-fcm",[NF]:"fire-fcm-compat",[OF]:"fire-perf",[DF]:"fire-perf-compat",[LF]:"fire-rc",[MF]:"fire-rc-compat",[VF]:"fire-gcs",[FF]:"fire-gcs-compat",[jF]:"fire-fst",[$F]:"fire-fst-compat",[UF]:"fire-vertex","fire-js":"fire-js",[BF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=new Map,WF=new Map,_m=new Map;function aT(t,e){try{t.container.addComponent(e)}catch(n){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xs(t){const e=t.name;if(_m.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;_m.set(e,t);for(const n of wd.values())aT(n,t);for(const n of WF.values())aT(n,t);return!0}function hf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new Dc("app","Firebase",KF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ar("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=zF;function CA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:mm,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Tr.create("bad-app-name",{appName:String(r)});if(n||(n=bA()),!n)throw Tr.create("no-options");const s=wd.get(r);if(s){if(Ed(n,s.options)&&Ed(i,s.config))return s;throw Tr.create("duplicate-app",{appName:r})}const o=new eF(r);for(const l of _m.values())o.addComponent(l);const a=new qF(n,i,o);return wd.set(r,a),a}function ay(t=mm){const e=wd.get(t);if(!e&&t===mm&&bA())return CA();if(!e)throw Tr.create("no-app",{appName:t});return e}function Gn(t,e,n){var i;let r=(i=HF[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(a.join(" "));return}xs(new Ar(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF="firebase-heartbeat-database",YF=1,gc="firebase-heartbeat-store";let $p=null;function kA(){return $p||($p=fF(GF,YF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Tr.create("idb-open",{originalErrorMessage:t.message})})),$p}async function QF(t){try{const n=(await kA()).transaction(gc),i=await n.objectStore(gc).get(PA(t));return await n.done,i}catch(e){if(e instanceof ii)Ci.warn(e.message);else{const n=Tr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ci.warn(n.message)}}}async function lT(t,e){try{const i=(await kA()).transaction(gc,"readwrite");await i.objectStore(gc).put(e,PA(t)),await i.done}catch(n){if(n instanceof ii)Ci.warn(n.message);else{const i=Tr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ci.warn(i.message)}}}function PA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=1024,JF=30*24*60*60*1e3;class ZF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tj(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=cT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=JF}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Ci.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cT(),{heartbeatsToSend:i,unsentEntries:r}=ej(this._heartbeatsCache.heartbeats),s=vd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ci.warn(n),""}}}function cT(){return new Date().toISOString().substring(0,10)}function ej(t,e=XF){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),uT(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),uT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class tj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BV()?zV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return lT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return lT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function uT(t){return vd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(t){xs(new Ar("platform-logger",e=>new mF(e),"PRIVATE")),xs(new Ar("heartbeat",e=>new ZF(e),"PRIVATE")),Gn(gm,oT,t),Gn(gm,oT,"esm2017"),Gn("fire-js","")}nj("");function ly(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function RA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ij=RA,NA=new Dc("auth","Firebase",RA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td=new sy("@firebase/auth");function rj(t,...e){Td.logLevel<=ce.WARN&&Td.warn(`Auth (${Fs}): ${t}`,...e)}function Th(t,...e){Td.logLevel<=ce.ERROR&&Td.error(`Auth (${Fs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t,...e){throw cy(t,...e)}function Yn(t,...e){return cy(t,...e)}function OA(t,e,n){const i=Object.assign(Object.assign({},ij()),{[e]:n});return new Dc("auth","Firebase",i).create(e,{appName:t.name})}function vi(t){return OA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cy(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return NA.create(t,...e)}function X(t,e,...n){if(!t)throw cy(e,...n)}function gi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Th(e),new Error(e)}function ki(t,e){t||gi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function sj(){return hT()==="http:"||hT()==="https:"}function hT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sj()||FV()||"connection"in navigator)?navigator.onLine:!0}function aj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ki(n>e,"Short delay should be less than long delay!"),this.isMobile=MV()||jV()}get(){return oj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(t,e){ki(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=new Mc(3e4,6e4);function Mr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vr(t,e,n,i,r={}){return LA(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=Lc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),DA.fetch()(MA(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function LA(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},lj),e);try{const r=new hj(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Wu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Wu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Wu(t,"user-disabled",o);const h=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw OA(t,h,c);Dn(t,h)}}catch(r){if(r instanceof ii)throw r;Dn(t,"network-request-failed",{message:String(r)})}}async function Vc(t,e,n,i,r={}){const s=await Vr(t,e,n,i,r);return"mfaPendingCredential"in s&&Dn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function MA(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?uy(t.config,r):`${t.config.apiScheme}://${r}`}function uj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Yn(this.auth,"network-request-failed")),cj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Yn(t,e,i);return r.customData._tokenResponse=n,r}function dT(t){return t!==void 0&&t.enterprise!==void 0}class dj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return uj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function fj(t,e){return Vr(t,"GET","/v2/recaptchaConfig",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pj(t,e){return Vr(t,"POST","/v1/accounts:delete",e)}async function VA(t,e){return Vr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gj(t,e=!1){const n=at(t),i=await n.getIdToken(e),r=hy(i);X(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Ll(Bp(r.auth_time)),issuedAtTime:Ll(Bp(r.iat)),expirationTime:Ll(Bp(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Bp(t){return Number(t)*1e3}function hy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const r=EA(n);return r?JSON.parse(r):(Th("Failed to decode base64 JWT payload"),null)}catch(r){return Th("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function fT(t){const e=hy(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ii&&mj(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function mj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(t){var e;const n=t.auth,i=await t.getIdToken(),r=await mc(t,VA(n,{idToken:i}));X(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?FA(s.providerUserInfo):[],a=vj(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new vm(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function yj(t){const e=at(t);await bd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vj(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function FA(t){return t.map(e=>{var{providerId:n}=e,i=ly(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ej(t,e){const n=await LA(t,{},async()=>{const i=Lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=MA(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",DA.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wj(t,e){return Vr(t,"POST","/v2/accounts:revokeToken",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");const n=fT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await Ej(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new Ro;return i&&(X(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(X(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(X(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mi{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=ly(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _j(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await mc(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gj(this,e)}reload(){return yj(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await bd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(vi(this.auth));const e=await this.getIdToken();return await mc(this,pj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,c,h;const d=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(r=n.email)!==null&&r!==void 0?r:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,E=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:b,emailVerified:C,isAnonymous:N,providerData:L,stsTokenManager:S}=n;X(b&&S,e,"internal-error");const y=Ro.fromJSON(this.name,S);X(typeof b=="string",e,"internal-error"),Hi(d,e.name),Hi(f,e.name),X(typeof C=="boolean",e,"internal-error"),X(typeof N=="boolean",e,"internal-error"),Hi(g,e.name),Hi(_,e.name),Hi(v,e.name),Hi(x,e.name),Hi(w,e.name),Hi(E,e.name);const I=new mi({uid:b,auth:e,email:f,emailVerified:C,displayName:d,isAnonymous:N,photoURL:_,phoneNumber:g,tenantId:v,stsTokenManager:y,createdAt:w,lastLoginAt:E});return L&&Array.isArray(L)&&(I.providerData=L.map(k=>Object.assign({},k))),x&&(I._redirectEventId=x),I}static async _fromIdTokenResponse(e,n,i=!1){const r=new Ro;r.updateFromServerResponse(n);const s=new mi({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await bd(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];X(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?FA(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new Ro;a.updateFromIdToken(i);const l=new mi({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new vm(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=new Map;function _i(t){ki(t instanceof Function,"Expected a class definition");let e=pT.get(t);return e?(ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jA.type="NONE";const gT=jA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(t,e,n){return`firebase:${t}:${e}:${n}`}class No{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=bh(this.userKey,r.apiKey,s),this.fullPersistenceKey=bh("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?mi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new No(_i(gT),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||_i(gT);const o=bh(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const d=mi._fromJSON(e,h);c!==s&&(a=d),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new No(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new No(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WA(e))return"Blackberry";if(KA(e))return"Webos";if($A(e))return"Safari";if((e.includes("chrome/")||BA(e))&&!e.includes("edge/"))return"Chrome";if(HA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function UA(t=At()){return/firefox\//i.test(t)}function $A(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BA(t=At()){return/crios\//i.test(t)}function zA(t=At()){return/iemobile/i.test(t)}function HA(t=At()){return/android/i.test(t)}function WA(t=At()){return/blackberry/i.test(t)}function KA(t=At()){return/webos/i.test(t)}function dy(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Tj(t=At()){var e;return dy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bj(){return UV()&&document.documentMode===10}function qA(t=At()){return dy(t)||HA(t)||KA(t)||WA(t)||/windows phone/i.test(t)||zA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t,e=[]){let n;switch(t){case"Browser":n=mT(At());break;case"Worker":n=`${mT(At())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fs}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sj(t,e={}){return Vr(t,"GET","/v2/passwordPolicy",Mr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=6;class Aj{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Ij,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _T(this),this.idTokenSubscription=new _T(this),this.beforeStateQueue=new xj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_i(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await No.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await VA(this,{idToken:e}),i=await mi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(zn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(vi(this));const n=e?at(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Sj(this),n=new Aj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await wj(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_i(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[_i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&rj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function js(t){return at(t)}class _T{constructor(e){this.auth=e,this.observer=null,this.addObserver=GV(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kj(t){df=t}function YA(t){return df.loadJS(t)}function Pj(){return df.recaptchaEnterpriseScript}function Rj(){return df.gapiScript}function Nj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Oj="recaptcha-enterprise",Dj="NO_RECAPTCHA";class Lj{constructor(e){this.type=Oj,this.auth=js(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{fj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new dj(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;dT(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Dj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&dT(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Pj();l.length!==0&&(l+=a),YA(l).then(()=>{r(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function yT(t,e,n,i=!1){const r=new Lj(t);let s;try{s=await r.verify(n)}catch{s=await r.verify(n,!0)}const o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Em(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await yT(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await yT(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(t,e){const n=hf(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Ed(s,e??{}))return r;Dn(r,"already-initialized")}return n.initialize({options:e})}function Vj(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(_i);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Fj(t,e,n){const i=js(t);X(i._canInitEmulator,i,"emulator-config-failed"),X(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=QA(e),{host:o,port:a}=jj(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),Uj()}function QA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jj(t){const e=QA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:vT(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:vT(o)}}}function vT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Uj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gi("not implemented")}_getIdTokenResponse(e){return gi("not implemented")}_linkToIdToken(e,n){return gi("not implemented")}_getReauthenticationResolver(e){return gi("not implemented")}}async function $j(t,e){return Vr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bj(t,e){return Vc(t,"POST","/v1/accounts:signInWithPassword",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj(t,e){return Vc(t,"POST","/v1/accounts:signInWithEmailLink",Mr(t,e))}async function Hj(t,e){return Vc(t,"POST","/v1/accounts:signInWithEmailLink",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends fy{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new _c(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new _c(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Em(e,n,"signInWithPassword",Bj);case"emailLink":return zj(e,{email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Em(e,i,"signUpPassword",$j);case"emailLink":return Hj(e,{idToken:n,email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(t,e){return Vc(t,"POST","/v1/accounts:signInWithIdp",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj="http://localhost";class Ss extends fy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=ly(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Ss(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Oo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Oo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Oo(e,n)}buildRequest(){const e={requestUri:Wj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qj(t){const e=gl(ml(t)).link,n=e?gl(ml(e)).deep_link_id:null,i=gl(ml(t)).deep_link_id;return(i?gl(ml(i)).link:null)||i||n||e||t}class py{constructor(e){var n,i,r,s,o,a;const l=gl(ml(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(i=l.oobCode)!==null&&i!==void 0?i:null,d=Kj((r=l.mode)!==null&&r!==void 0?r:null);X(c&&h&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=qj(e);try{return new py(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.providerId=pa.PROVIDER_ID}static credential(e,n){return _c._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=py.parseLink(n);return X(i,"argument-error"),_c._fromEmailAndCode(e,i.code,i.tenantId)}}pa.PROVIDER_ID="password";pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends XA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Fc{constructor(){super("facebook.com")}static credential(e){return Ss._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Fc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ss._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ji.credential(n,i)}catch{return null}}}Ji.GOOGLE_SIGN_IN_METHOD="google.com";Ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Fc{constructor(){super("github.com")}static credential(e){return Ss._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.GITHUB_SIGN_IN_METHOD="github.com";Zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends Fc{constructor(){super("twitter.com")}static credential(e,n){return Ss._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return er.credential(n,i)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gj(t,e){return Vc(t,"POST","/v1/accounts:signUp",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await mi._fromIdTokenResponse(e,i,r),o=ET(i);return new Is({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=ET(i);return new Is({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function ET(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd extends ii{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,xd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new xd(e,n,i,r)}}function JA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?xd._fromErrorAndOperation(t,s,e,i):s})}async function Yj(t,e,n=!1){const i=await mc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Is._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qj(t,e,n=!1){const{auth:i}=t;if(zn(i.app))return Promise.reject(vi(i));const r="reauthenticate";try{const s=await mc(t,JA(i,r,e,t),n);X(s.idToken,i,"internal-error");const o=hy(s.idToken);X(o,i,"internal-error");const{sub:a}=o;return X(t.uid===a,i,"user-mismatch"),Is._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Dn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZA(t,e,n=!1){if(zn(t.app))return Promise.reject(vi(t));const i="signIn",r=await JA(t,i,e),s=await Is._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function Xj(t,e){return ZA(js(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC(t){const e=js(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Jj(t,e,n){if(zn(t.app))return Promise.reject(vi(t));const i=js(t),o=await Em(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gj).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&eC(t),l}),a=await Is._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function Zj(t,e,n){return zn(t.app)?Promise.reject(vi(t)):Xj(at(t),pa.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&eC(t),i})}function eU(t,e,n,i){return at(t).onIdTokenChanged(e,n,i)}function tU(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function tC(t,e,n,i){return at(t).onAuthStateChanged(e,n,i)}const Sd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sd,"1"),this.storage.removeItem(Sd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU=1e3,iU=10;class iC extends nC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);bj()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,iU):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},nU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iC.type="LOCAL";const rU=iC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC extends nC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rC.type="SESSION";const sC=rC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new ff(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await sU(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=gy("",20);r.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return window}function aU(t){Qn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(){return typeof Qn().WorkerGlobalScope<"u"&&typeof Qn().importScripts=="function"}async function lU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function uU(){return oC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="firebaseLocalStorageDb",hU=1,Id="firebaseLocalStorage",lC="fbase_key";class jc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pf(t,e){return t.transaction([Id],e?"readwrite":"readonly").objectStore(Id)}function dU(){const t=indexedDB.deleteDatabase(aC);return new jc(t).toPromise()}function wm(){const t=indexedDB.open(aC,hU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Id,{keyPath:lC})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Id)?e(i):(i.close(),await dU(),e(await wm()))})})}async function wT(t,e,n){const i=pf(t,!0).put({[lC]:e,value:n});return new jc(i).toPromise()}async function fU(t,e){const n=pf(t,!1).get(e),i=await new jc(n).toPromise();return i===void 0?null:i.value}function TT(t,e){const n=pf(t,!0).delete(e);return new jc(n).toPromise()}const pU=800,gU=3;class cC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>gU)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ff._getInstance(uU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await lU(),!this.activeServiceWorker)return;this.sender=new oU(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wm();return await wT(e,Sd,"1"),await TT(e,Sd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>wT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>fU(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>TT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=pf(r,!1).getAll();return new jc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cC.type="LOCAL";const mU=cC;new Mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(t,e){return e?_i(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my extends fy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yU(t){return ZA(t.auth,new my(t),t.bypassAuthState)}function vU(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),Qj(n,new my(t),t.bypassAuthState)}async function EU(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),Yj(n,new my(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yU;case"linkViaPopup":case"linkViaRedirect":return EU;case"reauthViaPopup":case"reauthViaRedirect":return vU;default:Dn(this.auth,"internal-error")}}resolve(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=new Mc(2e3,1e4);class To extends uC{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){ki(this.filter.length===1,"Popup operations only handle one event");const e=gy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wU.get())};e()}}To.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU="pendingRedirect",xh=new Map;class bU extends uC{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=xh.get(this.auth._key());if(!e){try{const i=await xU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}xh.set(this.auth._key(),e)}return this.bypassAuthState||xh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xU(t,e){const n=AU(e),i=IU(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function SU(t,e){xh.set(t._key(),e)}function IU(t){return _i(t._redirectPersistence)}function AU(t){return bh(TU,t.config.apiKey,t.name)}async function CU(t,e,n=!1){if(zn(t.app))return Promise.reject(vi(t));const i=js(t),r=_U(i,e),o=await new bU(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=10*60*1e3;class PU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!hC(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Yn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kU&&this.cachedEventUids.clear(),this.cachedEventUids.has(bT(e))}saveEventToCache(e){this.cachedEventUids.add(bT(e)),this.lastProcessedEventTime=Date.now()}}function bT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NU(t,e={}){return Vr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DU=/^https?/;async function LU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await NU(t);for(const n of e)try{if(MU(n))return}catch{}Dn(t,"unauthorized-domain")}function MU(t){const e=ym(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!DU.test(n))return!1;if(OU.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=new Mc(3e4,6e4);function xT(){const t=Qn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function FU(t){return new Promise((e,n)=>{var i,r,s;function o(){xT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xT(),n(Yn(t,"network-request-failed"))},timeout:VU.get()})}if(!((r=(i=Qn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Qn().gapi)===null||s===void 0)&&s.load)o();else{const a=Nj("iframefcb");return Qn()[a]=()=>{gapi.load?o():n(Yn(t,"network-request-failed"))},YA(`${Rj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Sh=null,e})}let Sh=null;function jU(t){return Sh=Sh||FU(t),Sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU=new Mc(5e3,15e3),$U="__/auth/iframe",BU="emulator/auth/iframe",zU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WU(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?uy(e,BU):`https://${t.config.authDomain}/${$U}`,i={apiKey:e.apiKey,appName:t.name,v:Fs},r=HU.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Lc(i).slice(1)}`}async function KU(t){const e=await jU(t),n=Qn().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:WU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zU,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=Yn(t,"network-request-failed"),a=Qn().setTimeout(()=>{s(o)},UU.get());function l(){Qn().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GU=500,YU=600,QU="_blank",XU="http://localhost";class ST{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JU(t,e,n,i=GU,r=YU){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},qU),{width:i.toString(),height:r.toString(),top:s,left:o}),c=At().toLowerCase();n&&(a=BA(c)?QU:n),UA(c)&&(e=e||XU,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[g,_])=>`${f}${g}=${_},`,"");if(Tj(c)&&a!=="_self")return ZU(e||"",a),new ST(null);const d=window.open(e||"",a,h);X(d,t,"popup-blocked");try{d.focus()}catch{}return new ST(d)}function ZU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e$="__/auth/handler",t$="emulator/auth/handler",n$=encodeURIComponent("fac");async function IT(t,e,n,i,r,s){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Fs,eventId:r};if(e instanceof XA){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",qV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof Fc){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${n$}=${encodeURIComponent(l)}`:"";return`${i$(t)}?${Lc(a).slice(1)}${c}`}function i$({config:t}){return t.emulator?uy(t,t$):`https://${t.authDomain}/${e$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="webStorageSupport";class r${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sC,this._completeRedirectFn=CU,this._overrideRedirectResult=SU}async _openPopup(e,n,i,r){var s;ki((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await IT(e,n,i,ym(),r);return JU(e,o,gy())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await IT(e,n,i,ym(),r);return aU(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(ki(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await KU(e),i=new PU(e);return n.register("authEvent",r=>(X(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zp,{type:zp},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[zp];o!==void 0&&n(!!o),Dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qA()||$A()||dy()}}const s$=r$;var AT="@firebase/auth",CT="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l$(t){xs(new Ar("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GA(t)},c=new Cj(i,r,s,l);return Vj(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),xs(new Ar("auth-internal",e=>{const n=js(e.getProvider("auth").getImmediate());return(i=>new o$(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gn(AT,CT,a$(t)),Gn(AT,CT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$=5*60,u$=xA("authIdTokenMaxAge")||c$;let kT=null;const h$=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>u$)return;const r=n==null?void 0:n.token;kT!==r&&(kT=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function _y(t=ay()){const e=hf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Mj(t,{popupRedirectResolver:s$,persistence:[mU,rU,sC]}),i=xA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=h$(s.toString());tU(n,o,()=>o(n.currentUser)),eU(n,a=>o(a))}}const r=wA("auth");return r&&Fj(n,`http://${r}`),n}function d$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}kj({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=Yn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",d$().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});l$("Browser");const Vi=O.createContext();function f$({children:t}){const[e,n]=O.useState(()=>{const r=localStorage.getItem("user");return r?JSON.parse(r):null});console.log(e);const i=_y();return O.useEffect(()=>{const r=tC(i,s=>{s?n(s):(n(null),localStorage.removeItem("user"))});return()=>r()},[i]),T.jsx(Vi.Provider,{value:{user:e,setUser:n},children:t})}function dC(){const[t,e]=O.useState([]),[n,i]=O.useState(new Set),r=an(),s=O.useContext(Vi);O.useEffect(()=>{s&&(async()=>{try{const f=s.user.email==="admin@gmail.com"?"https://backend-2txi.vercel.app/expenses":`https://backend-2txi.vercel.app/expenses/user/${s.user.uid}`,_=await(await fetch(f)).json();e(_)}catch(f){console.error(f.message)}})()});const o=()=>{r("/newExpense")};console.log(t);const a=d=>{const f=new Set(n);f.has(d)?f.delete(d):f.add(d),i(f)},l=d=>{if(d.target.checked){const f=new Set(t.map(g=>g.id));i(f)}else i(new Set)},c=async()=>{const d=Array.from(n);if(d.length===0){alert("No expenses selected for deletion.");return}await Promise.all(d.map(f=>fetch(`https://backend-2txi.vercel.app/expenses/${f}`,{method:"DELETE"}))),e(f=>f.filter(g=>!d.includes(g.id))),i(new Set)},h=d=>new Date(d).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0});return T.jsx("div",{className:"container",style:{display:"flex"},children:T.jsxs("div",{style:{width:"100%"},children:[T.jsx("button",{onClick:o,type:"button",class:"btn btn-success",style:{marginRight:"10px"},children:"+ New expense"}),n.size>0&&T.jsx("button",{onClick:c,type:"button",class:"btn btn-danger",children:"Delete Selected"}),T.jsxs("table",{class:"table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{scope:"col",children:T.jsx("input",{type:"checkbox",onChange:l,checked:n.size===t.length&&t.length>0})}),T.jsx("th",{scope:"col",children:"DETAILS"}),T.jsx("th",{scope:"col",children:"MERCHANT"}),T.jsx("th",{scope:"col",children:"REPORT"}),T.jsx("th",{scope:"col",children:"AMOUNT"}),T.jsx("th",{scope:"col",children:"STATUS"})]})}),T.jsx("tbody",{children:t.map(d=>T.jsxs("tr",{children:[T.jsx("th",{scope:"row",children:T.jsx("input",{type:"checkbox",checked:n.has(d.id),onChange:()=>a(d.id)})}),T.jsx("td",{children:d.subject}),T.jsx("td",{children:d.merchant}),T.jsx("td",{children:h(d.date)}),T.jsx("td",{children:d.amount}),T.jsx("td",{children:d.status})]},d.id))})]})]})})}function p$(){const t=an(),[e,n]=O.useState([]);console.log(e);const[i,r]=O.useState(new Set),s=()=>{t("/newTrips")},{user:o}=O.useContext(Vi);console.log(o.uid),O.useEffect(()=>{o&&(async()=>{try{const f=o.email==="admin@gmail.com"?"https://backend-2txi.vercel.app/trips":`https://backend-2txi.vercel.app/trips/user/${o.uid}`,_=await(await fetch(f)).json();console.log("Response from server:",_),n(_)}catch(f){console.error(f.message)}})()},[]);const a=d=>{const f=new Set(i);f.has(d)?f.delete(d):f.add(d),r(f)},l=d=>{if(d.target.checked){const f=new Set(e.map(g=>g.id));r(f)}else r(new Set)},c=async()=>{const d=Array.from(i);if(d.length===0){alert("No trips selected for deletion.");return}await Promise.all(d.map(f=>fetch(`https://backend-2txi.vercel.app/trips/${f}`,{method:"DELETE"}))),n(f=>{const g=[...f];return d.forEach(_=>{const v=g.findIndex(x=>x.id===_);v!==-1&&g.splice(v,1)}),g}),r(new Set)},h=d=>new Date(d).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0});return T.jsx("div",{className:"container",style:{display:"flex"},children:T.jsxs("div",{style:{width:"100%"},children:[T.jsx("button",{onClick:s,type:"button",class:"btn btn-success",style:{marginRight:"10px"},children:"+ New trip"}),i.size>0&&T.jsx("button",{onClick:c,type:"button",class:"btn btn-danger",children:"Delete Selected"}),T.jsxs("table",{className:"table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{scope:"col",children:T.jsx("input",{type:"checkbox",class:"deleteAll",onChange:l,checked:i.size===e.length&&e.length>0})}),T.jsx("th",{scope:"col",children:"Departure"}),T.jsx("th",{scope:"col",children:"RETURN"}),T.jsx("th",{scope:"col",children:"SUBJECT"}),T.jsx("th",{scope:"col",children:"AMOUNT"}),T.jsx("th",{scope:"col",children:"REPORT"}),T.jsx("th",{scope:"col",children:"STATUS"})]})}),T.jsx("tbody",{children:e.map(d=>T.jsxs("tr",{children:[T.jsx("th",{scope:"row",children:T.jsx("input",{type:"checkbox",checked:i.has(d.id),onChange:()=>a(d.id)})}),T.jsx("td",{children:h(d.depart_from)}),T.jsx("td",{children:h(d.destination)}),T.jsx("td",{children:d.purpose}),T.jsx("td",{children:d.amount}),T.jsx("td",{children:h(d.create_at)}),T.jsx("td",{children:d.status})]},d.id))})]})]})})}var g$="firebase",m$="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn(g$,m$,"app");var PT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ps,fC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,y){function I(){}I.prototype=y.prototype,S.D=y.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(k,R,D){for(var P=Array(arguments.length-2),le=2;le<arguments.length;le++)P[le-2]=arguments[le];return y.prototype[R].apply(k,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(S,y,I){I||(I=0);var k=Array(16);if(typeof y=="string")for(var R=0;16>R;++R)k[R]=y.charCodeAt(I++)|y.charCodeAt(I++)<<8|y.charCodeAt(I++)<<16|y.charCodeAt(I++)<<24;else for(R=0;16>R;++R)k[R]=y[I++]|y[I++]<<8|y[I++]<<16|y[I++]<<24;y=S.g[0],I=S.g[1],R=S.g[2];var D=S.g[3],P=y+(D^I&(R^D))+k[0]+3614090360&4294967295;y=I+(P<<7&4294967295|P>>>25),P=D+(R^y&(I^R))+k[1]+3905402710&4294967295,D=y+(P<<12&4294967295|P>>>20),P=R+(I^D&(y^I))+k[2]+606105819&4294967295,R=D+(P<<17&4294967295|P>>>15),P=I+(y^R&(D^y))+k[3]+3250441966&4294967295,I=R+(P<<22&4294967295|P>>>10),P=y+(D^I&(R^D))+k[4]+4118548399&4294967295,y=I+(P<<7&4294967295|P>>>25),P=D+(R^y&(I^R))+k[5]+1200080426&4294967295,D=y+(P<<12&4294967295|P>>>20),P=R+(I^D&(y^I))+k[6]+2821735955&4294967295,R=D+(P<<17&4294967295|P>>>15),P=I+(y^R&(D^y))+k[7]+4249261313&4294967295,I=R+(P<<22&4294967295|P>>>10),P=y+(D^I&(R^D))+k[8]+1770035416&4294967295,y=I+(P<<7&4294967295|P>>>25),P=D+(R^y&(I^R))+k[9]+2336552879&4294967295,D=y+(P<<12&4294967295|P>>>20),P=R+(I^D&(y^I))+k[10]+4294925233&4294967295,R=D+(P<<17&4294967295|P>>>15),P=I+(y^R&(D^y))+k[11]+2304563134&4294967295,I=R+(P<<22&4294967295|P>>>10),P=y+(D^I&(R^D))+k[12]+1804603682&4294967295,y=I+(P<<7&4294967295|P>>>25),P=D+(R^y&(I^R))+k[13]+4254626195&4294967295,D=y+(P<<12&4294967295|P>>>20),P=R+(I^D&(y^I))+k[14]+2792965006&4294967295,R=D+(P<<17&4294967295|P>>>15),P=I+(y^R&(D^y))+k[15]+1236535329&4294967295,I=R+(P<<22&4294967295|P>>>10),P=y+(R^D&(I^R))+k[1]+4129170786&4294967295,y=I+(P<<5&4294967295|P>>>27),P=D+(I^R&(y^I))+k[6]+3225465664&4294967295,D=y+(P<<9&4294967295|P>>>23),P=R+(y^I&(D^y))+k[11]+643717713&4294967295,R=D+(P<<14&4294967295|P>>>18),P=I+(D^y&(R^D))+k[0]+3921069994&4294967295,I=R+(P<<20&4294967295|P>>>12),P=y+(R^D&(I^R))+k[5]+3593408605&4294967295,y=I+(P<<5&4294967295|P>>>27),P=D+(I^R&(y^I))+k[10]+38016083&4294967295,D=y+(P<<9&4294967295|P>>>23),P=R+(y^I&(D^y))+k[15]+3634488961&4294967295,R=D+(P<<14&4294967295|P>>>18),P=I+(D^y&(R^D))+k[4]+3889429448&4294967295,I=R+(P<<20&4294967295|P>>>12),P=y+(R^D&(I^R))+k[9]+568446438&4294967295,y=I+(P<<5&4294967295|P>>>27),P=D+(I^R&(y^I))+k[14]+3275163606&4294967295,D=y+(P<<9&4294967295|P>>>23),P=R+(y^I&(D^y))+k[3]+4107603335&4294967295,R=D+(P<<14&4294967295|P>>>18),P=I+(D^y&(R^D))+k[8]+1163531501&4294967295,I=R+(P<<20&4294967295|P>>>12),P=y+(R^D&(I^R))+k[13]+2850285829&4294967295,y=I+(P<<5&4294967295|P>>>27),P=D+(I^R&(y^I))+k[2]+4243563512&4294967295,D=y+(P<<9&4294967295|P>>>23),P=R+(y^I&(D^y))+k[7]+1735328473&4294967295,R=D+(P<<14&4294967295|P>>>18),P=I+(D^y&(R^D))+k[12]+2368359562&4294967295,I=R+(P<<20&4294967295|P>>>12),P=y+(I^R^D)+k[5]+4294588738&4294967295,y=I+(P<<4&4294967295|P>>>28),P=D+(y^I^R)+k[8]+2272392833&4294967295,D=y+(P<<11&4294967295|P>>>21),P=R+(D^y^I)+k[11]+1839030562&4294967295,R=D+(P<<16&4294967295|P>>>16),P=I+(R^D^y)+k[14]+4259657740&4294967295,I=R+(P<<23&4294967295|P>>>9),P=y+(I^R^D)+k[1]+2763975236&4294967295,y=I+(P<<4&4294967295|P>>>28),P=D+(y^I^R)+k[4]+1272893353&4294967295,D=y+(P<<11&4294967295|P>>>21),P=R+(D^y^I)+k[7]+4139469664&4294967295,R=D+(P<<16&4294967295|P>>>16),P=I+(R^D^y)+k[10]+3200236656&4294967295,I=R+(P<<23&4294967295|P>>>9),P=y+(I^R^D)+k[13]+681279174&4294967295,y=I+(P<<4&4294967295|P>>>28),P=D+(y^I^R)+k[0]+3936430074&4294967295,D=y+(P<<11&4294967295|P>>>21),P=R+(D^y^I)+k[3]+3572445317&4294967295,R=D+(P<<16&4294967295|P>>>16),P=I+(R^D^y)+k[6]+76029189&4294967295,I=R+(P<<23&4294967295|P>>>9),P=y+(I^R^D)+k[9]+3654602809&4294967295,y=I+(P<<4&4294967295|P>>>28),P=D+(y^I^R)+k[12]+3873151461&4294967295,D=y+(P<<11&4294967295|P>>>21),P=R+(D^y^I)+k[15]+530742520&4294967295,R=D+(P<<16&4294967295|P>>>16),P=I+(R^D^y)+k[2]+3299628645&4294967295,I=R+(P<<23&4294967295|P>>>9),P=y+(R^(I|~D))+k[0]+4096336452&4294967295,y=I+(P<<6&4294967295|P>>>26),P=D+(I^(y|~R))+k[7]+1126891415&4294967295,D=y+(P<<10&4294967295|P>>>22),P=R+(y^(D|~I))+k[14]+2878612391&4294967295,R=D+(P<<15&4294967295|P>>>17),P=I+(D^(R|~y))+k[5]+4237533241&4294967295,I=R+(P<<21&4294967295|P>>>11),P=y+(R^(I|~D))+k[12]+1700485571&4294967295,y=I+(P<<6&4294967295|P>>>26),P=D+(I^(y|~R))+k[3]+2399980690&4294967295,D=y+(P<<10&4294967295|P>>>22),P=R+(y^(D|~I))+k[10]+4293915773&4294967295,R=D+(P<<15&4294967295|P>>>17),P=I+(D^(R|~y))+k[1]+2240044497&4294967295,I=R+(P<<21&4294967295|P>>>11),P=y+(R^(I|~D))+k[8]+1873313359&4294967295,y=I+(P<<6&4294967295|P>>>26),P=D+(I^(y|~R))+k[15]+4264355552&4294967295,D=y+(P<<10&4294967295|P>>>22),P=R+(y^(D|~I))+k[6]+2734768916&4294967295,R=D+(P<<15&4294967295|P>>>17),P=I+(D^(R|~y))+k[13]+1309151649&4294967295,I=R+(P<<21&4294967295|P>>>11),P=y+(R^(I|~D))+k[4]+4149444226&4294967295,y=I+(P<<6&4294967295|P>>>26),P=D+(I^(y|~R))+k[11]+3174756917&4294967295,D=y+(P<<10&4294967295|P>>>22),P=R+(y^(D|~I))+k[2]+718787259&4294967295,R=D+(P<<15&4294967295|P>>>17),P=I+(D^(R|~y))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+y&4294967295,S.g[1]=S.g[1]+(R+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+R&4294967295,S.g[3]=S.g[3]+D&4294967295}i.prototype.u=function(S,y){y===void 0&&(y=S.length);for(var I=y-this.blockSize,k=this.B,R=this.h,D=0;D<y;){if(R==0)for(;D<=I;)r(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<y;)if(k[R++]=S.charCodeAt(D++),R==this.blockSize){r(this,k),R=0;break}}else for(;D<y;)if(k[R++]=S[D++],R==this.blockSize){r(this,k),R=0;break}}this.h=R,this.o+=y},i.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var y=1;y<S.length-8;++y)S[y]=0;var I=8*this.o;for(y=S.length-8;y<S.length;++y)S[y]=I&255,I/=256;for(this.u(S),S=Array(16),y=I=0;4>y;++y)for(var k=0;32>k;k+=8)S[I++]=this.g[y]>>>k&255;return S};function s(S,y){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=y(S)}function o(S,y){this.h=y;for(var I=[],k=!0,R=S.length-1;0<=R;R--){var D=S[R]|0;k&&D==y||(I[R]=D,k=!1)}this.g=I}var a={};function l(S){return-128<=S&&128>S?s(S,function(y){return new o([y|0],0>y?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return x(c(-S));for(var y=[],I=1,k=0;S>=I;k++)y[k]=S/I|0,I*=4294967296;return new o(y,0)}function h(S,y){if(S.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(S.charAt(0)=="-")return x(h(S.substring(1),y));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(y,8)),k=d,R=0;R<S.length;R+=8){var D=Math.min(8,S.length-R),P=parseInt(S.substring(R,R+D),y);8>D?(D=c(Math.pow(y,D)),k=k.j(D).add(c(P))):(k=k.j(I),k=k.add(c(P)))}return k}var d=l(0),f=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-x(this).m();for(var S=0,y=1,I=0;I<this.g.length;I++){var k=this.i(I);S+=(0<=k?k:4294967296+k)*y,y*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(_(this))return"0";if(v(this))return"-"+x(this).toString(S);for(var y=c(Math.pow(S,6)),I=this,k="";;){var R=C(I,y).g;I=w(I,R.j(y));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=R,_(I))return D+k;for(;6>D.length;)D="0"+D;k=D+k}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function _(S){if(S.h!=0)return!1;for(var y=0;y<S.g.length;y++)if(S.g[y]!=0)return!1;return!0}function v(S){return S.h==-1}t.l=function(S){return S=w(this,S),v(S)?-1:_(S)?0:1};function x(S){for(var y=S.g.length,I=[],k=0;k<y;k++)I[k]=~S.g[k];return new o(I,~S.h).add(f)}t.abs=function(){return v(this)?x(this):this},t.add=function(S){for(var y=Math.max(this.g.length,S.g.length),I=[],k=0,R=0;R<=y;R++){var D=k+(this.i(R)&65535)+(S.i(R)&65535),P=(D>>>16)+(this.i(R)>>>16)+(S.i(R)>>>16);k=P>>>16,D&=65535,P&=65535,I[R]=P<<16|D}return new o(I,I[I.length-1]&-2147483648?-1:0)};function w(S,y){return S.add(x(y))}t.j=function(S){if(_(this)||_(S))return d;if(v(this))return v(S)?x(this).j(x(S)):x(x(this).j(S));if(v(S))return x(this.j(x(S)));if(0>this.l(g)&&0>S.l(g))return c(this.m()*S.m());for(var y=this.g.length+S.g.length,I=[],k=0;k<2*y;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var R=0;R<S.g.length;R++){var D=this.i(k)>>>16,P=this.i(k)&65535,le=S.i(R)>>>16,ne=S.i(R)&65535;I[2*k+2*R]+=P*ne,E(I,2*k+2*R),I[2*k+2*R+1]+=D*ne,E(I,2*k+2*R+1),I[2*k+2*R+1]+=P*le,E(I,2*k+2*R+1),I[2*k+2*R+2]+=D*le,E(I,2*k+2*R+2)}for(k=0;k<y;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=y;k<2*y;k++)I[k]=0;return new o(I,0)};function E(S,y){for(;(S[y]&65535)!=S[y];)S[y+1]+=S[y]>>>16,S[y]&=65535,y++}function b(S,y){this.g=S,this.h=y}function C(S,y){if(_(y))throw Error("division by zero");if(_(S))return new b(d,d);if(v(S))return y=C(x(S),y),new b(x(y.g),x(y.h));if(v(y))return y=C(S,x(y)),new b(x(y.g),y.h);if(30<S.g.length){if(v(S)||v(y))throw Error("slowDivide_ only works with positive integers.");for(var I=f,k=y;0>=k.l(S);)I=N(I),k=N(k);var R=L(I,1),D=L(k,1);for(k=L(k,2),I=L(I,2);!_(k);){var P=D.add(k);0>=P.l(S)&&(R=R.add(I),D=P),k=L(k,1),I=L(I,1)}return y=w(S,R.j(y)),new b(R,y)}for(R=d;0<=S.l(y);){for(I=Math.max(1,Math.floor(S.m()/y.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),D=c(I),P=D.j(y);v(P)||0<P.l(S);)I-=k,D=c(I),P=D.j(y);_(D)&&(D=f),R=R.add(D),S=w(S,P)}return new b(R,S)}t.A=function(S){return C(this,S).h},t.and=function(S){for(var y=Math.max(this.g.length,S.g.length),I=[],k=0;k<y;k++)I[k]=this.i(k)&S.i(k);return new o(I,this.h&S.h)},t.or=function(S){for(var y=Math.max(this.g.length,S.g.length),I=[],k=0;k<y;k++)I[k]=this.i(k)|S.i(k);return new o(I,this.h|S.h)},t.xor=function(S){for(var y=Math.max(this.g.length,S.g.length),I=[],k=0;k<y;k++)I[k]=this.i(k)^S.i(k);return new o(I,this.h^S.h)};function N(S){for(var y=S.g.length+1,I=[],k=0;k<y;k++)I[k]=S.i(k)<<1|S.i(k-1)>>>31;return new o(I,S.h)}function L(S,y){var I=y>>5;y%=32;for(var k=S.g.length-I,R=[],D=0;D<k;D++)R[D]=0<y?S.i(D+I)>>>y|S.i(D+I+1)<<32-y:S.i(D+I);return new o(R,S.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,fC=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,ps=o}).apply(typeof PT<"u"?PT:typeof self<"u"?self:typeof window<"u"?window:{});var Ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pC,gC,_l,mC,Ih,Tm,_C,yC,vC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,m){return u==Array.prototype||u==Object.prototype||(u[p]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ku=="object"&&Ku];for(var p=0;p<u.length;++p){var m=u[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var i=n(this);function r(u,p){if(p)e:{var m=i;u=u.split(".");for(var A=0;A<u.length-1;A++){var M=u[A];if(!(M in m))break e;m=m[M]}u=u[u.length-1],A=m[u],p=p(A),p!=A&&p!=null&&e(m,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var m=0,A=!1,M={next:function(){if(!A&&m<u.length){var V=m++;return{value:p(V,u[V]),done:!1}}return A=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}r("Array.prototype.values",function(u){return u||function(){return s(this,function(p,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,m){return u.call.apply(u.bind,arguments)}function d(u,p,m){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,A),u.apply(p,M)}}return function(){return u.apply(p,arguments)}}function f(u,p,m){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function g(u,p){var m=Array.prototype.slice.call(arguments,1);return function(){var A=m.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function _(u,p){function m(){}m.prototype=p.prototype,u.aa=p.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(A,M,V){for(var z=Array(arguments.length-2),we=2;we<arguments.length;we++)z[we-2]=arguments[we];return p.prototype[M].apply(A,z)}}function v(u){const p=u.length;if(0<p){const m=Array(p);for(let A=0;A<p;A++)m[A]=u[A];return m}return[]}function x(u,p){for(let m=1;m<arguments.length;m++){const A=arguments[m];if(l(A)){const M=u.length||0,V=A.length||0;u.length=M+V;for(let z=0;z<V;z++)u[M+z]=A[z]}else u.push(A)}}class w{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function E(u){return/^[\s\xa0]*$/.test(u)}function b(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function C(u){return C[" "](u),u}C[" "]=function(){};var N=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function L(u,p,m){for(const A in u)p.call(m,u[A],A,u)}function S(u,p){for(const m in u)p.call(void 0,u[m],m,u)}function y(u){const p={};for(const m in u)p[m]=u[m];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,p){let m,A;for(let M=1;M<arguments.length;M++){A=arguments[M];for(m in A)u[m]=A[m];for(let V=0;V<I.length;V++)m=I[V],Object.prototype.hasOwnProperty.call(A,m)&&(u[m]=A[m])}}function R(u){var p=1;u=u.split(":");const m=[];for(;0<p&&u.length;)m.push(u.shift()),p--;return u.length&&m.push(u.join(":")),m}function D(u){a.setTimeout(()=>{throw u},0)}function P(){var u=q;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class le{constructor(){this.h=this.g=null}add(p,m){const A=ne.get();A.set(p,m),this.h?this.h.next=A:this.g=A,this.h=A}}var ne=new w(()=>new ie,u=>u.reset());class ie{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,B=!1,q=new le,Y=()=>{const u=a.Promise.resolve(void 0);oe=()=>{u.then(de)}};var de=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(m){D(m)}var p=ne;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}B=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,p),a.removeEventListener("test",m,p)}catch{}return u}();function Pe(u,p){if(fe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(N){e:{try{C(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else m=="mouseover"?p=u.fromElement:m=="mouseout"&&(p=u.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ne[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Pe.aa.h.call(this)}}_(Pe,fe);var Ne={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Mt="closure_listenable_"+(1e6*Math.random()|0),ri=0;function xa(u,p,m,A,M){this.listener=u,this.proxy=null,this.src=p,this.type=m,this.capture=!!A,this.ha=M,this.key=++ri,this.da=this.fa=!1}function Hs(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ji(u){this.src=u,this.g={},this.h=0}ji.prototype.add=function(u,p,m,A,M){var V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);var z=Ws(u,p,A,M);return-1<z?(p=u[z],m||(p.fa=!1)):(p=new xa(p,this.src,V,!!A,M),p.fa=m,u.push(p)),p};function Sa(u,p){var m=p.type;if(m in u.g){var A=u.g[m],M=Array.prototype.indexOf.call(A,p,void 0),V;(V=0<=M)&&Array.prototype.splice.call(A,M,1),V&&(Hs(p),u.g[m].length==0&&(delete u.g[m],u.h--))}}function Ws(u,p,m,A){for(var M=0;M<u.length;++M){var V=u[M];if(!V.da&&V.listener==p&&V.capture==!!m&&V.ha==A)return M}return-1}var Ia="closure_lm_"+(1e6*Math.random()|0),Aa={};function Ca(u,p,m,A,M){if(Array.isArray(p)){for(var V=0;V<p.length;V++)Ca(u,p[V],m,A,M);return null}return m=ka(m),u&&u[Mt]?u.K(p,m,c(A)?!!A.capture:!!A,M):Xc(u,p,m,!1,A,M)}function Xc(u,p,m,A,M,V){if(!p)throw Error("Invalid event type");var z=c(M)?!!M.capture:!!M,we=Ks(u);if(we||(u[Ia]=we=new ji(u)),m=we.add(p,m,A,z,V),m.proxy)return m;if(A=Mf(),m.proxy=A,A.src=u,A.listener=m,u.addEventListener)ke||(M=z),M===void 0&&(M=!1),u.addEventListener(p.toString(),A,M);else if(u.attachEvent)u.attachEvent(Br(p.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Mf(){function u(m){return p.call(u.src,u.listener,m)}const p=Zc;return u}function Jc(u,p,m,A,M){if(Array.isArray(p))for(var V=0;V<p.length;V++)Jc(u,p[V],m,A,M);else A=c(A)?!!A.capture:!!A,m=ka(m),u&&u[Mt]?(u=u.i,p=String(p).toString(),p in u.g&&(V=u.g[p],m=Ws(V,m,A,M),-1<m&&(Hs(V[m]),Array.prototype.splice.call(V,m,1),V.length==0&&(delete u.g[p],u.h--)))):u&&(u=Ks(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Ws(p,m,A,M)),(m=-1<u?p[u]:null)&&bn(m))}function bn(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Mt])Sa(p.i,u);else{var m=u.type,A=u.proxy;p.removeEventListener?p.removeEventListener(m,A,u.capture):p.detachEvent?p.detachEvent(Br(m),A):p.addListener&&p.removeListener&&p.removeListener(A),(m=Ks(p))?(Sa(m,u),m.h==0&&(m.src=null,p[Ia]=null)):Hs(u)}}}function Br(u){return u in Aa?Aa[u]:Aa[u]="on"+u}function Zc(u,p){if(u.da)u=!0;else{p=new Pe(p,this);var m=u.listener,A=u.ha||u.src;u.fa&&bn(u),u=m.call(A,p)}return u}function Ks(u){return u=u[Ia],u instanceof ji?u:null}var zr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ka(u){return typeof u=="function"?u:(u[zr]||(u[zr]=function(p){return u.handleEvent(p)}),u[zr])}function Xe(){te.call(this),this.i=new ji(this),this.M=this,this.F=null}_(Xe,te),Xe.prototype[Mt]=!0,Xe.prototype.removeEventListener=function(u,p,m,A){Jc(this,u,p,m,A)};function tt(u,p){var m,A=u.F;if(A)for(m=[];A;A=A.F)m.push(A);if(u=u.M,A=p.type||p,typeof p=="string")p=new fe(p,u);else if(p instanceof fe)p.target=p.target||u;else{var M=p;p=new fe(A,u),k(p,M)}if(M=!0,m)for(var V=m.length-1;0<=V;V--){var z=p.g=m[V];M=Hr(z,A,!0,p)&&M}if(z=p.g=u,M=Hr(z,A,!0,p)&&M,M=Hr(z,A,!1,p)&&M,m)for(V=0;V<m.length;V++)z=p.g=m[V],M=Hr(z,A,!1,p)&&M}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var m=u.g[p],A=0;A<m.length;A++)Hs(m[A]);delete u.g[p],u.h--}}this.F=null},Xe.prototype.K=function(u,p,m,A){return this.i.add(String(u),p,!1,m,A)},Xe.prototype.L=function(u,p,m,A){return this.i.add(String(u),p,!0,m,A)};function Hr(u,p,m,A){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,V=0;V<p.length;++V){var z=p[V];if(z&&!z.da&&z.capture==m){var we=z.listener,lt=z.ha||z.src;z.fa&&Sa(u.i,z),M=we.call(lt,A)!==!1&&M}}return M&&!A.defaultPrevented}function kv(u,p,m){if(typeof u=="function")m&&(u=f(u,m));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function Pv(u){u.g=kv(()=>{u.g=null,u.i&&(u.i=!1,Pv(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class IP extends te{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Pv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pa(u){te.call(this),this.h=u,this.g={}}_(Pa,te);var Rv=[];function Nv(u){L(u.g,function(p,m){this.g.hasOwnProperty(m)&&bn(p)},u),u.g={}}Pa.prototype.N=function(){Pa.aa.N.call(this),Nv(this)},Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vf=a.JSON.stringify,AP=a.JSON.parse,CP=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Ff(){}Ff.prototype.h=null;function Ov(u){return u.h||(u.h=u.i())}function Dv(){}var Ra={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jf(){fe.call(this,"d")}_(jf,fe);function Uf(){fe.call(this,"c")}_(Uf,fe);var Wr={},Lv=null;function eu(){return Lv=Lv||new Xe}Wr.La="serverreachability";function Mv(u){fe.call(this,Wr.La,u)}_(Mv,fe);function Na(u){const p=eu();tt(p,new Mv(p))}Wr.STAT_EVENT="statevent";function Vv(u,p){fe.call(this,Wr.STAT_EVENT,u),this.stat=p}_(Vv,fe);function Ct(u){const p=eu();tt(p,new Vv(p,u))}Wr.Ma="timingevent";function Fv(u,p){fe.call(this,Wr.Ma,u),this.size=p}_(Fv,fe);function Oa(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function Da(){this.g=!0}Da.prototype.xa=function(){this.g=!1};function kP(u,p,m,A,M,V){u.info(function(){if(u.g)if(V)for(var z="",we=V.split("&"),lt=0;lt<we.length;lt++){var pe=we[lt].split("=");if(1<pe.length){var mt=pe[0];pe=pe[1];var _t=mt.split("_");z=2<=_t.length&&_t[1]=="type"?z+(mt+"="+pe+"&"):z+(mt+"=redacted&")}}else z=null;else z=V;return"XMLHTTP REQ ("+A+") [attempt "+M+"]: "+p+`
`+m+`
`+z})}function PP(u,p,m,A,M,V,z){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+M+"]: "+p+`
`+m+`
`+V+" "+z})}function qs(u,p,m,A){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+NP(u,m)+(A?" "+A:"")})}function RP(u,p){u.info(function(){return"TIMEOUT: "+p})}Da.prototype.info=function(){};function NP(u,p){if(!u.g)return p;if(!p)return null;try{var m=JSON.parse(p);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var A=m[u];if(!(2>A.length)){var M=A[1];if(Array.isArray(M)&&!(1>M.length)){var V=M[0];if(V!="noop"&&V!="stop"&&V!="close")for(var z=1;z<M.length;z++)M[z]=""}}}}return Vf(m)}catch{return p}}var tu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$f;function nu(){}_(nu,Ff),nu.prototype.g=function(){return new XMLHttpRequest},nu.prototype.i=function(){return{}},$f=new nu;function Ui(u,p,m,A){this.j=u,this.i=p,this.l=m,this.R=A||1,this.U=new Pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Uv}function Uv(){this.i=null,this.g="",this.h=!1}var $v={},Bf={};function zf(u,p,m){u.L=1,u.v=ou(si(p)),u.m=m,u.P=!0,Bv(u,null)}function Bv(u,p){u.F=Date.now(),iu(u),u.A=si(u.v);var m=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),n0(m.i,"t",A),u.C=0,m=u.j.J,u.h=new Uv,u.g=E0(u.j,m?p:null,!u.m),0<u.O&&(u.M=new IP(f(u.Y,u,u.g),u.O)),p=u.U,m=u.g,A=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(Rv[0]=M.toString()),M=Rv);for(var V=0;V<M.length;V++){var z=Ca(m,M[V],A||p.handleEvent,!1,p.h||p);if(!z)break;p.g[z.key]=z}p=u.H?y(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Na(),kP(u.i,u.u,u.A,u.l,u.R,u.m)}Ui.prototype.ca=function(u){u=u.target;const p=this.M;p&&oi(u)==3?p.j():this.Y(u)},Ui.prototype.Y=function(u){try{if(u==this.g)e:{const _t=oi(this.g);var p=this.g.Ba();const Qs=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||c0(this.g)))){this.J||_t!=4||p==7||(p==8||0>=Qs?Na(3):Na(2)),Hf(this);var m=this.g.Z();this.X=m;t:if(zv(this)){var A=c0(this.g);u="";var M=A.length,V=oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kr(this),La(this);var z="";break t}this.h.i=new a.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,u+=this.h.i.decode(A[p],{stream:!(V&&p==M-1)});A.length=0,this.h.g+=u,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=m==200,PP(this.i,this.u,this.A,this.l,this.R,_t,m),this.o){if(this.T&&!this.K){t:{if(this.g){var we,lt=this.g;if((we=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(we)){var pe=we;break t}}pe=null}if(m=pe)qs(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wf(this,m);else{this.o=!1,this.s=3,Ct(12),Kr(this),La(this);break e}}if(this.P){m=!0;let xn;for(;!this.J&&this.C<z.length;)if(xn=OP(this,z),xn==Bf){_t==4&&(this.s=4,Ct(14),m=!1),qs(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==$v){this.s=4,Ct(15),qs(this.i,this.l,z,"[Invalid Chunk]"),m=!1;break}else qs(this.i,this.l,xn,null),Wf(this,xn);if(zv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||z.length!=0||this.h.h||(this.s=1,Ct(16),m=!1),this.o=this.o&&m,!m)qs(this.i,this.l,z,"[Invalid Chunked Response]"),Kr(this),La(this);else if(0<z.length&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.ba&&!mt.M&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Xf(mt),mt.M=!0,Ct(11))}}else qs(this.i,this.l,z,null),Wf(this,z);_t==4&&Kr(this),this.o&&!this.J&&(_t==4?m0(this.j,this):(this.o=!1,iu(this)))}else QP(this.g),m==400&&0<z.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),Kr(this),La(this)}}}catch{}finally{}};function zv(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function OP(u,p){var m=u.C,A=p.indexOf(`
`,m);return A==-1?Bf:(m=Number(p.substring(m,A)),isNaN(m)?$v:(A+=1,A+m>p.length?Bf:(p=p.slice(A,A+m),u.C=A+m,p)))}Ui.prototype.cancel=function(){this.J=!0,Kr(this)};function iu(u){u.S=Date.now()+u.I,Hv(u,u.I)}function Hv(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Oa(f(u.ba,u),p)}function Hf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Ui.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(RP(this.i,this.A),this.L!=2&&(Na(),Ct(17)),Kr(this),this.s=2,La(this)):Hv(this,this.S-u)};function La(u){u.j.G==0||u.J||m0(u.j,u)}function Kr(u){Hf(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Nv(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Wf(u,p){try{var m=u.j;if(m.G!=0&&(m.g==u||Kf(m.h,u))){if(!u.K&&Kf(m.h,u)&&m.G==3){try{var A=m.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var M=A;if(M[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)hu(m),cu(m);else break e;Qf(m),Ct(18)}}else m.za=M[1],0<m.za-m.T&&37500>M[2]&&m.F&&m.v==0&&!m.C&&(m.C=Oa(f(m.Za,m),6e3));if(1>=qv(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Gr(m,11)}else if((u.K||m.g==u)&&hu(m),!E(p))for(M=m.Da.g.parse(p),p=0;p<M.length;p++){let pe=M[p];if(m.T=pe[0],pe=pe[1],m.G==2)if(pe[0]=="c"){m.K=pe[1],m.ia=pe[2];const mt=pe[3];mt!=null&&(m.la=mt,m.j.info("VER="+m.la));const _t=pe[4];_t!=null&&(m.Aa=_t,m.j.info("SVER="+m.Aa));const Qs=pe[5];Qs!=null&&typeof Qs=="number"&&0<Qs&&(A=1.5*Qs,m.L=A,m.j.info("backChannelRequestTimeoutMs_="+A)),A=m;const xn=u.g;if(xn){const fu=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fu){var V=A.h;V.g||fu.indexOf("spdy")==-1&&fu.indexOf("quic")==-1&&fu.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(qf(V,V.h),V.h=null))}if(A.D){const Jf=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Jf&&(A.ya=Jf,Se(A.I,A.D,Jf))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),A=m;var z=u;if(A.qa=v0(A,A.J?A.ia:null,A.W),z.K){Gv(A.h,z);var we=z,lt=A.L;lt&&(we.I=lt),we.B&&(Hf(we),iu(we)),A.g=z}else p0(A);0<m.i.length&&uu(m)}else pe[0]!="stop"&&pe[0]!="close"||Gr(m,7);else m.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?Gr(m,7):Yf(m):pe[0]!="noop"&&m.l&&m.l.ta(pe),m.v=0)}}Na(4)}catch{}}var DP=class{constructor(u,p){this.g=u,this.map=p}};function Wv(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Kv(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function qv(u){return u.h?1:u.g?u.g.size:0}function Kf(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function qf(u,p){u.g?u.g.add(p):u.h=p}function Gv(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Wv.prototype.cancel=function(){if(this.i=Yv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Yv(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const m of u.g.values())p=p.concat(m.D);return p}return v(u.i)}function LP(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],m=u.length,A=0;A<m;A++)p.push(u[A]);return p}p=[],m=0;for(A in u)p[m++]=u[A];return p}function MP(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var m=0;m<u;m++)p.push(m);return p}p=[],m=0;for(const A in u)p[m++]=A;return p}}}function Qv(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var m=MP(u),A=LP(u),M=A.length,V=0;V<M;V++)p.call(void 0,A[V],m&&m[V],u)}var Xv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VP(u,p){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var A=u[m].indexOf("="),M=null;if(0<=A){var V=u[m].substring(0,A);M=u[m].substring(A+1)}else V=u[m];p(V,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function qr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof qr){this.h=u.h,ru(this,u.j),this.o=u.o,this.g=u.g,su(this,u.s),this.l=u.l;var p=u.i,m=new Fa;m.i=p.i,p.g&&(m.g=new Map(p.g),m.h=p.h),Jv(this,m),this.m=u.m}else u&&(p=String(u).match(Xv))?(this.h=!1,ru(this,p[1]||"",!0),this.o=Ma(p[2]||""),this.g=Ma(p[3]||"",!0),su(this,p[4]),this.l=Ma(p[5]||"",!0),Jv(this,p[6]||"",!0),this.m=Ma(p[7]||"")):(this.h=!1,this.i=new Fa(null,this.h))}qr.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Va(p,Zv,!0),":");var m=this.g;return(m||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Va(p,Zv,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(Va(m,m.charAt(0)=="/"?UP:jP,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",Va(m,BP)),u.join("")};function si(u){return new qr(u)}function ru(u,p,m){u.j=m?Ma(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function su(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Jv(u,p,m){p instanceof Fa?(u.i=p,zP(u.i,u.h)):(m||(p=Va(p,$P)),u.i=new Fa(p,u.h))}function Se(u,p,m){u.i.set(p,m)}function ou(u){return Se(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ma(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Va(u,p,m){return typeof u=="string"?(u=encodeURI(u).replace(p,FP),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function FP(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zv=/[#\/\?@]/g,jP=/[#\?:]/g,UP=/[#\?]/g,$P=/[#\?@]/g,BP=/#/g;function Fa(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function $i(u){u.g||(u.g=new Map,u.h=0,u.i&&VP(u.i,function(p,m){u.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}t=Fa.prototype,t.add=function(u,p){$i(this),this.i=null,u=Gs(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(p),this.h+=1,this};function e0(u,p){$i(u),p=Gs(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function t0(u,p){return $i(u),p=Gs(u,p),u.g.has(p)}t.forEach=function(u,p){$i(this),this.g.forEach(function(m,A){m.forEach(function(M){u.call(p,M,A,this)},this)},this)},t.na=function(){$i(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),m=[];for(let A=0;A<p.length;A++){const M=u[A];for(let V=0;V<M.length;V++)m.push(p[A])}return m},t.V=function(u){$i(this);let p=[];if(typeof u=="string")t0(this,u)&&(p=p.concat(this.g.get(Gs(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)p=p.concat(u[m])}return p},t.set=function(u,p){return $i(this),this.i=null,u=Gs(this,u),t0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function n0(u,p,m){e0(u,p),0<m.length&&(u.i=null,u.g.set(Gs(u,p),v(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var m=0;m<p.length;m++){var A=p[m];const V=encodeURIComponent(String(A)),z=this.V(A);for(A=0;A<z.length;A++){var M=V;z[A]!==""&&(M+="="+encodeURIComponent(String(z[A]))),u.push(M)}}return this.i=u.join("&")};function Gs(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function zP(u,p){p&&!u.j&&($i(u),u.i=null,u.g.forEach(function(m,A){var M=A.toLowerCase();A!=M&&(e0(this,A),n0(this,M,m))},u)),u.j=p}function HP(u,p){const m=new Da;if(a.Image){const A=new Image;A.onload=g(Bi,m,"TestLoadImage: loaded",!0,p,A),A.onerror=g(Bi,m,"TestLoadImage: error",!1,p,A),A.onabort=g(Bi,m,"TestLoadImage: abort",!1,p,A),A.ontimeout=g(Bi,m,"TestLoadImage: timeout",!1,p,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else p(!1)}function WP(u,p){const m=new Da,A=new AbortController,M=setTimeout(()=>{A.abort(),Bi(m,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:A.signal}).then(V=>{clearTimeout(M),V.ok?Bi(m,"TestPingServer: ok",!0,p):Bi(m,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),Bi(m,"TestPingServer: error",!1,p)})}function Bi(u,p,m,A,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),A(m)}catch{}}function KP(){this.g=new CP}function qP(u,p,m){const A=m||"";try{Qv(u,function(M,V){let z=M;c(M)&&(z=Vf(M)),p.push(A+V+"="+encodeURIComponent(z))})}catch(M){throw p.push(A+"type="+encodeURIComponent("_badmap")),M}}function ja(u){this.l=u.Ub||null,this.j=u.eb||!1}_(ja,Ff),ja.prototype.g=function(){return new au(this.l,this.j)},ja.prototype.i=function(u){return function(){return u}}({});function au(u,p){Xe.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(au,Xe),t=au.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,$a(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ua(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$a(this)),this.g&&(this.readyState=3,$a(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;i0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function i0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Ua(this):$a(this),this.readyState==3&&i0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ua(this))},t.Qa=function(u){this.g&&(this.response=u,Ua(this))},t.ga=function(){this.g&&Ua(this)};function Ua(u){u.readyState=4,u.l=null,u.j=null,u.v=null,$a(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var m=p.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=p.next();return u.join(`\r
`)};function $a(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(au.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function r0(u){let p="";return L(u,function(m,A){p+=A,p+=":",p+=m,p+=`\r
`}),p}function Gf(u,p,m){e:{for(A in m){var A=!1;break e}A=!0}A||(m=r0(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):Se(u,p,m))}function je(u){Xe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(je,Xe);var GP=/^https?$/i,YP=["POST","PUT"];t=je.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,m,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$f.g(),this.v=this.o?Ov(this.o):Ov($f),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(V){s0(this,V);return}if(u=m||"",m=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var M in A)m.set(M,A[M]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const V of A.keys())m.set(V,A.get(V));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(m.keys()).find(V=>V.toLowerCase()=="content-type"),M=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(YP,p,void 0))||A||M||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,z]of m)this.g.setRequestHeader(V,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{l0(this),this.u=!0,this.g.send(u),this.u=!1}catch(V){s0(this,V)}};function s0(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,o0(u),lu(u)}function o0(u){u.A||(u.A=!0,tt(u,"complete"),tt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,tt(this,"complete"),tt(this,"abort"),lu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lu(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?a0(this):this.bb())},t.bb=function(){a0(this)};function a0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||oi(u)!=4||u.Z()!=2)){if(u.u&&oi(u)==4)kv(u.Ea,0,u);else if(tt(u,"readystatechange"),oi(u)==4){u.h=!1;try{const z=u.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var A;if(A=z===0){var M=String(u.D).match(Xv)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),A=!GP.test(M?M.toLowerCase():"")}m=A}if(m)tt(u,"complete"),tt(u,"success");else{u.m=6;try{var V=2<oi(u)?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.Z()+"]",o0(u)}}finally{lu(u)}}}}function lu(u,p){if(u.g){l0(u);const m=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||tt(u,"ready");try{m.onreadystatechange=A}catch{}}}function l0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function oi(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<oi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),AP(p)}};function c0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function QP(u){const p={};u=(u.g&&2<=oi(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(E(u[A]))continue;var m=R(u[A]);const M=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const V=p[M]||[];p[M]=V,V.push(m)}S(p,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ba(u,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||p}function u0(u){this.Aa=0,this.i=[],this.j=new Da,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ba("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ba("baseRetryDelayMs",5e3,u),this.cb=Ba("retryDelaySeedMs",1e4,u),this.Wa=Ba("forwardChannelMaxRetries",2,u),this.wa=Ba("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Wv(u&&u.concurrentRequestLimit),this.Da=new KP,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=u0.prototype,t.la=8,t.G=1,t.connect=function(u,p,m,A){Ct(0),this.W=u,this.H=p||{},m&&A!==void 0&&(this.H.OSID=m,this.H.OAID=A),this.F=this.X,this.I=v0(this,null,this.W),uu(this)};function Yf(u){if(h0(u),u.G==3){var p=u.U++,m=si(u.I);if(Se(m,"SID",u.K),Se(m,"RID",p),Se(m,"TYPE","terminate"),za(u,m),p=new Ui(u,u.j,p),p.L=2,p.v=ou(si(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=p.v,m=!0),m||(p.g=E0(p.j,null),p.g.ea(p.v)),p.F=Date.now(),iu(p)}y0(u)}function cu(u){u.g&&(Xf(u),u.g.cancel(),u.g=null)}function h0(u){cu(u),u.u&&(a.clearTimeout(u.u),u.u=null),hu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function uu(u){if(!Kv(u.h)&&!u.s){u.s=!0;var p=u.Ga;oe||Y(),B||(oe(),B=!0),q.add(p,u),u.B=0}}function XP(u,p){return qv(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Oa(f(u.Ga,u,p),_0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new Ui(this,this.j,u);let V=this.o;if(this.S&&(V?(V=y(V),k(V,this.S)):V=this.S),this.m!==null||this.O||(M.H=V,V=null),this.P)e:{for(var p=0,m=0;m<this.i.length;m++){t:{var A=this.i[m];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=m;break e}if(p===4096||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=f0(this,M,p),m=si(this.I),Se(m,"RID",u),Se(m,"CVER",22),this.D&&Se(m,"X-HTTP-Session-Id",this.D),za(this,m),V&&(this.O?p="headers="+encodeURIComponent(String(r0(V)))+"&"+p:this.m&&Gf(m,this.m,V)),qf(this.h,M),this.Ua&&Se(m,"TYPE","init"),this.P?(Se(m,"$req",p),Se(m,"SID","null"),M.T=!0,zf(M,m,null)):zf(M,m,p),this.G=2}}else this.G==3&&(u?d0(this,u):this.i.length==0||Kv(this.h)||d0(this))};function d0(u,p){var m;p?m=p.l:m=u.U++;const A=si(u.I);Se(A,"SID",u.K),Se(A,"RID",m),Se(A,"AID",u.T),za(u,A),u.m&&u.o&&Gf(A,u.m,u.o),m=new Ui(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),p&&(u.i=p.D.concat(u.i)),p=f0(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),qf(u.h,m),zf(m,A,p)}function za(u,p){u.H&&L(u.H,function(m,A){Se(p,A,m)}),u.l&&Qv({},function(m,A){Se(p,A,m)})}function f0(u,p,m){m=Math.min(u.i.length,m);var A=u.l?f(u.l.Na,u.l,u):null;e:{var M=u.i;let V=-1;for(;;){const z=["count="+m];V==-1?0<m?(V=M[0].g,z.push("ofs="+V)):V=0:z.push("ofs="+V);let we=!0;for(let lt=0;lt<m;lt++){let pe=M[lt].g;const mt=M[lt].map;if(pe-=V,0>pe)V=Math.max(0,M[lt].g-100),we=!1;else try{qP(mt,z,"req"+pe+"_")}catch{A&&A(mt)}}if(we){A=z.join("&");break e}}}return u=u.i.splice(0,m),p.D=u,A}function p0(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;oe||Y(),B||(oe(),B=!0),q.add(p,u),u.v=0}}function Qf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Oa(f(u.Fa,u),_0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,g0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Oa(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),cu(this),g0(this))};function Xf(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function g0(u){u.g=new Ui(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=si(u.qa);Se(p,"RID","rpc"),Se(p,"SID",u.K),Se(p,"AID",u.T),Se(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Se(p,"TO",u.ja),Se(p,"TYPE","xmlhttp"),za(u,p),u.m&&u.o&&Gf(p,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=ou(si(p)),m.m=null,m.P=!0,Bv(m,u)}t.Za=function(){this.C!=null&&(this.C=null,cu(this),Qf(this),Ct(19))};function hu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function m0(u,p){var m=null;if(u.g==p){hu(u),Xf(u),u.g=null;var A=2}else if(Kf(u.h,p))m=p.D,Gv(u.h,p),A=1;else return;if(u.G!=0){if(p.o)if(A==1){m=p.m?p.m.length:0,p=Date.now()-p.F;var M=u.B;A=eu(),tt(A,new Fv(A,m)),uu(u)}else p0(u);else if(M=p.s,M==3||M==0&&0<p.X||!(A==1&&XP(u,p)||A==2&&Qf(u)))switch(m&&0<m.length&&(p=u.h,p.i=p.i.concat(m)),M){case 1:Gr(u,5);break;case 4:Gr(u,10);break;case 3:Gr(u,6);break;default:Gr(u,2)}}}function _0(u,p){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*p}function Gr(u,p){if(u.j.info("Error code "+p),p==2){var m=f(u.fb,u),A=u.Xa;const M=!A;A=new qr(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ru(A,"https"),ou(A),M?HP(A.toString(),m):WP(A.toString(),m)}else Ct(2);u.G=0,u.l&&u.l.sa(p),y0(u),h0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function y0(u){if(u.G=0,u.ka=[],u.l){const p=Yv(u.h);(p.length!=0||u.i.length!=0)&&(x(u.ka,p),x(u.ka,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.ra()}}function v0(u,p,m){var A=m instanceof qr?si(m):new qr(m);if(A.g!="")p&&(A.g=p+"."+A.g),su(A,A.s);else{var M=a.location;A=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var V=new qr(null);A&&ru(V,A),p&&(V.g=p),M&&su(V,M),m&&(V.l=m),A=V}return m=u.D,p=u.ya,m&&p&&Se(A,m,p),Se(A,"VER",u.la),za(u,A),A}function E0(u,p,m){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new je(new ja({eb:m})):new je(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function w0(){}t=w0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function du(){}du.prototype.g=function(u,p){return new qt(u,p)};function qt(u,p){Xe.call(this),this.g=new u0(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!E(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!E(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Ys(this)}_(qt,Xe),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){Yf(this.g)},qt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=Vf(u),u=m);p.i.push(new DP(p.Ya++,u)),p.G==3&&uu(p)},qt.prototype.N=function(){this.g.l=null,delete this.j,Yf(this.g),delete this.g,qt.aa.N.call(this)};function T0(u){jf.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const m in p){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}_(T0,jf);function b0(){Uf.call(this),this.status=1}_(b0,Uf);function Ys(u){this.g=u}_(Ys,w0),Ys.prototype.ua=function(){tt(this.g,"a")},Ys.prototype.ta=function(u){tt(this.g,new T0(u))},Ys.prototype.sa=function(u){tt(this.g,new b0)},Ys.prototype.ra=function(){tt(this.g,"b")},du.prototype.createWebChannel=du.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,vC=function(){return new du},yC=function(){return eu()},_C=Wr,Tm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tu.NO_ERROR=0,tu.TIMEOUT=8,tu.HTTP_ERROR=6,Ih=tu,jv.COMPLETE="complete",mC=jv,Dv.EventType=Ra,Ra.OPEN="a",Ra.CLOSE="b",Ra.ERROR="c",Ra.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,_l=Dv,gC=ja,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,pC=je}).apply(typeof Ku<"u"?Ku:typeof self<"u"?self:typeof window<"u"?window:{});const RT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new sy("@firebase/firestore");function rl(){return As.logLevel}function K(t,...e){if(As.logLevel<=ce.DEBUG){const n=e.map(yy);As.debug(`Firestore (${ga}): ${t}`,...n)}}function Pi(t,...e){if(As.logLevel<=ce.ERROR){const n=e.map(yy);As.error(`Firestore (${ga}): ${t}`,...n)}}function Ko(t,...e){if(As.logLevel<=ce.WARN){const n=e.map(yy);As.warn(`Firestore (${ga}): ${t}`,...n)}}function yy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t="Unexpected state"){const e=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: `+t;throw Pi(e),new Error(e)}function Te(t,e){t||J()}function ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends ii{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}}class y${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class v${constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Ei;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ei,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ei)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Te(typeof i.accessToken=="string"),new EC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new Tt(e)}}class E${constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class w${constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new E$(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class T${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b${constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string"),this.R=n.token,new T$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=x$(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}}function ge(t,e){return t<e?-1:t>e?1:0}function qo(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Qe(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Z(e)}static min(){return new Z(new Qe(0,0))}static max(){return new Z(new Qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n,i){n===void 0?n=0:n>e.length&&J(),i===void 0?i=e.length-n:i>e.length-n&&J(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return yc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yc?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ae extends yc{construct(e,n,i){return new Ae(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new H(F.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Ae(n)}static emptyPath(){return new Ae([])}}const S$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends yc{construct(e,n,i){return new ht(e,n,i)}static isValidIdentifier(e){return S$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ht(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new H(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new H(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(Ae.fromString(e))}static fromName(e){return new G(Ae.fromString(e).popFirst(5))}static empty(){return new G(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new Ae(e.slice()))}}function I$(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Z.fromTimestamp(i===1e9?new Qe(n+1,0):new Qe(n,i));return new Cr(r,G.empty(),e)}function A$(t){return new Cr(t.readTime,t.key,-1)}class Cr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Cr(Z.min(),G.empty(),-1)}static max(){return new Cr(Z.max(),G.empty(),-1)}}function C$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class P${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==k$)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,i)=>{n(e)})}static reject(e){return new U((n,i)=>{i(e)})}static waitFor(e){return new U((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=U.resolve(!1);for(const i of e)n=n.next(r=>r?U.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new U((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&i(o)},h=>r(h))}})}static doWhile(e,n){return new U((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function R$(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $c(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}vy.oe=-1;function gf(t){return t==null}function Ad(t){return t===0&&1/t==-1/0}function N$(t){return typeof t=="number"&&Number.isInteger(t)&&!Ad(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ma(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){this.comparator=e,this.root=n||ut.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ut.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qu(this.root,e,this.comparator,!0)}}class qu{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ut{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??ut.RED,this.left=r??ut.EMPTY,this.right=s??ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new ut(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return ut.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}}ut.EMPTY=null,ut.RED=!0,ut.BLACK=!1;ut.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,n,i,r,s){return this}insert(e,n,i){return new ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new OT(this.data.getIterator())}getIteratorFrom(e){return new OT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ft(this.comparator);return n.data=e,n}}class OT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new ft(ht.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new bC("Invalid base64 string: "+s):s}}(e);return new gt(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const O$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kr(t){if(Te(!!t),typeof t=="string"){let e=0;const n=O$.exec(t);if(Te(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Cs(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function wy(t){const e=t.mapValue.fields.__previous_value__;return Ey(e)?wy(e):e}function vc(t){const e=kr(t.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e,n,i,r,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ec{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ec("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ec&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ks(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ey(t)?4:M$(t)?9007199254740991:L$(t)?10:11:J()}function ti(t,e){if(t===e)return!0;const n=ks(t);if(n!==ks(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vc(t).isEqual(vc(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=kr(r.timestampValue),a=kr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Cs(r.bytesValue).isEqual(Cs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return He(r.geoPointValue.latitude)===He(s.geoPointValue.latitude)&&He(r.geoPointValue.longitude)===He(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return He(r.integerValue)===He(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=He(r.doubleValue),a=He(s.doubleValue);return o===a?Ad(o)===Ad(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return qo(t.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(NT(o)!==NT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ti(o[l],a[l])))return!1;return!0}(t,e);default:return J()}}function wc(t,e){return(t.values||[]).find(n=>ti(n,e))!==void 0}function Go(t,e){if(t===e)return 0;const n=ks(t),i=ks(e);if(n!==i)return ge(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=He(s.integerValue||s.doubleValue),l=He(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return DT(t.timestampValue,e.timestampValue);case 4:return DT(vc(t),vc(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Cs(s),l=Cs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=ge(a[c],l[c]);if(h!==0)return h}return ge(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ge(He(s.latitude),He(o.latitude));return a!==0?a:ge(He(s.longitude),He(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return LT(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,h;const d=s.fields||{},f=o.fields||{},g=(a=d.value)===null||a===void 0?void 0:a.arrayValue,_=(l=f.value)===null||l===void 0?void 0:l.arrayValue,v=ge(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0);return v!==0?v:LT(g,_)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Gu.mapValue&&o===Gu.mapValue)return 0;if(s===Gu.mapValue)return 1;if(o===Gu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=ge(l[d],h[d]);if(f!==0)return f;const g=Go(a[l[d]],c[h[d]]);if(g!==0)return g}return ge(l.length,h.length)}(t.mapValue,e.mapValue);default:throw J()}}function DT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=kr(t),i=kr(e),r=ge(n.seconds,i.seconds);return r!==0?r:ge(n.nanos,i.nanos)}function LT(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Go(n[r],i[r]);if(s)return s}return ge(n.length,i.length)}function Yo(t){return bm(t)}function bm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=kr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Cs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=bm(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${bm(n.fields[o])}`;return r+"}"}(t.mapValue):J()}function MT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xm(t){return!!t&&"integerValue"in t}function Ty(t){return!!t&&"arrayValue"in t}function VT(t){return!!t&&"nullValue"in t}function FT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ah(t){return!!t&&"mapValue"in t}function L$(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ml(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ma(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Ml(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ml(t.arrayValue.values[n]);return e}return Object.assign({},t)}function M$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ml(n)}setAll(e){let n=ht.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=Ml(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Ah(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){ma(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new dn(Ml(this.value))}}function xC(t){const e=[];return ma(t.fields,(n,i)=>{const r=new ht([n]);if(Ah(i)){const s=xC(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new xt(e,0,Z.min(),Z.min(),Z.min(),dn.empty(),0)}static newFoundDocument(e,n,i,r){return new xt(e,1,n,Z.min(),i,r,0)}static newNoDocument(e,n){return new xt(e,2,n,Z.min(),Z.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new xt(e,3,n,Z.min(),Z.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n){this.position=e,this.inclusive=n}}function jT(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=G.comparator(G.fromName(o.referenceValue),n.key):i=Go(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function UT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ti(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n="asc"){this.field=e,this.dir=n}}function V$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{}class Ye extends SC{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new j$(e,n,i):n==="array-contains"?new B$(e,i):n==="in"?new z$(e,i):n==="not-in"?new H$(e,i):n==="array-contains-any"?new W$(e,i):new Ye(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new U$(e,i):new $$(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Go(n,this.value)):n!==null&&ks(this.value)===ks(n)&&this.matchesComparison(Go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends SC{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ln(e,n)}matches(e){return IC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function IC(t){return t.op==="and"}function AC(t){return F$(t)&&IC(t)}function F$(t){for(const e of t.filters)if(e instanceof Ln)return!1;return!0}function Sm(t){if(t instanceof Ye)return t.field.canonicalString()+t.op.toString()+Yo(t.value);if(AC(t))return t.filters.map(e=>Sm(e)).join(",");{const e=t.filters.map(n=>Sm(n)).join(",");return`${t.op}(${e})`}}function CC(t,e){return t instanceof Ye?function(i,r){return r instanceof Ye&&i.op===r.op&&i.field.isEqual(r.field)&&ti(i.value,r.value)}(t,e):t instanceof Ln?function(i,r){return r instanceof Ln&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&CC(o,r.filters[a]),!0):!1}(t,e):void J()}function kC(t){return t instanceof Ye?function(n){return`${n.field.canonicalString()} ${n.op} ${Yo(n.value)}`}(t):t instanceof Ln?function(n){return n.op.toString()+" {"+n.getFilters().map(kC).join(" ,")+"}"}(t):"Filter"}class j$ extends Ye{constructor(e,n,i){super(e,n,i),this.key=G.fromName(i.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class U$ extends Ye{constructor(e,n){super(e,"in",n),this.keys=PC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $$ extends Ye{constructor(e,n){super(e,"not-in",n),this.keys=PC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}class B$ extends Ye{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ty(n)&&wc(n.arrayValue,this.value)}}class z$ extends Ye{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wc(this.value.arrayValue,n)}}class H$ extends Ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!wc(this.value.arrayValue,n)}}class W$ extends Ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ty(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>wc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function $T(t,e=null,n=[],i=[],r=null,s=null,o=null){return new K$(t,e,n,i,r,s,o)}function by(t){const e=ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Sm(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),gf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Yo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Yo(i)).join(",")),e.ue=n}return e.ue}function xy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!V$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UT(t.startAt,e.startAt)&&UT(t.endAt,e.endAt)}function Im(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function q$(t,e,n,i,r,s,o,a){return new _a(t,e,n,i,r,s,o,a)}function Sy(t){return new _a(t)}function BT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RC(t){return t.collectionGroup!==null}function Vl(t){const e=ee(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ft(ht.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Tc(s,i))}),n.has(ht.keyField().canonicalString())||e.ce.push(new Tc(ht.keyField(),i))}return e.ce}function Xn(t){const e=ee(t);return e.le||(e.le=G$(e,Vl(t))),e.le}function G$(t,e){if(t.limitType==="F")return $T(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Tc(r.field,s)});const n=t.endAt?new Cd(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Cd(t.startAt.position,t.startAt.inclusive):null;return $T(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Am(t,e){const n=t.filters.concat([e]);return new _a(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function kd(t,e,n){return new _a(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mf(t,e){return xy(Xn(t),Xn(e))&&t.limitType===e.limitType}function NC(t){return`${by(Xn(t))}|lt:${t.limitType}`}function to(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>kC(r)).join(", ")}]`),gf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Yo(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Yo(r)).join(",")),`Target(${i})`}(Xn(t))}; limitType=${t.limitType})`}function _f(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):G.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of Vl(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){const c=jT(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,Vl(i),r)||i.endAt&&!function(o,a,l){const c=jT(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,Vl(i),r))}(t,e)}function Y$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OC(t){return(e,n)=>{let i=!1;for(const r of Vl(t)){const s=Q$(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function Q$(t,e,n){const i=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Go(l,c):J()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return J()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ma(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return TC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X$=new Fe(G.comparator);function Ri(){return X$}const DC=new Fe(G.comparator);function yl(...t){let e=DC;for(const n of t)e=e.insert(n.key,n);return e}function LC(t){let e=DC;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function os(){return Fl()}function MC(){return Fl()}function Fl(){return new ya(t=>t.toString(),(t,e)=>t.isEqual(e))}const J$=new Fe(G.comparator),Z$=new ft(G.comparator);function ae(...t){let e=Z$;for(const n of t)e=e.add(n);return e}const eB=new ft(ge);function tB(){return eB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ad(e)?"-0":e}}function VC(t){return{integerValue:""+t}}function nB(t,e){return N$(e)?VC(e):Iy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(){this._=void 0}}function iB(t,e,n){return t instanceof Pd?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Ey(s)&&(s=wy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof bc?jC(t,e):t instanceof xc?UC(t,e):function(r,s){const o=FC(r,s),a=zT(o)+zT(r.Pe);return xm(o)&&xm(r.Pe)?VC(a):Iy(r.serializer,a)}(t,e)}function rB(t,e,n){return t instanceof bc?jC(t,e):t instanceof xc?UC(t,e):n}function FC(t,e){return t instanceof Rd?function(i){return xm(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class Pd extends yf{}class bc extends yf{constructor(e){super(),this.elements=e}}function jC(t,e){const n=$C(e);for(const i of t.elements)n.some(r=>ti(r,i))||n.push(i);return{arrayValue:{values:n}}}class xc extends yf{constructor(e){super(),this.elements=e}}function UC(t,e){let n=$C(e);for(const i of t.elements)n=n.filter(r=>!ti(r,i));return{arrayValue:{values:n}}}class Rd extends yf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function zT(t){return He(t.integerValue||t.doubleValue)}function $C(t){return Ty(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function sB(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof bc&&r instanceof bc||i instanceof xc&&r instanceof xc?qo(i.elements,r.elements,ti):i instanceof Rd&&r instanceof Rd?ti(i.Pe,r.Pe):i instanceof Pd&&r instanceof Pd}(t.transform,e.transform)}class oB{constructor(e,n){this.version=e,this.transformResults=n}}class wi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ch(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vf{}function BC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new HC(t.key,wi.none()):new Bc(t.key,t.data,wi.none());{const n=t.data,i=dn.empty();let r=new ft(ht.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Us(t.key,i,new Pn(r.toArray()),wi.none())}}function aB(t,e,n){t instanceof Bc?function(r,s,o){const a=r.value.clone(),l=WT(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Us?function(r,s,o){if(!Ch(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=WT(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(zC(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function jl(t,e,n,i){return t instanceof Bc?function(s,o,a,l){if(!Ch(s.precondition,o))return a;const c=s.value.clone(),h=KT(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof Us?function(s,o,a,l){if(!Ch(s.precondition,o))return a;const c=KT(s.fieldTransforms,l,o),h=o.data;return h.setAll(zC(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,i):function(s,o,a){return Ch(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function lB(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=FC(i.transform,r||null);s!=null&&(n===null&&(n=dn.empty()),n.set(i.field,s))}return n||null}function HT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&qo(i,r,(s,o)=>sB(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bc extends vf{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Us extends vf{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function zC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function WT(t,e,n){const i=new Map;Te(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,rB(o,a,n[r]))}return i}function KT(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,iB(s,o,e))}return i}class HC extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cB extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&aB(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=jl(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=jl(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=MC();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=BC(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(Z.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&qo(this.mutations,e.mutations,(n,i)=>HT(n,i))&&qo(this.baseMutations,e.baseMutations,(n,i)=>HT(n,i))}}class Ay{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Te(e.mutations.length===i.length);let r=function(){return J$}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new Ay(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke,ue;function fB(t){switch(t){default:return J();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function WC(t){if(t===void 0)return Pi("GRPC error has no .code"),F.UNKNOWN;switch(t){case Ke.OK:return F.OK;case Ke.CANCELLED:return F.CANCELLED;case Ke.UNKNOWN:return F.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return F.INTERNAL;case Ke.UNAVAILABLE:return F.UNAVAILABLE;case Ke.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Ke.NOT_FOUND:return F.NOT_FOUND;case Ke.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Ke.ABORTED:return F.ABORTED;case Ke.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Ke.DATA_LOSS:return F.DATA_LOSS;default:return J()}}(ue=Ke||(Ke={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=new ps([4294967295,4294967295],0);function qT(t){const e=pB().encode(t),n=new fC;return n.update(e),new Uint8Array(n.digest())}function GT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ps([n,i],0),new ps([r,s],0)]}class Cy{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new vl(`Invalid padding: ${n}`);if(i<0)throw new vl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new vl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ps.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(ps.fromNumber(i)));return r.compare(gB)===1&&(r=new ps([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=qT(e),[i,r]=GT(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Cy(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=qT(e),[i,r]=GT(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,zc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Ef(Z.min(),r,new Fe(ge),Ri(),ae())}}class zc{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new zc(i,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}}class KC{constructor(e,n){this.targetId=e,this.me=n}}class qC{constructor(e,n,i=gt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class YT{constructor(){this.fe=0,this.ge=XT(),this.pe=gt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ae(),n=ae(),i=ae();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:J()}}),new zc(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=XT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class mB{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ri(),this.qe=QT(),this.Qe=new Fe(ge)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){const n=e.targetId,i=e.me.count,r=this.Je(n);if(r){const s=r.target;if(Im(s))if(i===0){const o=new G(s.path);this.Ue(n,o,xt.newNoDocument(o,Z.min()))}else Te(i===1);else{const o=this.Ye(n);if(o!==i){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=Cs(i).toUint8Array()}catch(l){if(l instanceof bC)return Ko("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Cy(o,r,s)}catch(l){return Ko(l instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),r++)}),r}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Im(a.target)){const l=new G(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,xt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let i=ae();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const r=new Ef(e,n,this.Qe,this.ke,i);return this.ke=Ri(),this.qe=QT(),this.Qe=new Fe(ge),r}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new YT,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ft(ge),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new YT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function QT(){return new Fe(G.comparator)}function XT(){return new Fe(G.comparator)}const _B={asc:"ASCENDING",desc:"DESCENDING"},yB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vB={and:"AND",or:"OR"};class EB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cm(t,e){return t.useProto3Json||gf(e)?e:{value:e}}function Nd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wB(t,e){return Nd(t,e.toTimestamp())}function Jn(t){return Te(!!t),Z.fromTimestamp(function(n){const i=kr(n);return new Qe(i.seconds,i.nanos)}(t))}function ky(t,e){return km(t,e).canonicalString()}function km(t,e){const n=function(r){return new Ae(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function YC(t){const e=Ae.fromString(t);return Te(e1(e)),e}function Pm(t,e){return ky(t.databaseId,e.path)}function Hp(t,e){const n=YC(e);if(n.get(1)!==t.databaseId.projectId)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(XC(n))}function QC(t,e){return ky(t.databaseId,e)}function TB(t){const e=YC(t);return e.length===4?Ae.emptyPath():XC(e)}function Rm(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XC(t){return Te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function JT(t,e,n){return{name:Pm(t,e),fields:n.value.mapValue.fields}}function bB(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Te(h===void 0||typeof h=="string"),gt.fromBase64String(h||"")):(Te(h===void 0||h instanceof Buffer||h instanceof Uint8Array),gt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?F.UNKNOWN:WC(c.code);return new H(h,c.message||"")}(o);n=new qC(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Hp(t,i.document.name),s=Jn(i.document.updateTime),o=i.document.createTime?Jn(i.document.createTime):Z.min(),a=new dn({mapValue:{fields:i.document.fields}}),l=xt.newFoundDocument(r,s,o,a),c=i.targetIds||[],h=i.removedTargetIds||[];n=new kh(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Hp(t,i.document),s=i.readTime?Jn(i.readTime):Z.min(),o=xt.newNoDocument(r,s),a=i.removedTargetIds||[];n=new kh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Hp(t,i.document),s=i.removedTargetIds||[];n=new kh([],s,r,null)}else{if(!("filter"in e))return J();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new dB(r,s),a=i.targetId;n=new KC(a,o)}}return n}function xB(t,e){let n;if(e instanceof Bc)n={update:JT(t,e.key,e.value)};else if(e instanceof HC)n={delete:Pm(t,e.key)};else if(e instanceof Us)n={update:JT(t,e.key,e.data),updateMask:OB(e.fieldMask)};else{if(!(e instanceof cB))return J();n={verify:Pm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof Pd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof bc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Rd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw J()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:wB(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:J()}(t,e.precondition)),n}function SB(t,e){return t&&t.length>0?(Te(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Jn(r.updateTime):Jn(s);return o.isEqual(Z.min())&&(o=Jn(s)),new oB(o,r.transformResults||[])}(n,e))):[]}function IB(t,e){return{documents:[QC(t,e.path)]}}function AB(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=QC(t,r);const s=function(c){if(c.length!==0)return ZC(Ln.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(f){return{field:no(f.field),direction:PB(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Cm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:r}}function CB(t){let e=TB(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Te(i===1);const h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=JC(d);return f instanceof Ln&&AC(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(_){return new Tc(io(_.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,gf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,g=d.values||[];return new Cd(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,g=d.values||[];return new Cd(g,f)}(n.endAt)),q$(e,r,o,s,a,"F",l,c)}function kB(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=io(n.unaryFilter.field);return Ye.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=io(n.unaryFilter.field);return Ye.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=io(n.unaryFilter.field);return Ye.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=io(n.unaryFilter.field);return Ye.create(o,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):t.fieldFilter!==void 0?function(n){return Ye.create(io(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ln.create(n.compositeFilter.filters.map(i=>JC(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return J()}}(n.compositeFilter.op))}(t):J()}function PB(t){return _B[t]}function RB(t){return yB[t]}function NB(t){return vB[t]}function no(t){return{fieldPath:t.canonicalString()}}function io(t){return ht.fromServerFormat(t.fieldPath)}function ZC(t){return t instanceof Ye?function(n){if(n.op==="=="){if(FT(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NAN"}};if(VT(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(FT(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NAN"}};if(VT(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(n.field),op:RB(n.op),value:n.value}}}(t):t instanceof Ln?function(n){const i=n.getFilters().map(r=>ZC(r));return i.length===1?i[0]:{compositeFilter:{op:NB(n.op),filters:i}}}(t):J()}function OB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function e1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n,i,r,s=Z.min(),o=Z.min(),a=gt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e){this.ct=e}}function LB(t){const e=CB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(){this.un=new VB}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Cr.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Cr.min())}updateCollectionGroup(e,n,i){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class VB{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new ft(Ae.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ft(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Qo(0)}static kn(){return new Qo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(){this.changes=new ya(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?U.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&jl(i.mutation,r,Pn.empty(),Qe.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ae()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ae()){const r=os();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=yl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=os();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ae()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=Ri();const o=Fl(),a=function(){return Fl()}();return n.forEach((l,c)=>{const h=i.get(c.key);r.has(c.key)&&(h===void 0||h.mutation instanceof Us)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),jl(h.mutation,c,h.mutation.getFieldMask(),Qe.now())):o.set(c.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var d;return a.set(c,new jB(h,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const i=Fl();let r=new Fe((o,a)=>o-a),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=i.get(l)||Pn.empty();h=a.applyToLocalView(c,h),i.set(l,h);const d=(r.get(a.batchId)||ae()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=MC();h.forEach(f=>{if(!s.has(f)){const g=BC(n.get(f),i.get(f));g!==null&&d.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return U.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):U.resolve(os());let a=-1,l=s;return o.next(c=>U.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ae())).next(h=>({batchId:a,changes:LC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(i=>{let r=yl();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=yl();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const c=function(d,f){return new _a(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,xt.newInvalidDocument(h)))});let a=yl();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&jl(h.mutation,c,Pn.empty(),Qe.now()),_f(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Jn(r.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:LB(r.bundledQuery),readTime:Jn(r.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(){this.overlays=new Fe(G.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const i=os();return U.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),U.resolve()}getOverlaysForCollection(e,n,i){const r=os(),s=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return U.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Fe((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let h=s.get(c.largestBatchId);h===null&&(h=os(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=os(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=r)););return U.resolve(a)}ht(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new hB(n,i));let s=this.Ir.get(n);s===void 0&&(s=ae(),this.Ir.set(n,s)),this.Ir.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.Tr=new ft(nt.Er),this.dr=new ft(nt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new nt(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new nt(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){const n=new G(new Ae([])),i=new nt(n,e),r=new nt(n,e+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new G(new Ae([])),i=new nt(n,e),r=new nt(n,e+1);let s=ae();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new nt(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class nt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return G.comparator(e.key,n.key)||ge(e.wr,n.wr)}static Ar(e,n){return ge(e.wr,n.wr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ft(nt.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new uB(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.br=this.br.add(new nt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.vr(i),s=r<0?0:r;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new nt(n,0),r=new nt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{const a=this.Dr(o.wr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new ft(ge);return n.forEach(r=>{const s=new nt(r,0),o=new nt(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{i=i.add(a.wr)})}),U.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;G.isDocumentKey(s)||(s=s.child(""));const o=new nt(new G(s),0);let a=new ft(ge);return this.br.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.wr)),!0)},o),U.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(i=>{const r=this.Dr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Te(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return U.forEach(n.mutations,r=>{const s=new nt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){const i=new nt(n,0),r=this.br.firstAfterOrEqual(i);return U.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e){this.Mr=e,this.docs=function(){return new Fe(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return U.resolve(i?i.document.mutableCopy():xt.newInvalidDocument(n))}getEntries(e,n){let i=Ri();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():xt.newInvalidDocument(r))}),U.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Ri();const o=n.path,a=new G(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||C$(A$(h),i)<=0||(r.has(h.key)||_f(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,i,r){J()}Or(e,n){return U.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new KB(this)}getSize(e){return U.resolve(this.size)}}class KB extends FB{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e){this.persistence=e,this.Nr=new ya(n=>by(n),xy),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Py,this.targetCount=0,this.kr=Qo.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,r)=>n(r)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Qo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),U.waitFor(s).next(()=>r)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return U.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),U.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return U.resolve(i)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e,n){this.qr={},this.overlays={},this.Qr=new vy(0),this.Kr=!1,this.Kr=!0,this.$r=new zB,this.referenceDelegate=e(this),this.Ur=new qB(this),this.indexManager=new MB,this.remoteDocumentCache=function(r){return new WB(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new DB(n),this.Gr=new $B(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new HB(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){K("MemoryPersistence","Starting transaction:",e);const r=new YB(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(e,n){return U.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}}class YB extends P${constructor(e){super(),this.currentSequenceNumber=e}}class Ry{constructor(e){this.persistence=e,this.Jr=new Py,this.Yr=null}static Zr(e){return new Ry(e)}get Xr(){if(this.Yr)return this.Yr;throw J()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),U.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,i=>{const r=G.fromPath(i);return this.ei(e,r).next(s=>{s||n.removeEntry(r,Z.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(e,n){let i=ae(),r=ae();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Ny(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return $V()?8:R$(At())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new QB;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,i,r){return i.documentReadCount<this.ji?(rl()<=ce.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",to(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(rl()<=ce.DEBUG&&K("QueryEngine","Query:",to(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(rl()<=ce.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",to(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xn(n))):U.resolve())}Yi(e,n){if(BT(n))return U.resolve(null);let i=Xn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=kd(n,null,"F"),i=Xn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=ae(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,kd(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,i,r){return BT(n)||r.isEqual(Z.min())?U.resolve(null):this.Ji.getDocuments(e,i).next(s=>{const o=this.ts(n,s);return this.ns(n,o,i,r)?U.resolve(null):(rl()<=ce.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),to(n)),this.rs(e,o,n,I$(r,-1)).next(a=>a))})}ts(e,n){let i=new ft(OC(e));return n.forEach((r,s)=>{_f(e,s)&&(i=i.add(s))}),i}ns(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,n,i){return rl()<=ce.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",to(n)),this.Ji.getDocumentsMatchingQuery(e,n,Cr.min(),i)}rs(e,n,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e,n,i,r){this.persistence=e,this.ss=n,this.serializer=r,this.os=new Fe(ge),this._s=new ya(s=>by(s),xy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UB(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function ZB(t,e,n,i){return new JB(t,e,n,i)}async function t1(t,e){const n=ee(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=ae();for(const c of r){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(i,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function e4(t,e){const n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,f=d.keys();let g=U.resolve();return f.forEach(_=>{g=g.next(()=>h.getEntry(l,_)).next(v=>{const x=c.docVersions.get(_);Te(x!==null),v.version.compareTo(x)<0&&(d.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),h.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=ae();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function n1(t){const e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function t4(t,e){const n=ee(t),i=e.snapshotVersion;let r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;const a=[];e.targetChanges.forEach((h,d)=>{const f=r.get(d);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,d)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(gt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,i)),r=r.insert(d,g),function(v,x,w){return v.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,g,h)&&a.push(n.Ur.updateTargetData(s,g))});let l=Ri(),c=ae();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(n4(s,o,e.documentUpdates).next(h=>{l=h.Ps,c=h.Is})),!i.isEqual(Z.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(h)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=r,s))}function n4(t,e,n){let i=ae(),r=ae();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=Ri();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:r}})}function i4(t,e){const n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function r4(t,e){const n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ur.getTargetData(i,e).next(s=>s?(r=s,U.resolve(r)):n.Ur.allocateTargetId(i).next(o=>(r=new cr(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}async function Nm(t,e,n){const i=ee(t),r=i.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!$c(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.os=i.os.remove(e),i._s.delete(r.target)}function ZT(t,e,n){const i=ee(t);let r=Z.min(),s=ae();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=ee(l),f=d._s.get(h);return f!==void 0?U.resolve(d.os.get(f)):d.Ur.getTargetData(c,h)}(i,o,Xn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ss.getDocumentsMatchingQuery(o,e,n?r:Z.min(),n?s:ae())).next(a=>(s4(i,Y$(e),a),{documents:a,Ts:s})))}function s4(t,e,n){let i=t.us.get(e)||Z.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.us.set(e,i)}class eb{constructor(){this.activeTargetIds=tB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class o4{constructor(){this.so=new eb,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new eb,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu=null;function Wp(){return Yu===null?Yu=function(){return 268435456+Math.round(2147483648*Math.random())}():Yu++,"0x"+Yu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="WebChannelConnection";class u4 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(n,i,r,s,o){const a=Wp(),l=this.xo(n,i.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,r).then(h=>(K("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Ko("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",r),h})}Lo(n,i,r,s,o,a){return this.Mo(n,i,r,s,o)}Oo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ga}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}xo(n,i){const r=l4[n];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,r){const s=Wp();return new Promise((o,a)=>{const l=new pC;l.setWithCredentials(!0),l.listenOnce(mC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ih.NO_ERROR:const h=l.getResponseJson();K(Et,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Ih.TIMEOUT:K(Et,`RPC '${e}' ${s} timed out`),a(new H(F.DEADLINE_EXCEEDED,"Request time out"));break;case Ih.HTTP_ERROR:const d=l.getStatus();if(K(Et,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const _=function(x){const w=x.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(w)>=0?w:F.UNKNOWN}(g.status);a(new H(_,g.message))}else a(new H(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new H(F.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{K(Et,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(r);K(Et,`RPC '${e}' ${s} sending request:`,r),l.send(n,"POST",c,i,15)})}Bo(e,n,i){const r=Wp(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=vC(),a=yC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new gC({})),this.Oo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const h=s.join("");K(Et,`Creating RPC '${e}' stream ${r}: ${h}`,l);const d=o.createWebChannel(h,l);let f=!1,g=!1;const _=new c4({Io:x=>{g?K(Et,`Not sending because RPC '${e}' stream ${r} is closed:`,x):(f||(K(Et,`Opening RPC '${e}' stream ${r} transport.`),d.open(),f=!0),K(Et,`RPC '${e}' stream ${r} sending:`,x),d.send(x))},To:()=>d.close()}),v=(x,w,E)=>{x.listen(w,b=>{try{E(b)}catch(C){setTimeout(()=>{throw C},0)}})};return v(d,_l.EventType.OPEN,()=>{g||(K(Et,`RPC '${e}' stream ${r} transport opened.`),_.yo())}),v(d,_l.EventType.CLOSE,()=>{g||(g=!0,K(Et,`RPC '${e}' stream ${r} transport closed`),_.So())}),v(d,_l.EventType.ERROR,x=>{g||(g=!0,Ko(Et,`RPC '${e}' stream ${r} transport errored:`,x),_.So(new H(F.UNAVAILABLE,"The operation could not be completed")))}),v(d,_l.EventType.MESSAGE,x=>{var w;if(!g){const E=x.data[0];Te(!!E);const b=E,C=b.error||((w=b[0])===null||w===void 0?void 0:w.error);if(C){K(Et,`RPC '${e}' stream ${r} received error:`,C);const N=C.status;let L=function(I){const k=Ke[I];if(k!==void 0)return WC(k)}(N),S=C.message;L===void 0&&(L=F.INTERNAL,S="Unknown error status: "+N+" with message "+C.message),g=!0,_.So(new H(L,S)),d.close()}else K(Et,`RPC '${e}' stream ${r} received:`,E),_.bo(E)}}),v(a,_C.STAT_EVENT,x=>{x.stat===Tm.PROXY?K(Et,`RPC '${e}' stream ${r} detected buffering proxy`):x.stat===Tm.NOPROXY&&K(Et,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function Kp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t){return new EB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n,i=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&K("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n,i,r,s,o,a,l){this.ui=e,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new i1(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Pi(n.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===n&&this.P_(i,r)},i=>{e(()=>{const r=new H(F.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class h4 extends r1{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=bB(this.serializer,e),i=function(s){if(!("targetChange"in s))return Z.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?Jn(o.readTime):Z.min()}(e);return this.listener.d_(n,i)}A_(e){const n={};n.database=Rm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Im(l)?{documents:IB(s,l)}:{query:AB(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=GC(s,o.resumeToken);const c=Cm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Z.min())>0){a.readTime=Nd(s,o.snapshotVersion.toTimestamp());const c=Cm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const i=kB(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){const n={};n.database=Rm(this.serializer),n.removeTarget=e,this.a_(n)}}class d4 extends r1{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Te(!!e.streamToken),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=SB(e.writeResults,e.commitTime),i=Jn(e.commitTime);return this.listener.g_(i,n)}p_(){const e={};e.database=Rm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>xB(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4 extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,km(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(F.UNKNOWN,s.toString())})}Lo(e,n,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,km(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(F.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class p4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Pi(n),this.D_=!1):K("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{i.enqueueAndForget(async()=>{$s(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ee(l);c.L_.add(4),await Hc(c),c.q_.set("Unknown"),c.L_.delete(4),await Tf(c)}(this))})}),this.q_=new p4(i,r)}}async function Tf(t){if($s(t))for(const e of t.B_)await e(!0)}async function Hc(t){for(const e of t.B_)await e(!1)}function s1(t,e){const n=ee(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),My(n)?Ly(n):va(n).r_()&&Dy(n,e))}function Oy(t,e){const n=ee(t),i=va(n);n.N_.delete(e),i.r_()&&o1(n,e),n.N_.size===0&&(i.r_()?i.o_():$s(n)&&n.q_.set("Unknown"))}function Dy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}va(t).A_(e)}function o1(t,e){t.Q_.xe(e),va(t).R_(e)}function Ly(t){t.Q_=new mB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),va(t).start(),t.q_.v_()}function My(t){return $s(t)&&!va(t).n_()&&t.N_.size>0}function $s(t){return ee(t).L_.size===0}function a1(t){t.Q_=void 0}async function m4(t){t.q_.set("Online")}async function _4(t){t.N_.forEach((e,n)=>{Dy(t,e)})}async function y4(t,e){a1(t),My(t)?(t.q_.M_(e),Ly(t)):t.q_.set("Unknown")}async function v4(t,e,n){if(t.q_.set("Online"),e instanceof qC&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.N_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.N_.delete(a),r.Q_.removeTarget(a))}(t,e)}catch(i){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Od(t,i)}else if(e instanceof kh?t.Q_.Ke(e):e instanceof KC?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Z.min()))try{const i=await n1(t.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.N_.get(c);h&&s.N_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.N_.get(l);if(!h)return;s.N_.set(l,h.withResumeToken(gt.EMPTY_BYTE_STRING,h.snapshotVersion)),o1(s,l);const d=new cr(h.target,l,c,h.sequenceNumber);Dy(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){K("RemoteStore","Failed to raise snapshot:",i),await Od(t,i)}}async function Od(t,e,n){if(!$c(e))throw e;t.L_.add(1),await Hc(t),t.q_.set("Offline"),n||(n=()=>n1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Tf(t)})}function l1(t,e){return e().catch(n=>Od(t,n,e))}async function bf(t){const e=ee(t),n=Pr(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;E4(e);)try{const r=await i4(e.localStore,i);if(r===null){e.O_.length===0&&n.o_();break}i=r.batchId,w4(e,r)}catch(r){await Od(e,r)}c1(e)&&u1(e)}function E4(t){return $s(t)&&t.O_.length<10}function w4(t,e){t.O_.push(e);const n=Pr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function c1(t){return $s(t)&&!Pr(t).n_()&&t.O_.length>0}function u1(t){Pr(t).start()}async function T4(t){Pr(t).p_()}async function b4(t){const e=Pr(t);for(const n of t.O_)e.m_(n.mutations)}async function x4(t,e,n){const i=t.O_.shift(),r=Ay.from(i,e,n);await l1(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await bf(t)}async function S4(t,e){e&&Pr(t).V_&&await async function(i,r){if(function(o){return fB(o)&&o!==F.ABORTED}(r.code)){const s=i.O_.shift();Pr(i).s_(),await l1(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await bf(i)}}(t,e),c1(t)&&u1(t)}async function nb(t,e){const n=ee(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const i=$s(n);n.L_.add(3),await Hc(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Tf(n)}async function I4(t,e){const n=ee(t);e?(n.L_.delete(2),await Tf(n)):e||(n.L_.add(2),await Hc(n),n.q_.set("Unknown"))}function va(t){return t.K_||(t.K_=function(n,i,r){const s=ee(n);return s.w_(),new h4(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Eo:m4.bind(null,t),Ro:_4.bind(null,t),mo:y4.bind(null,t),d_:v4.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),My(t)?Ly(t):t.q_.set("Unknown")):(await t.K_.stop(),a1(t))})),t.K_}function Pr(t){return t.U_||(t.U_=function(n,i,r){const s=ee(n);return s.w_(),new d4(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:T4.bind(null,t),mo:S4.bind(null,t),f_:b4.bind(null,t),g_:x4.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await bf(t)):(await t.U_.stop(),t.O_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new Vy(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fy(t,e){if(Pi("AsyncQueue",`${e}: ${t}`),$c(t))return new H(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.comparator=e?(n,i)=>e(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=yl(),this.sortedSet=new Fe(this.comparator)}static emptySet(e){return new Do(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Do;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this.W_=new Fe(G.comparator)}track(e){const n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):J():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Xo{constructor(e,n,i,r,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Xo(e,n,Do.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class C4{constructor(){this.queries=rb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const r=ee(n),s=r.queries;r.queries=rb(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(i)})})(this,new H(F.ABORTED,"Firestore shutting down"))}}function rb(){return new ya(t=>NC(t),mf)}async function h1(t,e){const n=ee(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.H_()&&e.J_()&&(i=2):(s=new A4,i=e.J_()?0:1);try{switch(i){case 0:s.z_=await n.onListen(r,!0);break;case 1:s.z_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=Fy(o,`Initialization of query '${to(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&jy(n)}async function d1(t,e){const n=ee(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?r=e.J_()?0:1:!s.H_()&&e.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function k4(t,e){const n=ee(t);let i=!1;for(const r of e){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(r)&&(i=!0);o.z_=r}}i&&jy(n)}function P4(t,e,n){const i=ee(t),r=i.queries.get(e);if(r)for(const s of r.j_)s.onError(n);i.queries.delete(e)}function jy(t){t.Y_.forEach(e=>{e.next()})}var Om,sb;(sb=Om||(Om={})).ea="default",sb.Cache="cache";class f1{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Xo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.key=e}}class g1{constructor(e){this.key=e}}class R4{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ae(),this.mutatedKeys=ae(),this.Aa=OC(e),this.Ra=new Do(this.Aa)}get Va(){return this.Ta}ma(e,n){const i=n?n.fa:new ib,r=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,d)=>{const f=r.get(h),g=_f(this.query,d)?d:null,_=!!f&&this.mutatedKeys.has(f.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;f&&g?f.data.isEqual(g.data)?_!==v&&(i.track({type:3,doc:g}),x=!0):this.ga(f,g)||(i.track({type:2,doc:g}),x=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!f&&g?(i.track({type:0,doc:g}),x=!0):f&&!g&&(i.track({type:1,doc:f}),x=!0,(l||c)&&(a=!0)),x&&(g?(o=o.add(g),s=v?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),i.track({type:1,doc:h})}return{Ra:o,fa:i,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,d)=>function(g,_){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return v(g)-v(_)}(h.type,d.type)||this.Aa(h.doc,d.doc)),this.pa(i),r=r!=null&&r;const a=n&&!r?this.ya():[],l=this.da.size===0&&this.current&&!r?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Xo(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ib,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ae(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return e.forEach(i=>{this.da.has(i)||n.push(new g1(i))}),this.da.forEach(i=>{e.has(i)||n.push(new p1(i))}),n}ba(e){this.Ta=e.Ts,this.da=ae();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Xo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class N4{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class O4{constructor(e){this.key=e,this.va=!1}}class D4{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ya(a=>NC(a),mf),this.Ma=new Map,this.xa=new Set,this.Oa=new Fe(G.comparator),this.Na=new Map,this.La=new Py,this.Ba={},this.ka=new Map,this.qa=Qo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function L4(t,e,n=!0){const i=w1(t);let r;const s=i.Fa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=await m1(i,e,n,!0),r}async function M4(t,e){const n=w1(t);await m1(n,e,!0,!1)}async function m1(t,e,n,i){const r=await r4(t.localStore,Xn(e)),s=r.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return i&&(a=await V4(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&s1(t.remoteStore,r),a}async function V4(t,e,n,i,r){t.Ka=(d,f,g)=>async function(v,x,w,E){let b=x.view.ma(w);b.ns&&(b=await ZT(v.localStore,x.query,!1).then(({documents:S})=>x.view.ma(S,b)));const C=E&&E.targetChanges.get(x.targetId),N=E&&E.targetMismatches.get(x.targetId)!=null,L=x.view.applyChanges(b,v.isPrimaryClient,C,N);return ab(v,x.targetId,L.wa),L.snapshot}(t,d,f,g);const s=await ZT(t.localStore,e,!0),o=new R4(e,s.Ts),a=o.ma(s.documents),l=zc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,l);ab(t,n,c.wa);const h=new N4(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function F4(t,e,n){const i=ee(t),r=i.Fa.get(e),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!mf(o,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Nm(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Oy(i.remoteStore,r.targetId),Dm(i,r.targetId)}).catch(Uc)):(Dm(i,r.targetId),await Nm(i.localStore,r.targetId,!0))}async function j4(t,e){const n=ee(t),i=n.Fa.get(e),r=n.Ma.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Oy(n.remoteStore,i.targetId))}async function U4(t,e,n){const i=q4(t);try{const r=await function(o,a){const l=ee(o),c=Qe.now(),h=a.reduce((g,_)=>g.add(_.key),ae());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=Ri(),v=ae();return l.cs.getEntries(g,h).next(x=>{_=x,_.forEach((w,E)=>{E.isValidDocument()||(v=v.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,_)).next(x=>{d=x;const w=[];for(const E of a){const b=lB(E,d.get(E.key).overlayedDocument);b!=null&&w.push(new Us(E.key,b,xC(b.value.mapValue),wi.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,w,a)}).next(x=>{f=x;const w=x.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(g,x.batchId,w)})}).then(()=>({batchId:f.batchId,changes:LC(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Fe(ge)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(i,r.batchId,n),await Wc(i,r.changes),await bf(i.remoteStore)}catch(r){const s=Fy(r,"Failed to persist write");n.reject(s)}}async function _1(t,e){const n=ee(t);try{const i=await t4(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.Na.get(s);o&&(Te(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?Te(o.va):r.removedDocuments.size>0&&(Te(o.va),o.va=!1))}),await Wc(n,i,e)}catch(i){await Uc(i)}}function ob(t,e,n){const i=ee(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=ee(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const f of d.j_)f.Z_(a)&&(c=!0)}),c&&jy(l)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function $4(t,e,n){const i=ee(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Na.get(e),s=r&&r.key;if(s){let o=new Fe(G.comparator);o=o.insert(s,xt.newNoDocument(s,Z.min()));const a=ae().add(s),l=new Ef(Z.min(),new Map,new Fe(ge),o,a);await _1(i,l),i.Oa=i.Oa.remove(s),i.Na.delete(e),Uy(i)}else await Nm(i.localStore,e,!1).then(()=>Dm(i,e,n)).catch(Uc)}async function B4(t,e){const n=ee(t),i=e.batch.batchId;try{const r=await e4(n.localStore,e);v1(n,i,null),y1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Wc(n,r)}catch(r){await Uc(r)}}async function z4(t,e,n){const i=ee(t);try{const r=await function(o,a){const l=ee(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Te(d!==null),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(i.localStore,e);v1(i,e,n),y1(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Wc(i,r)}catch(r){await Uc(r)}}function y1(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function v1(t,e,n){const i=ee(t);let r=i.Ba[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function Dm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(i=>{t.La.containsKey(i)||E1(t,i)})}function E1(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Oy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Uy(t))}function ab(t,e,n){for(const i of n)i instanceof p1?(t.La.addReference(i.key,e),H4(t,i)):i instanceof g1?(K("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||E1(t,i.key)):J()}function H4(t,e){const n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(K("SyncEngine","New document in limbo: "+n),t.xa.add(i),Uy(t))}function Uy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new G(Ae.fromString(e)),i=t.qa.next();t.Na.set(i,new O4(n)),t.Oa=t.Oa.insert(n,i),s1(t.remoteStore,new cr(Xn(Sy(n.path)),i,"TargetPurposeLimboResolution",vy.oe))}}async function Wc(t,e,n){const i=ee(t),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((a,l)=>{o.push(i.Ka(l,e,n).then(c=>{var h;if((c||n)&&i.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){r.push(c);const d=Ny.Wi(l.targetId,c);s.push(d)}}))}),await Promise.all(o),i.Ca.d_(r),await async function(l,c){const h=ee(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>U.forEach(c,f=>U.forEach(f.$i,g=>h.persistence.referenceDelegate.addReference(d,f.targetId,g)).next(()=>U.forEach(f.Ui,g=>h.persistence.referenceDelegate.removeReference(d,f.targetId,g)))))}catch(d){if(!$c(d))throw d;K("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const g=h.os.get(f),_=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(_);h.os=h.os.insert(f,v)}}}(i.localStore,s))}async function W4(t,e){const n=ee(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const i=await t1(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new H(F.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Wc(n,i.hs)}}function K4(t,e){const n=ee(t),i=n.Na.get(e);if(i&&i.va)return ae().add(i.key);{let r=ae();const s=n.Ma.get(e);if(!s)return r;for(const o of s){const a=n.Fa.get(o);r=r.unionWith(a.view.Va)}return r}}function w1(t){const e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$4.bind(null,e),e.Ca.d_=k4.bind(null,e.eventManager),e.Ca.$a=P4.bind(null,e.eventManager),e}function q4(t){const e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z4.bind(null,e),e}class lb{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=wf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return ZB(this.persistence,new XB,e.initialUser,this.serializer)}createPersistence(e){return new GB(Ry.Zr,this.serializer)}createSharedClientState(e){return new o4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class G4{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ob(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=W4.bind(null,this.syncEngine),await I4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new C4}()}createDatastore(e){const n=wf(e.databaseInfo.databaseId),i=function(s){return new u4(s)}(e.databaseInfo);return function(s,o,a,l){return new f4(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new g4(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ob(this.syncEngine,n,0),function(){return tb.D()?new tb:new a4}())}createSyncEngine(e,n){return function(r,s,o,a,l,c,h){const d=new D4(r,s,o,a,l,c);return h&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=ee(r);K("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Hc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Tt.UNAUTHENTICATED,this.clientId=wC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{K("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Fy(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function qp(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await t1(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await X4(t);K("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>nb(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>nb(e.remoteStore,r)),t._onlineComponents=e}function Q4(t){return t.name==="FirebaseError"?t.code===F.FAILED_PRECONDITION||t.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function X4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await qp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Q4(n))throw n;Ko("Error using user provided cache. Falling back to memory cache: "+n),await qp(t,new lb)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await qp(t,new lb);return t._offlineComponents}async function b1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await cb(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await cb(t,new G4))),t._onlineComponents}function J4(t){return b1(t).then(e=>e.syncEngine)}async function x1(t){const e=await b1(t),n=e.eventManager;return n.onListen=L4.bind(null,e.syncEngine),n.onUnlisten=F4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=M4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=j4.bind(null,e.syncEngine),n}function Z4(t,e,n={}){const i=new Ei;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new T1({next:f=>{o.enqueueAndForget(()=>d1(s,d));const g=f.docs.has(a);!g&&f.fromCache?c.reject(new H(F.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&l&&l.source==="server"?c.reject(new H(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new f1(Sy(a.path),h,{includeMetadataChanges:!0,_a:!0});return h1(s,d)}(await x1(t),t.asyncQueue,e,n,i)),i.promise}function ez(t,e,n={}){const i=new Ei;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new T1({next:f=>{o.enqueueAndForget(()=>d1(s,d)),f.fromCache&&l.source==="server"?c.reject(new H(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new f1(a,h,{includeMetadataChanges:!0,_a:!0});return h1(s,d)}(await x1(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(t,e,n){if(!n)throw new H(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tz(t,e,n,i){if(e===!0&&i===!0)throw new H(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hb(t){if(!G.isDocumentKey(t))throw new H(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function db(t){if(G.isDocumentKey(t))throw new H(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J()}function Ps(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xf(t);throw new H(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new H(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sf{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new H(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fb(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new _$;switch(i.type){case"firstParty":return new w$(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new H(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=ub.get(n);i&&(K("ComponentProvider","Removing Datastore"),ub.delete(n),i.terminate())}(this),Promise.resolve()}}function nz(t,e,n,i={}){var r;const s=(t=Ps(t,Sf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Tt.MOCK_USER;else{a=SA(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new H(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Tt(c)}t._authCredentials=new y$(new EC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Fr(this.firestore,e,this._query)}}class Wt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}}class br extends Fr{constructor(e,n,i){super(e,n,Sy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new G(e))}withConverter(e){return new br(this.firestore,e,this._path)}}function Lm(t,e,...n){if(t=at(t),I1("collection","path",e),t instanceof Sf){const i=Ae.fromString(e,...n);return db(i),new br(t,null,i)}{if(!(t instanceof Wt||t instanceof br))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ae.fromString(e,...n));return db(i),new br(t.firestore,null,i)}}function Ul(t,e,...n){if(t=at(t),arguments.length===1&&(e=wC.newId()),I1("doc","path",e),t instanceof Sf){const i=Ae.fromString(e,...n);return hb(i),new Wt(t,null,new G(i))}{if(!(t instanceof Wt||t instanceof br))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ae.fromString(e,...n));return hb(i),new Wt(t.firestore,t instanceof br?t.converter:null,new G(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new i1(this,"async_queue_retry"),this.Eu=()=>{const n=Kp();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Kp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Kp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Ei;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!$c(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(i=>{this.hu=i,this.Pu=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Pi("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Pu=!1,i))));return this.au=n,n}enqueueAfterDelay(e,n,i){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const r=Vy.createAndSchedule(this,e,n,i,s=>this.Vu(s));return this.lu.push(r),r}du(){this.hu&&J()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class If extends Sf{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new iz}(),this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||A1(this),this._firestoreClient.terminate()}}function rz(t,e){const n=typeof t=="object"?t:ay(),i=typeof t=="string"?t:"(default)",r=hf(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=TA("firestore");s&&nz(r,...s)}return r}function $y(t){return t._firestoreClient||A1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function A1(t){var e,n,i;const r=t._freezeSettings(),s=function(a,l,c,h){return new D$(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,S1(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new Y4(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jo(gt.fromBase64String(e))}catch(n){throw new H(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jo(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz=/^__.*__$/;class oz{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Us(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bc(e,this.data,n,this.fieldTransforms)}}function k1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class Wy{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new Wy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Su({path:i,Du:!1});return r.vu(e),r}Cu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Su({path:i,Du:!1});return r.yu(),r}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Dd(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(k1(this.wu)&&sz.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class az{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||wf(e)}Nu(e,n,i,r=!1){return new Wy({wu:e,methodName:n,Ou:i,path:ht.emptyPath(),Du:!1,xu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function P1(t){const e=t._freezeSettings(),n=wf(t._databaseId);return new az(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lz(t,e,n,i,r,s={}){const o=t.Nu(s.merge||s.mergeFields?2:0,e,n,r);O1("Data must be an object, but it was:",o,i);const a=R1(i,o);let l,c;if(s.merge)l=new Pn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=uz(e,d,n);if(!o.contains(f))throw new H(F.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);dz(h,f)||h.push(f)}l=new Pn(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new oz(new dn(a),l,c)}function cz(t,e,n,i=!1){return Ky(n,t.Nu(i?4:3,e))}function Ky(t,e){if(N1(t=at(t)))return O1("Unsupported field value:",e,t),R1(t,e);if(t instanceof C1)return function(i,r){if(!k1(r.wu))throw r.Mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Mu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=Ky(a,r.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=at(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return nB(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Qe.fromDate(i);return{timestampValue:Nd(r.serializer,s)}}if(i instanceof Qe){const s=new Qe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Nd(r.serializer,s)}}if(i instanceof zy)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Jo)return{bytesValue:GC(r.serializer,i._byteString)};if(i instanceof Wt){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ky(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Hy)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return Iy(a.serializer,l)})}}}}}}(i,r);throw r.Mu(`Unsupported field value: ${xf(i)}`)}(t,e)}function R1(t,e){const n={};return TC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ma(t,(i,r)=>{const s=Ky(r,e.bu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function N1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof zy||t instanceof Jo||t instanceof Wt||t instanceof C1||t instanceof Hy)}function O1(t,e,n){if(!N1(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=xf(n);throw i==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+i)}}function uz(t,e,n){if((e=at(e))instanceof By)return e._internalPath;if(typeof e=="string")return D1(t,e);throw Dd("Field path arguments must be of type string or ",t,!1,void 0,n)}const hz=new RegExp("[~\\*/\\[\\]]");function D1(t,e,n){if(e.search(hz)>=0)throw Dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new By(...e.split("."))._internalPath}catch{throw Dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dd(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new H(F.INVALID_ARGUMENT,a+t+l)}function dz(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fz extends L1{data(){return super.data()}}function qy(t,e){return typeof e=="string"?D1(t,e):e instanceof By?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gy{}class Yy extends Gy{}function M1(t,e,...n){let i=[];e instanceof Gy&&i.push(e),i=i.concat(n),function(s){const o=s.filter(l=>l instanceof Xy).length,a=s.filter(l=>l instanceof Qy).length;if(o>1||o>0&&a>0)throw new H(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class Qy extends Yy{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Qy(e,n,i)}_apply(e){const n=this._parse(e);return j1(e._query,n),new Fr(e.firestore,e.converter,Am(e._query,n))}_parse(e){const n=P1(e.firestore);return function(s,o,a,l,c,h,d){let f;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new H(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){gb(d,h);const g=[];for(const _ of d)g.push(pb(l,s,_));f={arrayValue:{values:g}}}else f=pb(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||gb(d,h),f=cz(a,o,d,h==="in"||h==="not-in");return Ye.create(c,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Xy extends Gy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xy(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Ln.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r;const a=s.getFlattenedFilters();for(const l of a)j1(o,l),o=Am(o,l)}(e._query,n),new Fr(e.firestore,e.converter,Am(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jy extends Yy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Jy(e,n)}_apply(e){const n=function(r,s,o){if(r.startAt!==null)throw new H(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new H(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tc(s,o)}(e._query,this._field,this._direction);return new Fr(e.firestore,e.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new _a(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function V1(t,e="asc"){const n=e,i=qy("orderBy",t);return Jy._create(i,n)}class Zy extends Yy{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new Zy(e,n,i)}_apply(e){return new Fr(e.firestore,e.converter,kd(e._query,this._limit,this._limitType))}}function F1(t){return Zy._create("limit",t,"F")}function pb(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new H(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RC(e)&&n.indexOf("/")!==-1)throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ae.fromString(n));if(!G.isDocumentKey(i))throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return MT(t,new G(i))}if(n instanceof Wt)return MT(t,n._key);throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xf(n)}.`)}function gb(t,e){if(!Array.isArray(t)||t.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function j1(t,e){const n=function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class gz{convertValue(e,n="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw J()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ma(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var n,i,r;const s=(r=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>He(o.doubleValue));return new Hy(s)}convertGeoPoint(e){return new zy(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=wy(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(vc(e));default:return null}}convertTimestamp(e){const n=kr(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ae.fromString(e);Te(e1(i));const r=new Ec(i.get(1),i.get(3)),s=new G(i.popFirst(5));return r.isEqual(n)||Pi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class U1 extends L1{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(qy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Ph extends U1{data(e={}){return super.data(e)}}class _z{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new El(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Ph(this._firestore,this._userDataWriter,i.key,i,new El(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new Ph(r._firestore,r._userDataWriter,a.doc.key,a.doc,new El(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Ph(r._firestore,r._userDataWriter,a.doc.key,a.doc,new El(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:yz(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t){t=Ps(t,Wt);const e=Ps(t.firestore,If);return Z4($y(e),t._key).then(n=>Ez(e,t,n))}class B1 extends gz{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function z1(t){t=Ps(t,Fr);const e=Ps(t.firestore,If),n=$y(e),i=new B1(e);return pz(t._query),ez(n,t._query).then(r=>new _z(e,i,t,r))}function Mm(t,e,n){t=Ps(t,Wt);const i=Ps(t.firestore,If),r=mz(t.converter,e,n);return vz(i,[lz(P1(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,wi.none())])}function vz(t,e){return function(i,r){const s=new Ei;return i.asyncQueue.enqueueAndForget(async()=>U4(await J4(i),r,s)),s.promise}($y(t),e)}function Ez(t,e,n){const i=n.docs.get(e._key),r=new B1(t);return new U1(t,r,e._key,i,new El(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){ga=r})(Fs),xs(new Ar("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new If(new v$(i.getProvider("auth-internal")),new b$(i.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new H(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ec(c.options.projectId,h)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Gn(RT,"4.7.1",e),Gn(RT,"4.7.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="firebasestorage.googleapis.com",W1="storageBucket",wz=2*60*1e3,Tz=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze extends ii{constructor(e,n,i=0){super(Gp(e),`Firebase Storage: ${n} (${Gp(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ze.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Be;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Be||(Be={}));function Gp(t){return"storage/"+t}function ev(){const t="An unknown error occurred, please check the error payload for server response.";return new ze(Be.UNKNOWN,t)}function bz(t){return new ze(Be.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function xz(t){return new ze(Be.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Sz(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ze(Be.UNAUTHENTICATED,t)}function Iz(){return new ze(Be.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Az(t){return new ze(Be.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Cz(){return new ze(Be.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kz(){return new ze(Be.CANCELED,"User canceled the upload/download.")}function Pz(t){return new ze(Be.INVALID_URL,"Invalid URL '"+t+"'.")}function Rz(t){return new ze(Be.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Nz(){return new ze(Be.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+W1+"' property when initializing the app?")}function Oz(){return new ze(Be.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Dz(){return new ze(Be.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Lz(t){return new ze(Be.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Vm(t){return new ze(Be.INVALID_ARGUMENT,t)}function K1(){return new ze(Be.APP_DELETED,"The Firebase app was deleted.")}function Mz(t){return new ze(Be.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $l(t,e){return new ze(Be.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function sl(t){throw new ze(Be.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Jt.makeFromUrl(e,n)}catch{return new Jt(e,"")}if(i.path==="")return i;throw Rz(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${h}/b/${r}/o${f}`,"i"),_={bucket:1,path:3},v=n===H1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",w=new RegExp(`^https?://${v}/${r}/${x}`,"i"),b=[{regex:a,indices:l,postModify:s},{regex:g,indices:_,postModify:c},{regex:w,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<b.length;C++){const N=b[C],L=N.regex.exec(e);if(L){const S=L[N.indices.bucket];let y=L[N.indices.path];y||(y=""),i=new Jt(S,y),N.postModify(i);break}}if(i==null)throw Pz(e);return i}}class Vz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fz(t,e,n){let i=1,r=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function h(...x){c||(c=!0,e.apply(null,x))}function d(x){r=setTimeout(()=>{r=null,t(g,l())},x)}function f(){s&&clearTimeout(s)}function g(x,...w){if(c){f();return}if(x){f(),h.call(null,x,...w);return}if(l()||o){f(),h.call(null,x,...w);return}i<64&&(i*=2);let b;a===1?(a=2,b=0):b=(i+Math.random())*1e3,d(b)}let _=!1;function v(x){_||(_=!0,f(),!c&&(r!==null?(x||(a=2),clearTimeout(r),d(0)):x||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function jz(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(t){return t!==void 0}function $z(t){return typeof t=="object"&&!Array.isArray(t)}function tv(t){return typeof t=="string"||t instanceof String}function mb(t){return nv()&&t instanceof Blob}function nv(){return typeof Blob<"u"}function _b(t,e,n,i){if(i<e)throw Vm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Vm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function q1(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var gs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(gs||(gs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bz(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e,n,i,r,s,o,a,l,c,h,d,f=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,_)=>{this.resolve_=g,this.reject_=_,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new Qu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===gs.NO_ERROR,l=s.getStatus();if(!a||Bz(l,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===gs.ABORT;i(!1,new Qu(!1,null,h));return}const c=this.successCodes_.indexOf(l)!==-1;i(!0,new Qu(c,s))})},n=(i,r)=>{const s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Uz(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=ev();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(r.canceled){const l=this.appDelete_?K1():kz();o(l)}else{const l=Cz();o(l)}};this.canceled_?n(!1,new Qu(!1,null,!0)):this.backoffId_=Fz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&jz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qu{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function Hz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Wz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Kz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function qz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Gz(t,e,n,i,r,s,o=!0){const a=q1(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Kz(c,e),Hz(c,n),Wz(c,s),qz(c,i),new zz(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Qz(...t){const e=Yz();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(nv())return new Blob(t);throw new ze(Be.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Xz(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jz(t){if(typeof atob>"u")throw Lz("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Yp{constructor(e,n){this.data=e,this.contentType=n||null}}function Zz(t,e){switch(t){case Hn.RAW:return new Yp(G1(e));case Hn.BASE64:case Hn.BASE64URL:return new Yp(Y1(t,e));case Hn.DATA_URL:return new Yp(t5(e),n5(e))}throw ev()}function G1(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=i,o=t.charCodeAt(++n);i=65536|(s&1023)<<10|o&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function e5(t){let e;try{e=decodeURIComponent(t)}catch{throw $l(Hn.DATA_URL,"Malformed data URL.")}return G1(e)}function Y1(t,e){switch(t){case Hn.BASE64:{const r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw $l(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Hn.BASE64URL:{const r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw $l(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Jz(e)}catch(r){throw r.message.includes("polyfill")?r:$l(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class Q1{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw $l(Hn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=i5(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function t5(t){const e=new Q1(t);return e.base64?Y1(Hn.BASE64,e.rest):e5(e.rest)}function n5(t){return new Q1(t).contentType}function i5(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n){let i=0,r="";mb(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(mb(this.data_)){const i=this.data_,r=Xz(i,e,n);return r===null?null:new tr(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new tr(i,!0)}}static getBlob(...e){if(nv()){const n=e.map(i=>i instanceof tr?i.data_:i);return new tr(Qz.apply(null,n))}else{const n=e.map(o=>tv(o)?Zz(Hn.RAW,o).data:o.data_);let i=0;n.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)r[s++]=o[a]}),new tr(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(t){let e;try{e=JSON.parse(t)}catch{return null}return $z(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function s5(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function J1(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t,e){return e}class kt{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||o5}}let Xu=null;function a5(t){return!tv(t)||t.length<2?t:J1(t)}function Z1(){if(Xu)return Xu;const t=[];t.push(new kt("bucket")),t.push(new kt("generation")),t.push(new kt("metageneration")),t.push(new kt("name","fullPath",!0));function e(s,o){return a5(o)}const n=new kt("name");n.xform=e,t.push(n);function i(s,o){return o!==void 0?Number(o):o}const r=new kt("size");return r.xform=i,t.push(r),t.push(new kt("timeCreated")),t.push(new kt("updated")),t.push(new kt("md5Hash",null,!0)),t.push(new kt("cacheControl",null,!0)),t.push(new kt("contentDisposition",null,!0)),t.push(new kt("contentEncoding",null,!0)),t.push(new kt("contentLanguage",null,!0)),t.push(new kt("contentType",null,!0)),t.push(new kt("metadata","customMetadata",!0)),Xu=t,Xu}function l5(t,e){function n(){const i=t.bucket,r=t.fullPath,s=new Jt(i,r);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function c5(t,e,n){const i={};i.type="file";const r=n.length;for(let s=0;s<r;s++){const o=n[s];i[o.local]=o.xform(i,e[o.server])}return l5(i,t),i}function ek(t,e,n){const i=X1(e);return i===null?null:c5(t,i,n)}function u5(t,e,n,i){const r=X1(e);if(r===null||!tv(r.downloadTokens))return null;const s=r.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const h=t.bucket,d=t.fullPath,f="/b/"+o(h)+"/o/"+o(d),g=iv(f,n,i),_=q1({alt:"media",token:c});return g+_})[0]}function h5(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class tk{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(t){if(!t)throw ev()}function d5(t,e){function n(i,r){const s=ek(t,r,e);return nk(s!==null),s}return n}function f5(t,e){function n(i,r){const s=ek(t,r,e);return nk(s!==null),u5(s,r,t.host,t._protocol)}return n}function ik(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=Iz():r=Sz():n.getStatus()===402?r=xz(t.bucket):n.getStatus()===403?r=Az(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function p5(t){const e=ik(t);function n(i,r){let s=e(i,r);return i.getStatus()===404&&(s=bz(t.path)),s.serverResponse=r.serverResponse,s}return n}function g5(t,e,n){const i=e.fullServerUrl(),r=iv(i,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new tk(r,s,f5(t,n),o);return a.errorHandler=p5(e),a}function m5(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function _5(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=m5(null,e)),i}function y5(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let C=0;C<2;C++)b=b+Math.random().toString().slice(2);return b}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=_5(e,i,r),h=h5(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",g=tr.getBlob(d,i,f);if(g===null)throw Oz();const _={name:c.fullPath},v=iv(s,t.host,t._protocol),x="POST",w=t.maxUploadRetryTime,E=new tk(v,x,d5(t,n),w);return E.urlParams=_,E.headers=o,E.body=g.uploadData(),E.errorHandler=ik(e),E}class v5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=gs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=gs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw sl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw sl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw sl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw sl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw sl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class E5 extends v5{initXhr(){this.xhr_.responseType="text"}}function rk(){return new E5}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){this._service=e,n instanceof Jt?this._location=n:this._location=Jt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Rs(e,n)}get root(){const e=new Jt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return J1(this._location.path)}get storage(){return this._service}get parent(){const e=r5(this._location.path);if(e===null)return null;const n=new Jt(this._location.bucket,e);return new Rs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Mz(e)}}function w5(t,e,n){t._throwIfRoot("uploadBytes");const i=y5(t.storage,t._location,Z1(),new tr(e,!0),n);return t.storage.makeRequestWithTokens(i,rk).then(r=>({metadata:r,ref:t}))}function T5(t){t._throwIfRoot("getDownloadURL");const e=g5(t.storage,t._location,Z1());return t.storage.makeRequestWithTokens(e,rk).then(n=>{if(n===null)throw Dz();return n})}function b5(t,e){const n=s5(t._location.path,e),i=new Jt(t._location.bucket,n);return new Rs(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(t){return/^[A-Za-z]+:\/\//.test(t)}function S5(t,e){return new Rs(t,e)}function sk(t,e){if(t instanceof rv){const n=t;if(n._bucket==null)throw Nz();const i=new Rs(n,n._bucket);return e!=null?sk(i,e):i}else return e!==void 0?b5(t,e):t}function I5(t,e){if(e&&x5(e)){if(t instanceof rv)return S5(t,e);throw Vm("To use ref(service, url), the first argument must be a Storage instance.")}else return sk(t,e)}function yb(t,e){const n=e==null?void 0:e[W1];return n==null?null:Jt.makeFromBucketSpec(n,t)}function A5(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:SA(r,t.app.options.projectId))}class rv{constructor(e,n,i,r,s){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=H1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=wz,this._maxUploadRetryTime=Tz,this._requests=new Set,r!=null?this._bucket=Jt.makeFromBucketSpec(r,this._host):this._bucket=yb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jt.makeFromBucketSpec(this._url,e):this._bucket=yb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_b("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_b("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Rs(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new Vz(K1());{const o=Gz(e,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const vb="@firebase/storage",Eb="0.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="storage";function ak(t,e,n){return t=at(t),w5(t,e,n)}function lk(t){return t=at(t),T5(t)}function ck(t,e){return t=at(t),I5(t,e)}function C5(t=ay(),e){t=at(t);const i=hf(t,ok).getImmediate({identifier:e}),r=TA("storage");return r&&k5(i,...r),i}function k5(t,e,n,i={}){A5(t,e,n,i)}function P5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new rv(n,i,r,e,Fs)}function R5(){xs(new Ar(ok,P5,"PUBLIC").setMultipleInstances(!0)),Gn(vb,Eb,""),Gn(vb,Eb,"esm2017")}R5();const N5={apiKey:"AIzaSyCilH8jOJK4Q3kYxAcRgDIINux5xaAd27A",authDomain:"final-capstone-assessment.firebaseapp.com",projectId:"final-capstone-assessment",storageBucket:"final-capstone-assessment.appspot.com",messagingSenderId:"804488964950",appId:"1:804488964950:web:24dad1cb3cb98f7818c4f7"},sv=CA(N5),ov=_y(sv),as=rz(sv),uk=C5(sv);function O5(){const t=an(),e=O.useContext(Vi),[n,i]=O.useState(""),[r,s]=O.useState(""),[o,a]=O.useState(""),[l,c]=O.useState(""),[h,d]=O.useState(""),[f,g]=O.useState(""),[_,v]=O.useState(""),[x,w]=O.useState(null),[E,b]=O.useState(""),[C,N]=O.useState(""),[L,S]=O.useState(!1),y=R=>{w(R.target.files[0])},I=()=>!n||!r||!o||!l||!h||!_?(N("Please fill in all required fields."),!1):isNaN(l)||l<=0?(N("Amount must be a positive number."),!1):!0,k=async()=>{if(!I())return;S(!0);const R={subject:n,merchant:r,date:o,amount:l,category:h,description:f,employee:_,team:E,uid:e.user.uid};try{if(x){const P=ck(uk,`invoice/${x.name}`);await ak(P,x);const le=await lk(P);R.invoiceUrl=le}const D=await fetch("https://backend-2txi.vercel.app/expenses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)});if(D.ok){const P=await D.json();console.log("Expense saved successfully:",P),t("/expense")}else N("Failed to save expense. Please try again.")}catch{N("Network error. Please try again later.")}finally{S(!1)}};return O.useEffect(()=>{L&&console.log("Loading...")},[L]),T.jsx("div",{className:"container",style:{display:"flex"},children:T.jsxs("div",{className:"container",children:[T.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:T.jsx("button",{type:"button",className:"btn-close",onClick:()=>t("/expense")})}),C&&T.jsx("div",{className:"alert alert-danger",children:C}),T.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[[{label:"Subject",value:n,setter:i},{label:"Merchant",value:r,setter:s},{label:"Date*",value:o,setter:a,type:"date"},{label:"Total*",value:l,setter:c,type:"number"},{label:"Category*",value:h,setter:d,select:!0,options:["Select Type","Trip","Services","Catering"]},{label:"Description",value:f,setter:g},{label:"Employee Name*",value:_,setter:v},{label:"Team*",value:E,setter:b,select:!0,options:["Select team","Project management","Software development","Design team"]}].map(({label:R,value:D,setter:P,type:le,select:ne,options:ie},oe)=>T.jsxs("div",{className:"mb-3 row",children:[T.jsx("label",{className:"col-sm-2 col-form-label",children:R}),T.jsx("div",{className:"col-sm-10",children:ne?T.jsx("select",{className:"form-select",onChange:B=>P(B.target.value),disabled:L,children:ie.map((B,q)=>T.jsx("option",{value:B==="Select Type"?"":B,children:B},q))}):T.jsx("input",{type:le||"text",className:"form-control",value:D,onChange:B=>P(B.target.value),disabled:L})})]},oe)),T.jsxs("label",{htmlFor:"file-upload",className:"btn btn-outline-secondary d-flex align-items-center justify-content-center",style:{width:"100%",height:"50px",marginTop:"10px",cursor:"pointer"},children:[T.jsx("i",{className:"fas fa-upload me-2"})," ",x?x.name:"Upload a receipt",T.jsx("input",{type:"file",id:"file-upload",style:{display:"none"},onChange:y,disabled:L})]})]}),T.jsx("button",{onClick:k,className:"btn btn-primary",disabled:L,style:{marginTop:"10px"},children:L?T.jsx("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):"Save"})]})})}function D5(){const{user:t}=O.useContext(Vi);console.log(t);const e=an(),[n,i]=O.useState(null),[r,s]=O.useState(""),[o,a]=O.useState(null);O.useState(!1),console.log(o);const[l,c]=O.useState(!0),[h,d]=O.useState(!0);O.useEffect(()=>{const w=x.current;w&&bootstrap.Offcanvas.getOrCreateInstance(w)},[]),O.useEffect(()=>{(async()=>{if(t)try{const E=t.uid,b=Ul(as,"users",E),C=await $1(b);C.exists()?i(C.data()):console.log("No such document!")}catch(E){console.error(E)}finally{c(!1)}else console.log("No user is signed in"),c(!1)})()},[t]),O.useEffect(()=>{(async()=>{if(t){d(!0);try{const E=Lm(as,`users/${t.uid}/posts`),b=M1(E,V1("timestamp","desc"),F1(1)),C=await z1(b);if(!C.empty){const L=C.docs[0].data();s(L.fileUrl||"")}}catch(E){console.error("Error fetching document:",E)}finally{d(!1)}}})()},[t]);const[f,g]=O.useState("");console.log(f);const _=()=>{if(f==="home")return T.jsx(_A,{});if(f==="expenses")return T.jsx(dC,{})},v=async()=>{try{await ov.signOut(),localStorage.removeItem("user"),i(null),e("/login"),console.log("Logout")}catch(w){console.error(w.message)}},x=O.useRef(null);return T.jsxs("div",{class:"d-flex align-items-start",id:"navBar",children:[T.jsxs("div",{class:"nav flex-column nav-pills me-3",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",children:[h?T.jsx("div",{children:T.jsx("span",{className:"visually-hidden",children:"Loading..."})}):T.jsx("img",{src:r||"https://www.kindpng.com/picc/m/451-4517876_default-profile-hd-png-download.png",alt:"Profile",style:{width:"100px",height:"100px",borderRadius:"50%",cursor:"pointer"},onClick:()=>r&&window.open(r,"_blank")}),n?T.jsx("div",{style:{marginTop:"20px"},children:T.jsx("form",{children:T.jsx("div",{class:"mb-3",children:T.jsx("input",{type:"email",class:"form-control",id:"exampleInputEmail1",placeholder:n.name,disabled:!0})})})}):T.jsx("p",{children:"No user data available"}),T.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",gap:"16px"},children:[T.jsxs(Ja,{to:"/",role:"tab",children:[T.jsx("i",{class:"bi bi-house navBar__icon"})," Home"]}),T.jsxs(Ja,{to:"/expense",activeClassName:"active",role:"tab",children:[T.jsx("i",{className:"bi bi-cart-plus navBar__icon"}),"Expenses"]}),T.jsxs(Ja,{to:"/trips",role:"tab",children:[T.jsx("i",{class:"bi bi-airplane navBar__icon"}),"Trip"]}),T.jsxs(Ja,{to:"/approvals",role:"tab",children:[T.jsx("i",{class:"bi bi-clipboard-check navBar__icon"}),"Approvals"]}),T.jsxs(Ja,{to:"/settings",role:"tab",class:"nav-link",children:[T.jsx("i",{class:"bi bi-gear navBar__icon"}),"Settings"]})]}),T.jsxs("a",{onClick:v,class:"logout",style:{position:"absolute",bottom:0,textDecoration:"none"},children:[T.jsx("i",{class:"bi bi-door-closed navBar__icon"}),"Log out"]})]}),T.jsx("div",{class:"tab-content",id:"v-pills-tabContent",children:_()})]})}function L5(){const[t,e]=O.useState(""),[n,i]=O.useState(""),[r,s]=O.useState(""),[o,a]=O.useState(""),[l,c]=O.useState(""),[h,d]=O.useState(""),[f,g]=O.useState(""),[_,v]=O.useState(""),[x,w]=O.useState(""),[E,b]=O.useState(""),{user:C}=O.useContext(Vi);console.log(C.uid),console.log(t),console.log(n),console.log(r),console.log(l),console.log(h),console.log(x),console.log(E);const N=an(),L=async S=>{S.preventDefault(),console.log("Submit");const y={name:t,type:n,purpose:r,flight:o,depart_from:l,destination:h,amount:parseInt(f,10),check_in:_,check_out:x,hotel:E,uid:C.uid};console.log(y);try{const I=await fetch("https://backend-2txi.vercel.app/trips",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(I.ok)console.log("Trip saved successfully"),N("/trips");else{const k=await I.json();console.error("Failed to save trip",I.status,k)}}catch(I){console.error(I)}};return T.jsx("div",{className:"container",style:{display:"flex"},children:T.jsx("div",{class:"container",children:T.jsxs("form",{onSubmit:L,children:[T.jsx("h3",{children:"New Trip"}),T.jsx("hr",{}),T.jsxs("div",{class:"mb-3 row",children:[T.jsx("label",{for:"staticEmail",class:"col-sm-2 col-form-label",style:{width:"40%"},children:"Name*"}),T.jsx("div",{class:"col-sm-10",style:{width:"60%"},children:T.jsx("input",{type:"text",class:"form-control",id:"inputPassword",value:t,onChange:S=>e(S.target.value)})})]}),T.jsxs("div",{class:"mb-3 row",children:[T.jsx("label",{for:"inputPassword",class:"col-sm-2 col-form-label",children:"Type"}),T.jsx("div",{class:"col-sm-10",children:T.jsxs("div",{children:[T.jsxs("div",{class:"form-check",children:[T.jsx("input",{class:"form-check-input",type:"radio",name:"type",value:"domestic",id:"flexRadioDefault1",checked:n==="domestic",onChange:S=>i(S.target.value)}),T.jsx("label",{class:"form-check-label",for:"flexRadioDefault1",children:"Domestic"})]}),T.jsxs("div",{class:"form-check",children:[T.jsx("input",{class:"form-check-input",type:"radio",name:"type",value:"international",id:"flexRadioDefault2",checked:n==="international",onChange:S=>i(S.target.value)}),T.jsx("label",{class:"form-check-label",for:"flexRadioDefault2",children:"International"})]})]})})]}),T.jsxs("div",{class:"mb-3 row",children:[T.jsx("label",{for:"staticEmail",class:"col-sm-2 col-form-label",children:"Purpose*"}),T.jsx("div",{class:"col-sm-10",children:T.jsx("textarea",{class:"form-control",id:"inputPassword",value:r,onChange:S=>s(S.target.value)})})]}),T.jsx("h3",{children:"ITERATY"}),T.jsx("hr",{}),T.jsxs("div",{class:"mb-3 row",children:[T.jsx("label",{for:"staticEmail",class:"col-sm-2 col-form-label",children:"FLIGHT"}),T.jsx("div",{class:"col-sm-10",children:T.jsxs("div",{children:[T.jsxs("div",{class:"form-check",children:[T.jsx("input",{class:"form-check-input",type:"radio",name:"flightType",id:"oneWay",value:"one-way",checked:o==="one-way",onChange:S=>a(S.target.value)}),T.jsx("label",{class:"form-check-label",for:"flexRadioDefault1",children:"One-way"})]}),T.jsxs("div",{class:"form-check",children:[T.jsx("input",{class:"form-check-input",type:"radio",name:"flightType",id:"roundTrip",value:"roundTrip",checked:o==="roundTrip",onChange:S=>a(S.target.value)}),T.jsx("label",{class:"form-check-label",for:"flexRadioDefault2",children:"Roundtrip"})]})]})})]}),T.jsx("div",{style:{display:"flex",justifyContent:"space-between"},children:T.jsxs("div",{style:{width:"60%"},children:[T.jsxs("div",{class:"mb-3 row",children:[T.jsx("label",{for:"staticEmail",class:"col-sm-2 col-form-label",children:"Depart from*"}),T.jsx("div",{class:"col-sm-10",children:T.jsx("input",{type:"datetime-local",class:"form-control",id:"departFrom",value:l,onChange:S=>c(S.target.value)})})]}),T.jsxs("div",{class:"mb-3 row",children:[T.jsx("label",{for:"staticEmail",class:"col-sm-2 col-form-label",children:"Return*"}),T.jsx("div",{class:"col-sm-10",children:T.jsx("input",{type:"datetime-local",class:"form-control",id:"inputPassword",value:h,onChange:S=>d(S.target.value)})})]}),T.jsxs("div",{class:"mb-3 row",children:[T.jsx("label",{for:"staticEmail",class:"col-sm-2 col-form-label",children:"Budget limit*"}),T.jsx("div",{class:"col-sm-10",children:T.jsx("input",{type:"number",class:"form-control",id:"inputPassword",value:f,onChange:S=>g(S.target.value)})})]})]})}),T.jsx("h3",{children:"ACCOMODATION"}),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[T.jsxs("div",{style:{width:"60%",display:"flex",justifyContent:"space-between"},children:[T.jsxs("div",{class:"mb-3 row",children:[T.jsx("label",{for:"staticEmail",class:"col-sm-2 col-form-label",style:{width:"40%"},children:"Check-in*"}),T.jsx("div",{class:"col-sm-10",style:{width:"60%"},children:T.jsx("input",{type:"date",class:"form-control",id:"checkIn",value:_,onChange:S=>v(S.target.value)})})]}),T.jsxs("div",{class:"mb-3 row",children:[T.jsx("label",{for:"staticEmail",class:"col-sm-2 col-form-label",style:{width:"40%"},children:"Check-out*"}),T.jsx("div",{class:"col-sm-10",style:{width:"60%"},children:T.jsx("input",{type:"date",class:"form-control",id:"checkOut",value:x,onChange:S=>w(S.target.value)})})]})]}),T.jsx("div",{style:{width:"30%"}})]}),T.jsxs("div",{className:"accomodation",style:{display:"flex",justifyContent:"space-between"},children:[T.jsx("div",{style:{width:"60%",display:"flex",justifyContent:"space-between"},children:T.jsxs("div",{class:"mb-3 row",style:{width:"104%"},children:[T.jsx("label",{for:"staticEmail",class:"col-sm-2 col-form-label",style:{width:"20%"},children:"Hotel*"}),T.jsx("div",{class:"col-sm-10",style:{width:"80%"},children:T.jsx("input",{type:"text",class:"form-control",id:"inputPassword",value:E,onChange:S=>b(S.target.value)})})]})}),T.jsx("div",{className:"hotel",style:{width:"30%",display:"flex",gap:"10px"},children:T.jsx("button",{type:"submit",class:"btn btn-primary",children:"Save"})})]})]})})})}var hk={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=r(s,i(a)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=r(o,a));return o}function r(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(hk);var M5=hk.exports;const Kt=Wm(M5);var dk={exports:{}},V5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",F5=V5,j5=F5;function fk(){}function pk(){}pk.resetWarningCache=fk;var U5=function(){function t(i,r,s,o,a,l){if(l!==j5){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:pk,resetWarningCache:fk};return n.PropTypes=n,n};dk.exports=U5();var $5=dk.exports;const Lo=Wm($5),B5={type:Lo.string,tooltip:Lo.bool,as:Lo.elementType},Af=O.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:i=!1,...r},s)=>T.jsx(t,{...r,ref:s,className:Kt(e,`${n}-${i?"tooltip":"feedback"}`)}));Af.displayName="Feedback";Af.propTypes=B5;const Ni=O.createContext({}),z5=["xxl","xl","lg","md","sm","xs"],H5="xs",av=O.createContext({prefixes:{},breakpoints:z5,minBreakpoint:H5});function vn(t,e){const{prefixes:n}=O.useContext(av);return t||n[e]||e}function W5(){const{breakpoints:t}=O.useContext(av);return t}function K5(){const{minBreakpoint:t}=O.useContext(av);return t}const lv=O.forwardRef(({id:t,bsPrefix:e,className:n,type:i="checkbox",isValid:r=!1,isInvalid:s=!1,as:o="input",...a},l)=>{const{controlId:c}=O.useContext(Ni);return e=vn(e,"form-check-input"),T.jsx(o,{...a,ref:l,type:i,id:t||c,className:Kt(n,e,r&&"is-valid",s&&"is-invalid")})});lv.displayName="FormCheckInput";const Ld=O.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...i},r)=>{const{controlId:s}=O.useContext(Ni);return t=vn(t,"form-check-label"),T.jsx("label",{...i,ref:r,htmlFor:n||s,className:Kt(e,t)})});Ld.displayName="FormCheckLabel";function q5(t,e){return O.Children.toArray(t).some(n=>O.isValidElement(n)&&n.type===e)}const gk=O.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:i=!1,reverse:r=!1,disabled:s=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:c,feedbackType:h,className:d,style:f,title:g="",type:_="checkbox",label:v,children:x,as:w="input",...E},b)=>{e=vn(e,"form-check"),n=vn(n,"form-switch");const{controlId:C}=O.useContext(Ni),N=O.useMemo(()=>({controlId:t||C}),[C,t]),L=!x&&v!=null&&v!==!1||q5(x,Ld),S=T.jsx(lv,{...E,type:_==="switch"?"checkbox":_,ref:b,isValid:o,isInvalid:a,disabled:s,as:w});return T.jsx(Ni.Provider,{value:N,children:T.jsx("div",{style:f,className:Kt(d,L&&e,i&&`${e}-inline`,r&&`${e}-reverse`,_==="switch"&&n),children:x||T.jsxs(T.Fragment,{children:[S,L&&T.jsx(Ld,{title:g,children:v}),c&&T.jsx(Af,{type:h,tooltip:l,children:c})]})})})});gk.displayName="FormCheck";const Md=Object.assign(gk,{Input:lv,Label:Ld}),mk=O.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:i,id:r,className:s,isValid:o=!1,isInvalid:a=!1,plaintext:l,readOnly:c,as:h="input",...d},f)=>{const{controlId:g}=O.useContext(Ni);return t=vn(t,"form-control"),T.jsx(h,{...d,type:e,size:i,ref:f,readOnly:c,id:r||g,className:Kt(s,l?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,o&&"is-valid",a&&"is-invalid")})});mk.displayName="FormControl";const G5=Object.assign(mk,{Feedback:Af}),_k=O.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=vn(e,"form-floating"),T.jsx(n,{ref:r,className:Kt(t,e),...i})));_k.displayName="FormFloating";const cv=O.forwardRef(({controlId:t,as:e="div",...n},i)=>{const r=O.useMemo(()=>({controlId:t}),[t]);return T.jsx(Ni.Provider,{value:r,children:T.jsx(e,{...n,ref:i})})});cv.displayName="FormGroup";function Y5({as:t,bsPrefix:e,className:n,...i}){e=vn(e,"col");const r=W5(),s=K5(),o=[],a=[];return r.forEach(l=>{const c=i[l];delete i[l];let h,d,f;typeof c=="object"&&c!=null?{span:h,offset:d,order:f}=c:h=c;const g=l!==s?`-${l}`:"";h&&o.push(h===!0?`${e}${g}`:`${e}${g}-${h}`),f!=null&&a.push(`order${g}-${f}`),d!=null&&a.push(`offset${g}-${d}`)}),[{...i,className:Kt(n,...o,...a)},{as:t,bsPrefix:e,spans:o}]}const yk=O.forwardRef((t,e)=>{const[{className:n,...i},{as:r="div",bsPrefix:s,spans:o}]=Y5(t);return T.jsx(r,{...i,ref:e,className:Kt(n,!o.length&&s)})});yk.displayName="Col";const vk=O.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:i=!1,className:r,htmlFor:s,...o},a)=>{const{controlId:l}=O.useContext(Ni);e=vn(e,"form-label");let c="col-form-label";typeof n=="string"&&(c=`${c} ${c}-${n}`);const h=Kt(r,e,i&&"visually-hidden",n&&c);return s=s||l,n?T.jsx(yk,{ref:a,as:"label",className:h,htmlFor:s,...o}):T.jsx(t,{ref:a,className:h,htmlFor:s,...o})});vk.displayName="FormLabel";const Ek=O.forwardRef(({bsPrefix:t,className:e,id:n,...i},r)=>{const{controlId:s}=O.useContext(Ni);return t=vn(t,"form-range"),T.jsx("input",{...i,type:"range",ref:r,className:Kt(e,t),id:n||s})});Ek.displayName="FormRange";const wk=O.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:i,isValid:r=!1,isInvalid:s=!1,id:o,...a},l)=>{const{controlId:c}=O.useContext(Ni);return t=vn(t,"form-select"),T.jsx("select",{...a,size:n,ref:l,className:Kt(i,t,e&&`${t}-${e}`,r&&"is-valid",s&&"is-invalid"),id:o||c})});wk.displayName="FormSelect";const Tk=O.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:i,...r},s)=>(t=vn(t,"form-text"),T.jsx(n,{...r,ref:s,className:Kt(e,t,i&&"text-muted")})));Tk.displayName="FormText";const bk=O.forwardRef((t,e)=>T.jsx(Md,{...t,ref:e,type:"switch"}));bk.displayName="Switch";const Q5=Object.assign(bk,{Input:Md.Input,Label:Md.Label}),xk=O.forwardRef(({bsPrefix:t,className:e,children:n,controlId:i,label:r,...s},o)=>(t=vn(t,"form-floating"),T.jsxs(cv,{ref:o,className:Kt(e,t),controlId:i,...s,children:[n,T.jsx("label",{htmlFor:i,children:r})]})));xk.displayName="FloatingLabel";const X5={_ref:Lo.any,validated:Lo.bool,as:Lo.elementType},uv=O.forwardRef(({className:t,validated:e,as:n="form",...i},r)=>T.jsx(n,{...i,ref:r,className:Kt(t,e&&"was-validated")}));uv.displayName="Form";uv.propTypes=X5;const qe=Object.assign(uv,{Group:cv,Control:G5,Floating:_k,Check:Md,Switch:Q5,Label:vk,Text:Tk,Range:Ek,Select:wk,FloatingLabel:xk});function J5(){const[t,e]=O.useState(""),[n,i]=O.useState(""),[r,s]=O.useState(""),[o,a]=O.useState(""),l=an(),c=v=>{e(v.target.value)},h=v=>{i(v.target.value)},d=v=>{s(v.target.value)},f=v=>{a(v.target.value)},g=async v=>{if(v.preventDefault(),r!==o){alert("Passwords do not match");return}try{const w=(await Jj(ov,n,r)).user.uid;console.log(`User created with UID: ${w}`),await Mm(Ul(as,"users",w),{name:t,email:n}),alert("Sign up successful!"),l("/login")}catch(x){x.code==="auth/email-already-in-use"?alert("An account with this email already exists."):(console.error(x.message),alert("An error occurred during sign up. Please try again."))}},_=()=>{l("/login")};return T.jsxs("div",{className:"container",children:[T.jsx("h3",{children:"Sign Up"}),T.jsxs(qe,{children:[T.jsxs(qe.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[T.jsx(qe.Label,{children:"Name"}),T.jsx(qe.Control,{type:"text",onChange:c,value:t})]}),T.jsxs(qe.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[T.jsx(qe.Label,{children:"Email address"}),T.jsx(qe.Control,{type:"email",onChange:h,value:n})]}),T.jsxs(qe.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[T.jsx(qe.Label,{children:"Password"}),T.jsx(qe.Control,{type:"password",onChange:d,value:r})]}),T.jsxs(qe.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[T.jsx(qe.Label,{children:"Confirm Password"}),T.jsx(qe.Control,{type:"password",onChange:f,value:o})]})]}),T.jsx("button",{onClick:g,className:"btn btn-primary",style:{marginRight:"10px"},children:"Sign Up"}),T.jsx("button",{onClick:_,className:"btn btn-secondary",children:"Log in"})]})}function Z5(){const[t,e]=O.useState(""),[n,i]=O.useState("");console.log(t),console.log(n),localStorage.getItem("user");const r=_y(),s=an();O.useEffect(()=>{const h=tC(r,d=>{d&&s("/")});return()=>h()},[r,s]);const o=h=>{e(h.target.value)},a=h=>{i(h.target.value)},l=async h=>{console.log("Login"),h.preventDefault();try{const f=(await Zj(r,t,n)).user;console.log(f),localStorage.setItem("user",JSON.stringify({uid:f.uid,email:f.email}))}catch(d){console.log(d.message)}},c=()=>{console.log("Sign Up"),s("/signup")};return T.jsxs("div",{className:"container",children:[T.jsx("h3",{children:"Login"}),T.jsxs(qe,{children:[T.jsxs(qe.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[T.jsx(qe.Label,{children:"Email address"}),T.jsx(qe.Control,{type:"email",onChange:o,value:t})]}),T.jsxs(qe.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[T.jsx(qe.Label,{children:"Password"}),T.jsx(qe.Control,{type:"password",onChange:a,value:n})]})]}),T.jsx("button",{onClick:l,class:"btn btn-primary",style:{marginRight:"10px"},children:"Login"}),T.jsx("button",{class:"btn btn-secondary",onClick:c,children:"Sign up"})]})}function e3(){an();const{user:t}=O.useContext(Vi),[e,n]=O.useState([]),[i,r]=O.useState(new Set),[s,o]=O.useState("user"),[a,l]=O.useState(null),[c,h]=O.useState(!1),[d,f]=O.useState(!1),g=()=>{f(!d),r(d?new Set:new Set(e.map(b=>b.id)))},_=b=>{const C=new Set(i);C.has(b)?C.delete(b):C.add(b),r(C),f(C.size===e.length)},v=async()=>{const b=Array.from(i);if(b.length===0){alert("No items selected for deletion.");return}await Promise.all(b.map(C=>fetch(`https://backend-2txi.vercel.app/${e[0].type}/${C}`,{method:"DELETE"}))),n(C=>C.filter(N=>!b.includes(N.id))),r(new Set)},x=b=>{l(b),h(!0)},w=async(b,C,N)=>{if(console.log(`Updating ${N} ID:`,b,"with new status:",C),!e.some(y=>y.id===b)){console.error(`No ${N} found with ID: ${b}`);return}n(y=>y.map(I=>I.id===b?{...I,status:C}:I));const S=`https://backend-2txi.vercel.app/${N}/status/${b}`;try{const y=await fetch(S,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:C})});if(!y.ok){const I=await y.text();throw console.error(`Error updating ${N}: ${y.status} - ${I}`),new Error(`Failed to update ${N} status: ${I}`)}}catch(y){console.error("Error updating status:",y),n(I=>I.map(k=>k.id===b?{...k,status:I.find(R=>R.id===b).status}:k))}};O.useEffect(()=>{(async()=>{try{const[C,N]=await Promise.all([fetch("https://backend-2txi.vercel.app/expenses"),fetch("https://backend-2txi.vercel.app/trips")]);if(!C.ok||!N.ok)throw new Error("Failed to fetch data");const L=await C.json(),I=[...(await N.json()).map(k=>({...k,type:"trips"})),...L.map(k=>({...k,type:"expenses"}))].sort((k,R)=>new Date(k.create_at)-new Date(R.create_at));n(I)}catch(C){console.error("Error fetching data:",C)}})()},[]),O.useEffect(()=>{t&&t.email==="admin@gmail.com"?o("admin"):o("user")},[t]);const E=b=>new Date(b).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0});return T.jsx("div",{className:"container",style:{display:"flex"},children:T.jsxs("div",{style:{width:"100%"},children:[i.size>0&&T.jsx("button",{onClick:v,type:"button",className:"btn btn-danger",children:"Delete Selected"}),T.jsxs("table",{className:"table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[s==="admin"&&T.jsx("th",{scope:"col",children:T.jsx("input",{type:"checkbox",checked:d,onChange:g})}),T.jsx("th",{scope:"col",children:"Name"}),T.jsx("th",{scope:"col",children:"Category"}),T.jsx("th",{scope:"col",children:"Amount"}),T.jsx("th",{scope:"col",children:"Frequency"}),T.jsx("th",{children:"View"}),T.jsx("th",{scope:"col",children:"Action"})]})}),T.jsx("tbody",{children:e.map(b=>T.jsxs("tr",{children:[s==="admin"&&T.jsx("th",{scope:"row",children:T.jsx("input",{type:"checkbox",checked:i.has(b.id),onChange:()=>_(b.id)})}),T.jsx("td",{children:b.subject||b.name}),T.jsx("td",{children:b.category}),T.jsx("td",{children:b.amount}),T.jsx("td",{children:E(b.create_at)}),T.jsx("td",{children:T.jsx("div",{children:T.jsx("i",{className:"bi bi-receipt",onClick:()=>x(b.invoiceurl)})})}),s==="admin"?T.jsx("td",{children:T.jsxs("select",{className:"form-select",value:b.status,onChange:C=>w(b.id,C.target.value,b.type),children:[T.jsx("option",{value:"approved",children:"Approved"}),T.jsx("option",{value:"rejected",children:"Rejected"}),T.jsx("option",{value:"pending",children:"Pending"})]})}):T.jsx("td",{children:b.status})]},b.id))})]}),c&&T.jsx("div",{className:"modal fade show",style:{display:"block"},onClick:()=>h(!1),children:T.jsx("div",{className:"modal-dialog",children:T.jsxs("div",{className:"modal-content",onClick:b=>b.stopPropagation(),children:[T.jsxs("div",{className:"modal-header",children:[T.jsx("h5",{className:"modal-title",children:"Invoice"}),T.jsx("button",{type:"button",className:"btn-close",onClick:()=>h(!1)})]}),T.jsx("div",{className:"modal-body",children:T.jsx("img",{src:a,alt:"Invoice",style:{width:"100%"}})}),T.jsx("div",{className:"modal-footer",children:T.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>h(!1),children:"Close"})})]})})})]})})}function t3(){const{user:t}=O.useContext(Vi);an();const[e,n]=O.useState(null),[i,r]=O.useState(""),[s,o]=O.useState(null),[a,l]=O.useState(!1),[c,h]=O.useState(!0),[d,f]=O.useState(!0),[g,_]=O.useState(""),[v,x]=O.useState(""),[w,E]=O.useState("");O.useEffect(()=>{(async()=>{if(t)try{const L=t.uid,S=Ul(as,"users",L),y=await $1(S);if(y.exists()){const I=y.data();n(I),_(I.email||""),x(I.name||""),E(I.phone||"")}else console.log("No such document!")}catch(L){console.error(L)}finally{h(!1)}else console.log("No user is signed in"),h(!1)})()},[t]);const b=async N=>{const L=N.target.files[0];if(L){o(L),l(!0);try{if(L&&t){const S=ck(uk,`post/${L.name}`),y=await ak(S,L),I=await lk(y.ref),k=Lm(as,`users/${t.uid}/posts`),R=Ul(k);await Mm(R,{fileUrl:I,timestamp:Qe.now()}),r(I)}else console.log("No user is signed in")}catch(S){console.error("Error uploading file:",S)}finally{l(!1)}}};O.useEffect(()=>{(async()=>{if(t){f(!0);try{const L=Lm(as,`users/${t.uid}/posts`),S=M1(L,V1("timestamp","desc"),F1(1)),y=await z1(S);if(!y.empty){const k=y.docs[0].data();r(k.fileUrl||"")}}catch(L){console.error("Error fetching document:",L)}finally{f(!1)}}})()},[t]);const C=async()=>{if(t)try{const N=Ul(as,"users",t.uid);await Mm(N,{email:g,name:v,phone:w},{merge:!0}),alert("Profile updated successfully!")}catch(N){console.error("Error updating profile:",N)}else console.log("No user is signed in")};return T.jsx("div",{className:"d-flex align-items-start",style:{width:"100%"},children:T.jsxs("div",{className:"nav flex-column nav-pills me-3",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",style:{width:"100%"},children:[T.jsxs("div",{className:"profilePic",style:{display:"flex",gap:"10px",alignItems:"center"},children:[d?T.jsx("div",{children:T.jsx("span",{className:"visually-hidden",children:"Loading..."})}):T.jsx("img",{src:i||"https://www.kindpng.com/picc/m/451-4517876_default-profile-hd-png-download.png",alt:"Profile",style:{width:"100px",height:"100px",borderRadius:"50%",cursor:"pointer"},onClick:()=>i&&window.open(i,"_blank")}),T.jsx("input",{type:"file",accept:"image/*",onChange:b,id:"fileInput",style:{display:"none"}}),T.jsx("label",{htmlFor:"fileInput",className:"btn btn-secondary",style:{cursor:"pointer",marginTop:"10px"},children:"Upload Profile Picture"})]}),e&&T.jsx("div",{style:{marginTop:"20px"},children:T.jsxs("form",{children:[T.jsx("div",{style:{display:"flex",justifyContent:"space-between"},children:T.jsxs("div",{className:"mb-3",style:{width:"48%"},children:[T.jsx("label",{children:"Name"}),T.jsx("input",{type:"text",className:"form-control",value:v,onChange:N=>x(N.target.value)})]})}),T.jsxs("div",{className:"mb-3",style:{width:"48%"},children:[T.jsx("label",{children:"Phone Number"}),T.jsx("input",{type:"tel",className:"form-control",value:w,onChange:N=>E(N.target.value)})]})]})}),T.jsx("button",{type:"button",className:"btn btn-primary",onClick:C,style:{width:"25%"},children:"Update Profile"})]})})}var Nt="top",tn="bottom",nn="right",Ot="left",Cf="auto",Ea=[Nt,tn,nn,Ot],Ns="start",Zo="end",Sk="clippingParents",hv="viewport",ro="popper",Ik="reference",Fm=Ea.reduce(function(t,e){return t.concat([e+"-"+Ns,e+"-"+Zo])},[]),dv=[].concat(Ea,[Cf]).reduce(function(t,e){return t.concat([e,e+"-"+Ns,e+"-"+Zo])},[]),Ak="beforeRead",Ck="read",kk="afterRead",Pk="beforeMain",Rk="main",Nk="afterMain",Ok="beforeWrite",Dk="write",Lk="afterWrite",Mk=[Ak,Ck,kk,Pk,Rk,Nk,Ok,Dk,Lk];function ni(t){return t?(t.nodeName||"").toLowerCase():null}function rn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Os(t){var e=rn(t).Element;return t instanceof e||t instanceof Element}function mn(t){var e=rn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function fv(t){if(typeof ShadowRoot>"u")return!1;var e=rn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function n3(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},s=e.elements[n];!mn(s)||!ni(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function i3(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!mn(r)||!ni(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}const pv={name:"applyStyles",enabled:!0,phase:"write",fn:n3,effect:i3,requires:["computeStyles"]};function Zn(t){return t.split("-")[0]}var ms=Math.max,Vd=Math.min,ea=Math.round;function jm(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Vk(){return!/^((?!chrome|android).)*safari/i.test(jm())}function ta(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,s=1;e&&mn(t)&&(r=t.offsetWidth>0&&ea(i.width)/t.offsetWidth||1,s=t.offsetHeight>0&&ea(i.height)/t.offsetHeight||1);var o=Os(t)?rn(t):window,a=o.visualViewport,l=!Vk()&&n,c=(i.left+(l&&a?a.offsetLeft:0))/r,h=(i.top+(l&&a?a.offsetTop:0))/s,d=i.width/r,f=i.height/s;return{width:d,height:f,top:h,right:c+d,bottom:h+f,left:c,x:c,y:h}}function gv(t){var e=ta(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function Fk(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&fv(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Oi(t){return rn(t).getComputedStyle(t)}function r3(t){return["table","td","th"].indexOf(ni(t))>=0}function jr(t){return((Os(t)?t.ownerDocument:t.document)||window.document).documentElement}function kf(t){return ni(t)==="html"?t:t.assignedSlot||t.parentNode||(fv(t)?t.host:null)||jr(t)}function wb(t){return!mn(t)||Oi(t).position==="fixed"?null:t.offsetParent}function s3(t){var e=/firefox/i.test(jm()),n=/Trident/i.test(jm());if(n&&mn(t)){var i=Oi(t);if(i.position==="fixed")return null}var r=kf(t);for(fv(r)&&(r=r.host);mn(r)&&["html","body"].indexOf(ni(r))<0;){var s=Oi(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function Kc(t){for(var e=rn(t),n=wb(t);n&&r3(n)&&Oi(n).position==="static";)n=wb(n);return n&&(ni(n)==="html"||ni(n)==="body"&&Oi(n).position==="static")?e:n||s3(t)||e}function mv(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Bl(t,e,n){return ms(t,Vd(e,n))}function o3(t,e,n){var i=Bl(t,e,n);return i>n?n:i}function jk(){return{top:0,right:0,bottom:0,left:0}}function Uk(t){return Object.assign({},jk(),t)}function $k(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var a3=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Uk(typeof e!="number"?e:$k(e,Ea))};function l3(t){var e,n=t.state,i=t.name,r=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Zn(n.placement),l=mv(a),c=[Ot,nn].indexOf(a)>=0,h=c?"height":"width";if(!(!s||!o)){var d=a3(r.padding,n),f=gv(s),g=l==="y"?Nt:Ot,_=l==="y"?tn:nn,v=n.rects.reference[h]+n.rects.reference[l]-o[l]-n.rects.popper[h],x=o[l]-n.rects.reference[l],w=Kc(s),E=w?l==="y"?w.clientHeight||0:w.clientWidth||0:0,b=v/2-x/2,C=d[g],N=E-f[h]-d[_],L=E/2-f[h]/2+b,S=Bl(C,L,N),y=l;n.modifiersData[i]=(e={},e[y]=S,e.centerOffset=S-L,e)}}function c3(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||Fk(e.elements.popper,r)&&(e.elements.arrow=r))}const Bk={name:"arrow",enabled:!0,phase:"main",fn:l3,effect:c3,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function na(t){return t.split("-")[1]}var u3={top:"auto",right:"auto",bottom:"auto",left:"auto"};function h3(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:ea(n*r)/r||0,y:ea(i*r)/r||0}}function Tb(t){var e,n=t.popper,i=t.popperRect,r=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,h=t.roundOffsets,d=t.isFixed,f=o.x,g=f===void 0?0:f,_=o.y,v=_===void 0?0:_,x=typeof h=="function"?h({x:g,y:v}):{x:g,y:v};g=x.x,v=x.y;var w=o.hasOwnProperty("x"),E=o.hasOwnProperty("y"),b=Ot,C=Nt,N=window;if(c){var L=Kc(n),S="clientHeight",y="clientWidth";if(L===rn(n)&&(L=jr(n),Oi(L).position!=="static"&&a==="absolute"&&(S="scrollHeight",y="scrollWidth")),L=L,r===Nt||(r===Ot||r===nn)&&s===Zo){C=tn;var I=d&&L===N&&N.visualViewport?N.visualViewport.height:L[S];v-=I-i.height,v*=l?1:-1}if(r===Ot||(r===Nt||r===tn)&&s===Zo){b=nn;var k=d&&L===N&&N.visualViewport?N.visualViewport.width:L[y];g-=k-i.width,g*=l?1:-1}}var R=Object.assign({position:a},c&&u3),D=h===!0?h3({x:g,y:v},rn(n)):{x:g,y:v};if(g=D.x,v=D.y,l){var P;return Object.assign({},R,(P={},P[C]=E?"0":"",P[b]=w?"0":"",P.transform=(N.devicePixelRatio||1)<=1?"translate("+g+"px, "+v+"px)":"translate3d("+g+"px, "+v+"px, 0)",P))}return Object.assign({},R,(e={},e[C]=E?v+"px":"",e[b]=w?g+"px":"",e.transform="",e))}function d3(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Zn(e.placement),variation:na(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Tb(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Tb(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const _v={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:d3,data:{}};var Ju={passive:!0};function f3(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,a=o===void 0?!0:o,l=rn(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(h){h.addEventListener("scroll",n.update,Ju)}),a&&l.addEventListener("resize",n.update,Ju),function(){s&&c.forEach(function(h){h.removeEventListener("scroll",n.update,Ju)}),a&&l.removeEventListener("resize",n.update,Ju)}}const yv={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:f3,data:{}};var p3={left:"right",right:"left",bottom:"top",top:"bottom"};function Rh(t){return t.replace(/left|right|bottom|top/g,function(e){return p3[e]})}var g3={start:"end",end:"start"};function bb(t){return t.replace(/start|end/g,function(e){return g3[e]})}function vv(t){var e=rn(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Ev(t){return ta(jr(t)).left+vv(t).scrollLeft}function m3(t,e){var n=rn(t),i=jr(t),r=n.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;var c=Vk();(c||!c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a+Ev(t),y:l}}function _3(t){var e,n=jr(t),i=vv(t),r=(e=t.ownerDocument)==null?void 0:e.body,s=ms(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=ms(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+Ev(t),l=-i.scrollTop;return Oi(r||n).direction==="rtl"&&(a+=ms(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function wv(t){var e=Oi(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function zk(t){return["html","body","#document"].indexOf(ni(t))>=0?t.ownerDocument.body:mn(t)&&wv(t)?t:zk(kf(t))}function zl(t,e){var n;e===void 0&&(e=[]);var i=zk(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),s=rn(i),o=r?[s].concat(s.visualViewport||[],wv(i)?i:[]):i,a=e.concat(o);return r?a:a.concat(zl(kf(o)))}function Um(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function y3(t,e){var n=ta(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function xb(t,e,n){return e===hv?Um(m3(t,n)):Os(e)?y3(e,n):Um(_3(jr(t)))}function v3(t){var e=zl(kf(t)),n=["absolute","fixed"].indexOf(Oi(t).position)>=0,i=n&&mn(t)?Kc(t):t;return Os(i)?e.filter(function(r){return Os(r)&&Fk(r,i)&&ni(r)!=="body"}):[]}function E3(t,e,n,i){var r=e==="clippingParents"?v3(t):[].concat(e),s=[].concat(r,[n]),o=s[0],a=s.reduce(function(l,c){var h=xb(t,c,i);return l.top=ms(h.top,l.top),l.right=Vd(h.right,l.right),l.bottom=Vd(h.bottom,l.bottom),l.left=ms(h.left,l.left),l},xb(t,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Hk(t){var e=t.reference,n=t.element,i=t.placement,r=i?Zn(i):null,s=i?na(i):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(r){case Nt:l={x:o,y:e.y-n.height};break;case tn:l={x:o,y:e.y+e.height};break;case nn:l={x:e.x+e.width,y:a};break;case Ot:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=r?mv(r):null;if(c!=null){var h=c==="y"?"height":"width";switch(s){case Ns:l[c]=l[c]-(e[h]/2-n[h]/2);break;case Zo:l[c]=l[c]+(e[h]/2-n[h]/2);break}}return l}function ia(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?Sk:a,c=n.rootBoundary,h=c===void 0?hv:c,d=n.elementContext,f=d===void 0?ro:d,g=n.altBoundary,_=g===void 0?!1:g,v=n.padding,x=v===void 0?0:v,w=Uk(typeof x!="number"?x:$k(x,Ea)),E=f===ro?Ik:ro,b=t.rects.popper,C=t.elements[_?E:f],N=E3(Os(C)?C:C.contextElement||jr(t.elements.popper),l,h,o),L=ta(t.elements.reference),S=Hk({reference:L,element:b,strategy:"absolute",placement:r}),y=Um(Object.assign({},b,S)),I=f===ro?y:L,k={top:N.top-I.top+w.top,bottom:I.bottom-N.bottom+w.bottom,left:N.left-I.left+w.left,right:I.right-N.right+w.right},R=t.modifiersData.offset;if(f===ro&&R){var D=R[r];Object.keys(k).forEach(function(P){var le=[nn,tn].indexOf(P)>=0?1:-1,ne=[Nt,tn].indexOf(P)>=0?"y":"x";k[P]+=D[ne]*le})}return k}function w3(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?dv:l,h=na(i),d=h?a?Fm:Fm.filter(function(_){return na(_)===h}):Ea,f=d.filter(function(_){return c.indexOf(_)>=0});f.length===0&&(f=d);var g=f.reduce(function(_,v){return _[v]=ia(t,{placement:v,boundary:r,rootBoundary:s,padding:o})[Zn(v)],_},{});return Object.keys(g).sort(function(_,v){return g[_]-g[v]})}function T3(t){if(Zn(t)===Cf)return[];var e=Rh(t);return[bb(t),e,bb(e)]}function b3(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,h=n.boundary,d=n.rootBoundary,f=n.altBoundary,g=n.flipVariations,_=g===void 0?!0:g,v=n.allowedAutoPlacements,x=e.options.placement,w=Zn(x),E=w===x,b=l||(E||!_?[Rh(x)]:T3(x)),C=[x].concat(b).reduce(function(ke,Pe){return ke.concat(Zn(Pe)===Cf?w3(e,{placement:Pe,boundary:h,rootBoundary:d,padding:c,flipVariations:_,allowedAutoPlacements:v}):Pe)},[]),N=e.rects.reference,L=e.rects.popper,S=new Map,y=!0,I=C[0],k=0;k<C.length;k++){var R=C[k],D=Zn(R),P=na(R)===Ns,le=[Nt,tn].indexOf(D)>=0,ne=le?"width":"height",ie=ia(e,{placement:R,boundary:h,rootBoundary:d,altBoundary:f,padding:c}),oe=le?P?nn:Ot:P?tn:Nt;N[ne]>L[ne]&&(oe=Rh(oe));var B=Rh(oe),q=[];if(s&&q.push(ie[D]<=0),a&&q.push(ie[oe]<=0,ie[B]<=0),q.every(function(ke){return ke})){I=R,y=!1;break}S.set(R,q)}if(y)for(var Y=_?3:1,de=function(Pe){var Ne=C.find(function(Mt){var ri=S.get(Mt);if(ri)return ri.slice(0,Pe).every(function(xa){return xa})});if(Ne)return I=Ne,"break"},te=Y;te>0;te--){var fe=de(te);if(fe==="break")break}e.placement!==I&&(e.modifiersData[i]._skip=!0,e.placement=I,e.reset=!0)}}const Wk={name:"flip",enabled:!0,phase:"main",fn:b3,requiresIfExists:["offset"],data:{_skip:!1}};function Sb(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Ib(t){return[Nt,nn,tn,Ot].some(function(e){return t[e]>=0})}function x3(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,o=ia(e,{elementContext:"reference"}),a=ia(e,{altBoundary:!0}),l=Sb(o,i),c=Sb(a,r,s),h=Ib(l),d=Ib(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":d})}const Kk={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:x3};function S3(t,e,n){var i=Zn(t),r=[Ot,Nt].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[Ot,nn].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function I3(t){var e=t.state,n=t.options,i=t.name,r=n.offset,s=r===void 0?[0,0]:r,o=dv.reduce(function(h,d){return h[d]=S3(d,e.rects,s),h},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}const qk={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:I3};function A3(t){var e=t.state,n=t.name;e.modifiersData[n]=Hk({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Tv={name:"popperOffsets",enabled:!0,phase:"read",fn:A3,data:{}};function C3(t){return t==="x"?"y":"x"}function k3(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,h=n.altBoundary,d=n.padding,f=n.tether,g=f===void 0?!0:f,_=n.tetherOffset,v=_===void 0?0:_,x=ia(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:h}),w=Zn(e.placement),E=na(e.placement),b=!E,C=mv(w),N=C3(C),L=e.modifiersData.popperOffsets,S=e.rects.reference,y=e.rects.popper,I=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,k=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),R=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,D={x:0,y:0};if(L){if(s){var P,le=C==="y"?Nt:Ot,ne=C==="y"?tn:nn,ie=C==="y"?"height":"width",oe=L[C],B=oe+x[le],q=oe-x[ne],Y=g?-y[ie]/2:0,de=E===Ns?S[ie]:y[ie],te=E===Ns?-y[ie]:-S[ie],fe=e.elements.arrow,ke=g&&fe?gv(fe):{width:0,height:0},Pe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:jk(),Ne=Pe[le],Mt=Pe[ne],ri=Bl(0,S[ie],ke[ie]),xa=b?S[ie]/2-Y-ri-Ne-k.mainAxis:de-ri-Ne-k.mainAxis,Hs=b?-S[ie]/2+Y+ri+Mt+k.mainAxis:te+ri+Mt+k.mainAxis,ji=e.elements.arrow&&Kc(e.elements.arrow),Sa=ji?C==="y"?ji.clientTop||0:ji.clientLeft||0:0,Ws=(P=R==null?void 0:R[C])!=null?P:0,Ia=oe+xa-Ws-Sa,Aa=oe+Hs-Ws,Ca=Bl(g?Vd(B,Ia):B,oe,g?ms(q,Aa):q);L[C]=Ca,D[C]=Ca-oe}if(a){var Xc,Mf=C==="x"?Nt:Ot,Jc=C==="x"?tn:nn,bn=L[N],Br=N==="y"?"height":"width",Zc=bn+x[Mf],Ks=bn-x[Jc],zr=[Nt,Ot].indexOf(w)!==-1,ka=(Xc=R==null?void 0:R[N])!=null?Xc:0,Xe=zr?Zc:bn-S[Br]-y[Br]-ka+k.altAxis,tt=zr?bn+S[Br]+y[Br]-ka-k.altAxis:Ks,Hr=g&&zr?o3(Xe,bn,tt):Bl(g?Xe:Zc,bn,g?tt:Ks);L[N]=Hr,D[N]=Hr-bn}e.modifiersData[i]=D}}const Gk={name:"preventOverflow",enabled:!0,phase:"main",fn:k3,requiresIfExists:["offset"]};function P3(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function R3(t){return t===rn(t)||!mn(t)?vv(t):P3(t)}function N3(t){var e=t.getBoundingClientRect(),n=ea(e.width)/t.offsetWidth||1,i=ea(e.height)/t.offsetHeight||1;return n!==1||i!==1}function O3(t,e,n){n===void 0&&(n=!1);var i=mn(e),r=mn(e)&&N3(e),s=jr(e),o=ta(t,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((ni(e)!=="body"||wv(s))&&(a=R3(e)),mn(e)?(l=ta(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=Ev(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function D3(t){var e=new Map,n=new Set,i=[];t.forEach(function(s){e.set(s.name,s)});function r(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&r(l)}}),i.push(s)}return t.forEach(function(s){n.has(s.name)||r(s)}),i}function L3(t){var e=D3(t);return Mk.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function M3(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function V3(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var Ab={placement:"bottom",modifiers:[],strategy:"absolute"};function Cb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Pf(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,s=r===void 0?Ab:r;return function(a,l,c){c===void 0&&(c=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ab,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,g={state:h,setOptions:function(w){var E=typeof w=="function"?w(h.options):w;v(),h.options=Object.assign({},s,h.options,E),h.scrollParents={reference:Os(a)?zl(a):a.contextElement?zl(a.contextElement):[],popper:zl(l)};var b=L3(V3([].concat(i,h.options.modifiers)));return h.orderedModifiers=b.filter(function(C){return C.enabled}),_(),g.update()},forceUpdate:function(){if(!f){var w=h.elements,E=w.reference,b=w.popper;if(Cb(E,b)){h.rects={reference:O3(E,Kc(b),h.options.strategy==="fixed"),popper:gv(b)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(k){return h.modifiersData[k.name]=Object.assign({},k.data)});for(var C=0;C<h.orderedModifiers.length;C++){if(h.reset===!0){h.reset=!1,C=-1;continue}var N=h.orderedModifiers[C],L=N.fn,S=N.options,y=S===void 0?{}:S,I=N.name;typeof L=="function"&&(h=L({state:h,options:y,name:I,instance:g})||h)}}}},update:M3(function(){return new Promise(function(x){g.forceUpdate(),x(h)})}),destroy:function(){v(),f=!0}};if(!Cb(a,l))return g;g.setOptions(c).then(function(x){!f&&c.onFirstUpdate&&c.onFirstUpdate(x)});function _(){h.orderedModifiers.forEach(function(x){var w=x.name,E=x.options,b=E===void 0?{}:E,C=x.effect;if(typeof C=="function"){var N=C({state:h,name:w,instance:g,options:b}),L=function(){};d.push(N||L)}})}function v(){d.forEach(function(x){return x()}),d=[]}return g}}var F3=Pf(),j3=[yv,Tv,_v,pv],U3=Pf({defaultModifiers:j3}),$3=[yv,Tv,_v,pv,qk,Wk,Gk,Bk,Kk],bv=Pf({defaultModifiers:$3});const Yk=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Nk,afterRead:kk,afterWrite:Lk,applyStyles:pv,arrow:Bk,auto:Cf,basePlacements:Ea,beforeMain:Pk,beforeRead:Ak,beforeWrite:Ok,bottom:tn,clippingParents:Sk,computeStyles:_v,createPopper:bv,createPopperBase:F3,createPopperLite:U3,detectOverflow:ia,end:Zo,eventListeners:yv,flip:Wk,hide:Kk,left:Ot,main:Rk,modifierPhases:Mk,offset:qk,placements:dv,popper:ro,popperGenerator:Pf,popperOffsets:Tv,preventOverflow:Gk,read:Ck,reference:Ik,right:nn,start:Ns,top:Nt,variationPlacements:Fm,viewport:hv,write:Dk},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Wi=new Map,Qp={set(t,e,n){Wi.has(t)||Wi.set(t,new Map);const i=Wi.get(t);if(!i.has(e)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(e,n)},get(t,e){return Wi.has(t)&&Wi.get(t).get(e)||null},remove(t,e){if(!Wi.has(t))return;const n=Wi.get(t);n.delete(e),n.size===0&&Wi.delete(t)}},B3=1e6,z3=1e3,$m="transitionend",Qk=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),H3=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),W3=t=>{do t+=Math.floor(Math.random()*B3);while(document.getElementById(t));return t},K3=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const i=Number.parseFloat(e),r=Number.parseFloat(n);return!i&&!r?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*z3)},Xk=t=>{t.dispatchEvent(new Event($m))},Ti=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Rr=t=>Ti(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(Qk(t)):null,wa=t=>{if(!Ti(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const i=t.closest("summary");if(i&&i.parentNode!==n||i===null)return!1}return e},Nr=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",Jk=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?Jk(t.parentNode):null},Fd=()=>{},qc=t=>{t.offsetHeight},Zk=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Xp=[],q3=t=>{document.readyState==="loading"?(Xp.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Xp)e()}),Xp.push(t)):t()},En=()=>document.documentElement.dir==="rtl",Tn=t=>{q3(()=>{const e=Zk();if(e){const n=t.NAME,i=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=i,t.jQueryInterface)}})},Ut=(t,e=[],n=t)=>typeof t=="function"?t(...e):n,eP=(t,e,n=!0)=>{if(!n){Ut(t);return}const r=K3(e)+5;let s=!1;const o=({target:a})=>{a===e&&(s=!0,e.removeEventListener($m,o),Ut(t))};e.addEventListener($m,o),setTimeout(()=>{s||Xk(e)},r)},xv=(t,e,n,i)=>{const r=t.length;let s=t.indexOf(e);return s===-1?!n&&i?t[r-1]:t[0]:(s+=n?1:-1,i&&(s=(s+r)%r),t[Math.max(0,Math.min(s,r-1))])},G3=/[^.]*(?=\..*)\.|.*/,Y3=/\..*/,Q3=/::\d+$/,Jp={};let kb=1;const tP={mouseenter:"mouseover",mouseleave:"mouseout"},X3=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function nP(t,e){return e&&`${e}::${kb++}`||t.uidEvent||kb++}function iP(t){const e=nP(t);return t.uidEvent=e,Jp[e]=Jp[e]||{},Jp[e]}function J3(t,e){return function n(i){return Sv(i,{delegateTarget:t}),n.oneOff&&j.off(t,i.type,e),e.apply(t,[i])}}function Z3(t,e,n){return function i(r){const s=t.querySelectorAll(e);for(let{target:o}=r;o&&o!==this;o=o.parentNode)for(const a of s)if(a===o)return Sv(r,{delegateTarget:o}),i.oneOff&&j.off(t,r.type,e,n),n.apply(o,[r])}}function rP(t,e,n=null){return Object.values(t).find(i=>i.callable===e&&i.delegationSelector===n)}function sP(t,e,n){const i=typeof e=="string",r=i?n:e||n;let s=oP(t);return X3.has(s)||(s=t),[i,r,s]}function Pb(t,e,n,i,r){if(typeof e!="string"||!t)return;let[s,o,a]=sP(e,n,i);e in tP&&(o=(_=>function(v){if(!v.relatedTarget||v.relatedTarget!==v.delegateTarget&&!v.delegateTarget.contains(v.relatedTarget))return _.call(this,v)})(o));const l=iP(t),c=l[a]||(l[a]={}),h=rP(c,o,s?n:null);if(h){h.oneOff=h.oneOff&&r;return}const d=nP(o,e.replace(G3,"")),f=s?Z3(t,n,o):J3(t,o);f.delegationSelector=s?n:null,f.callable=o,f.oneOff=r,f.uidEvent=d,c[d]=f,t.addEventListener(a,f,s)}function Bm(t,e,n,i,r){const s=rP(e[n],i,r);s&&(t.removeEventListener(n,s,!!r),delete e[n][s.uidEvent])}function e9(t,e,n,i){const r=e[n]||{};for(const[s,o]of Object.entries(r))s.includes(i)&&Bm(t,e,n,o.callable,o.delegationSelector)}function oP(t){return t=t.replace(Y3,""),tP[t]||t}const j={on(t,e,n,i){Pb(t,e,n,i,!1)},one(t,e,n,i){Pb(t,e,n,i,!0)},off(t,e,n,i){if(typeof e!="string"||!t)return;const[r,s,o]=sP(e,n,i),a=o!==e,l=iP(t),c=l[o]||{},h=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(c).length)return;Bm(t,l,o,s,r?n:null);return}if(h)for(const d of Object.keys(l))e9(t,l,d,e.slice(1));for(const[d,f]of Object.entries(c)){const g=d.replace(Q3,"");(!a||e.includes(g))&&Bm(t,l,o,f.callable,f.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const i=Zk(),r=oP(e),s=e!==r;let o=null,a=!0,l=!0,c=!1;s&&i&&(o=i.Event(e,n),i(t).trigger(o),a=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),c=o.isDefaultPrevented());const h=Sv(new Event(e,{bubbles:a,cancelable:!0}),n);return c&&h.preventDefault(),l&&t.dispatchEvent(h),h.defaultPrevented&&o&&o.preventDefault(),h}};function Sv(t,e={}){for(const[n,i]of Object.entries(e))try{t[n]=i}catch{Object.defineProperty(t,n,{configurable:!0,get(){return i}})}return t}function Rb(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Zp(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const bi={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${Zp(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${Zp(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of n){let r=i.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=Rb(t.dataset[i])}return e},getDataAttribute(t,e){return Rb(t.getAttribute(`data-bs-${Zp(e)}`))}};class Gc{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const i=Ti(n)?bi.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof i=="object"?i:{},...Ti(n)?bi.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[i,r]of Object.entries(n)){const s=e[i],o=Ti(s)?"element":H3(s);if(!new RegExp(r).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${o}" but expected type "${r}".`)}}}const t9="5.3.3";class Mn extends Gc{constructor(e,n){super(),e=Rr(e),e&&(this._element=e,this._config=this._getConfig(n),Qp.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Qp.remove(this._element,this.constructor.DATA_KEY),j.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,i=!0){eP(e,n,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Qp.get(Rr(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return t9}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const eg=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e?e.split(",").map(n=>Qk(n)).join(","):null},Q={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let i=t.parentNode.closest(e);for(;i;)n.push(i),i=i.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!Nr(n)&&wa(n))},getSelectorFromElement(t){const e=eg(t);return e&&Q.findOne(e)?e:null},getElementFromSelector(t){const e=eg(t);return e?Q.findOne(e):null},getMultipleElementsFromSelector(t){const e=eg(t);return e?Q.find(e):[]}},Rf=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,i=t.NAME;j.on(document,n,`[data-bs-dismiss="${i}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),Nr(this))return;const s=Q.getElementFromSelector(this)||this.closest(`.${i}`);t.getOrCreateInstance(s)[e]()})},n9="alert",i9="bs.alert",aP=`.${i9}`,r9=`close${aP}`,s9=`closed${aP}`,o9="fade",a9="show";class Nf extends Mn{static get NAME(){return n9}close(){if(j.trigger(this._element,r9).defaultPrevented)return;this._element.classList.remove(a9);const n=this._element.classList.contains(o9);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),j.trigger(this._element,s9),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=Nf.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Rf(Nf,"close");Tn(Nf);const l9="button",c9="bs.button",u9=`.${c9}`,h9=".data-api",d9="active",Nb='[data-bs-toggle="button"]',f9=`click${u9}${h9}`;class Of extends Mn{static get NAME(){return l9}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(d9))}static jQueryInterface(e){return this.each(function(){const n=Of.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}j.on(document,f9,Nb,t=>{t.preventDefault();const e=t.target.closest(Nb);Of.getOrCreateInstance(e).toggle()});Tn(Of);const p9="swipe",Ta=".bs.swipe",g9=`touchstart${Ta}`,m9=`touchmove${Ta}`,_9=`touchend${Ta}`,y9=`pointerdown${Ta}`,v9=`pointerup${Ta}`,E9="touch",w9="pen",T9="pointer-event",b9=40,x9={endCallback:null,leftCallback:null,rightCallback:null},S9={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class jd extends Gc{constructor(e,n){super(),this._element=e,!(!e||!jd.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return x9}static get DefaultType(){return S9}static get NAME(){return p9}dispose(){j.off(this._element,Ta)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Ut(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=b9)return;const n=e/this._deltaX;this._deltaX=0,n&&Ut(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(j.on(this._element,y9,e=>this._start(e)),j.on(this._element,v9,e=>this._end(e)),this._element.classList.add(T9)):(j.on(this._element,g9,e=>this._start(e)),j.on(this._element,m9,e=>this._move(e)),j.on(this._element,_9,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===w9||e.pointerType===E9)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const I9="carousel",A9="bs.carousel",Ur=`.${A9}`,lP=".data-api",C9="ArrowLeft",k9="ArrowRight",P9=500,ol="next",Zs="prev",so="left",Nh="right",R9=`slide${Ur}`,tg=`slid${Ur}`,N9=`keydown${Ur}`,O9=`mouseenter${Ur}`,D9=`mouseleave${Ur}`,L9=`dragstart${Ur}`,M9=`load${Ur}${lP}`,V9=`click${Ur}${lP}`,cP="carousel",Zu="active",F9="slide",j9="carousel-item-end",U9="carousel-item-start",$9="carousel-item-next",B9="carousel-item-prev",uP=".active",hP=".carousel-item",z9=uP+hP,H9=".carousel-item img",W9=".carousel-indicators",K9="[data-bs-slide], [data-bs-slide-to]",q9='[data-bs-ride="carousel"]',G9={[C9]:Nh,[k9]:so},Y9={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Q9={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Yc extends Mn{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Q.findOne(W9,this._element),this._addEventListeners(),this._config.ride===cP&&this.cycle()}static get Default(){return Y9}static get DefaultType(){return Q9}static get NAME(){return I9}next(){this._slide(ol)}nextWhenVisible(){!document.hidden&&wa(this._element)&&this.next()}prev(){this._slide(Zs)}pause(){this._isSliding&&Xk(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){j.one(this._element,tg,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){j.one(this._element,tg,()=>this.to(e));return}const i=this._getItemIndex(this._getActive());if(i===e)return;const r=e>i?ol:Zs;this._slide(r,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&j.on(this._element,N9,e=>this._keydown(e)),this._config.pause==="hover"&&(j.on(this._element,O9,()=>this.pause()),j.on(this._element,D9,()=>this._maybeEnableCycle())),this._config.touch&&jd.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of Q.find(H9,this._element))j.on(i,L9,r=>r.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(so)),rightCallback:()=>this._slide(this._directionToOrder(Nh)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),P9+this._config.interval))}};this._swipeHelper=new jd(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=G9[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=Q.findOne(uP,this._indicatorsElement);n.classList.remove(Zu),n.removeAttribute("aria-current");const i=Q.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(Zu),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const i=this._getActive(),r=e===ol,s=n||xv(this._getItems(),i,r,this._config.wrap);if(s===i)return;const o=this._getItemIndex(s),a=g=>j.trigger(this._element,g,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:o});if(a(R9).defaultPrevented||!i||!s)return;const c=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=s;const h=r?U9:j9,d=r?$9:B9;s.classList.add(d),qc(s),i.classList.add(h),s.classList.add(h);const f=()=>{s.classList.remove(h,d),s.classList.add(Zu),i.classList.remove(Zu,d,h),this._isSliding=!1,a(tg)};this._queueCallback(f,i,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(F9)}_getActive(){return Q.findOne(z9,this._element)}_getItems(){return Q.find(hP,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return En()?e===so?Zs:ol:e===so?ol:Zs}_orderToDirection(e){return En()?e===Zs?so:Nh:e===Zs?Nh:so}static jQueryInterface(e){return this.each(function(){const n=Yc.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}j.on(document,V9,K9,function(t){const e=Q.getElementFromSelector(this);if(!e||!e.classList.contains(cP))return;t.preventDefault();const n=Yc.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");if(i){n.to(i),n._maybeEnableCycle();return}if(bi.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});j.on(window,M9,()=>{const t=Q.find(q9);for(const e of t)Yc.getOrCreateInstance(e)});Tn(Yc);const X9="collapse",J9="bs.collapse",Qc=`.${J9}`,Z9=".data-api",e6=`show${Qc}`,t6=`shown${Qc}`,n6=`hide${Qc}`,i6=`hidden${Qc}`,r6=`click${Qc}${Z9}`,ng="show",bo="collapse",eh="collapsing",s6="collapsed",o6=`:scope .${bo} .${bo}`,a6="collapse-horizontal",l6="width",c6="height",u6=".collapse.show, .collapse.collapsing",zm='[data-bs-toggle="collapse"]',h6={parent:null,toggle:!0},d6={parent:"(null|element)",toggle:"boolean"};class Sc extends Mn{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const i=Q.find(zm);for(const r of i){const s=Q.getSelectorFromElement(r),o=Q.find(s).filter(a=>a===this._element);s!==null&&o.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return h6}static get DefaultType(){return d6}static get NAME(){return X9}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(u6).filter(a=>a!==this._element).map(a=>Sc.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||j.trigger(this._element,e6).defaultPrevented)return;for(const a of e)a.hide();const i=this._getDimension();this._element.classList.remove(bo),this._element.classList.add(eh),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(eh),this._element.classList.add(bo,ng),this._element.style[i]="",j.trigger(this._element,t6)},o=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[i]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||j.trigger(this._element,n6).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,qc(this._element),this._element.classList.add(eh),this._element.classList.remove(bo,ng);for(const r of this._triggerArray){const s=Q.getElementFromSelector(r);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(eh),this._element.classList.add(bo),j.trigger(this._element,i6)};this._element.style[n]="",this._queueCallback(i,this._element,!0)}_isShown(e=this._element){return e.classList.contains(ng)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Rr(e.parent),e}_getDimension(){return this._element.classList.contains(a6)?l6:c6}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(zm);for(const n of e){const i=Q.getElementFromSelector(n);i&&this._addAriaAndCollapsedClass([n],this._isShown(i))}}_getFirstLevelChildren(e){const n=Q.find(o6,this._config.parent);return Q.find(e,this._config.parent).filter(i=>!n.includes(i))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const i of e)i.classList.toggle(s6,!n),i.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const i=Sc.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}j.on(document,r6,zm,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of Q.getMultipleElementsFromSelector(this))Sc.getOrCreateInstance(e,{toggle:!1}).toggle()});Tn(Sc);const Ob="dropdown",f6="bs.dropdown",Bs=`.${f6}`,Iv=".data-api",p6="Escape",Db="Tab",g6="ArrowUp",Lb="ArrowDown",m6=2,_6=`hide${Bs}`,y6=`hidden${Bs}`,v6=`show${Bs}`,E6=`shown${Bs}`,dP=`click${Bs}${Iv}`,fP=`keydown${Bs}${Iv}`,w6=`keyup${Bs}${Iv}`,oo="show",T6="dropup",b6="dropend",x6="dropstart",S6="dropup-center",I6="dropdown-center",ls='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',A6=`${ls}.${oo}`,Oh=".dropdown-menu",C6=".navbar",k6=".navbar-nav",P6=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",R6=En()?"top-end":"top-start",N6=En()?"top-start":"top-end",O6=En()?"bottom-end":"bottom-start",D6=En()?"bottom-start":"bottom-end",L6=En()?"left-start":"right-start",M6=En()?"right-start":"left-start",V6="top",F6="bottom",j6={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},U6={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ei extends Mn{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=Q.next(this._element,Oh)[0]||Q.prev(this._element,Oh)[0]||Q.findOne(Oh,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return j6}static get DefaultType(){return U6}static get NAME(){return Ob}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Nr(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!j.trigger(this._element,v6,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(k6))for(const i of[].concat(...document.body.children))j.on(i,"mouseover",Fd);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(oo),this._element.classList.add(oo),j.trigger(this._element,E6,e)}}hide(){if(Nr(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!j.trigger(this._element,_6,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))j.off(i,"mouseover",Fd);this._popper&&this._popper.destroy(),this._menu.classList.remove(oo),this._element.classList.remove(oo),this._element.setAttribute("aria-expanded","false"),bi.removeDataAttribute(this._menu,"popper"),j.trigger(this._element,y6,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Ti(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Ob.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Yk>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Ti(this._config.reference)?e=Rr(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=bv(e,this._menu,n)}_isShown(){return this._menu.classList.contains(oo)}_getPlacement(){const e=this._parent;if(e.classList.contains(b6))return L6;if(e.classList.contains(x6))return M6;if(e.classList.contains(S6))return V6;if(e.classList.contains(I6))return F6;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(T6)?n?N6:R6:n?D6:O6}_detectNavbar(){return this._element.closest(C6)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(bi.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Ut(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:n}){const i=Q.find(P6,this._menu).filter(r=>wa(r));i.length&&xv(i,n,e===Lb,!i.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=ei.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===m6||e.type==="keyup"&&e.key!==Db)return;const n=Q.find(A6);for(const i of n){const r=ei.getInstance(i);if(!r||r._config.autoClose===!1)continue;const s=e.composedPath(),o=s.includes(r._menu);if(s.includes(r._element)||r._config.autoClose==="inside"&&!o||r._config.autoClose==="outside"&&o||r._menu.contains(e.target)&&(e.type==="keyup"&&e.key===Db||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const a={relatedTarget:r._element};e.type==="click"&&(a.clickEvent=e),r._completeHide(a)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),i=e.key===p6,r=[g6,Lb].includes(e.key);if(!r&&!i||n&&!i)return;e.preventDefault();const s=this.matches(ls)?this:Q.prev(this,ls)[0]||Q.next(this,ls)[0]||Q.findOne(ls,e.delegateTarget.parentNode),o=ei.getOrCreateInstance(s);if(r){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),s.focus())}}j.on(document,fP,ls,ei.dataApiKeydownHandler);j.on(document,fP,Oh,ei.dataApiKeydownHandler);j.on(document,dP,ei.clearMenus);j.on(document,w6,ei.clearMenus);j.on(document,dP,ls,function(t){t.preventDefault(),ei.getOrCreateInstance(this).toggle()});Tn(ei);const pP="backdrop",$6="fade",Mb="show",Vb=`mousedown.bs.${pP}`,B6={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},z6={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class gP extends Gc{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return B6}static get DefaultType(){return z6}static get NAME(){return pP}show(e){if(!this._config.isVisible){Ut(e);return}this._append();const n=this._getElement();this._config.isAnimated&&qc(n),n.classList.add(Mb),this._emulateAnimation(()=>{Ut(e)})}hide(e){if(!this._config.isVisible){Ut(e);return}this._getElement().classList.remove(Mb),this._emulateAnimation(()=>{this.dispose(),Ut(e)})}dispose(){this._isAppended&&(j.off(this._element,Vb),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add($6),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Rr(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),j.on(e,Vb,()=>{Ut(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){eP(e,this._getElement(),this._config.isAnimated)}}const H6="focustrap",W6="bs.focustrap",Ud=`.${W6}`,K6=`focusin${Ud}`,q6=`keydown.tab${Ud}`,G6="Tab",Y6="forward",Fb="backward",Q6={autofocus:!0,trapElement:null},X6={autofocus:"boolean",trapElement:"element"};class mP extends Gc{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Q6}static get DefaultType(){return X6}static get NAME(){return H6}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),j.off(document,Ud),j.on(document,K6,e=>this._handleFocusin(e)),j.on(document,q6,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,j.off(document,Ud))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const i=Q.focusableChildren(n);i.length===0?n.focus():this._lastTabNavDirection===Fb?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){e.key===G6&&(this._lastTabNavDirection=e.shiftKey?Fb:Y6)}}const jb=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ub=".sticky-top",th="padding-right",$b="margin-right";class Hm{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,th,n=>n+e),this._setElementAttributes(jb,th,n=>n+e),this._setElementAttributes(Ub,$b,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,th),this._resetElementAttributes(jb,th),this._resetElementAttributes(Ub,$b)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,i){const r=this.getWidth(),s=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+r)return;this._saveInitialAttribute(o,n);const a=window.getComputedStyle(o).getPropertyValue(n);o.style.setProperty(n,`${i(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,s)}_saveInitialAttribute(e,n){const i=e.style.getPropertyValue(n);i&&bi.setDataAttribute(e,n,i)}_resetElementAttributes(e,n){const i=r=>{const s=bi.getDataAttribute(r,n);if(s===null){r.style.removeProperty(n);return}bi.removeDataAttribute(r,n),r.style.setProperty(n,s)};this._applyManipulationCallback(e,i)}_applyManipulationCallback(e,n){if(Ti(e)){n(e);return}for(const i of Q.find(e,this._element))n(i)}}const J6="modal",Z6="bs.modal",wn=`.${Z6}`,eH=".data-api",tH="Escape",nH=`hide${wn}`,iH=`hidePrevented${wn}`,_P=`hidden${wn}`,yP=`show${wn}`,rH=`shown${wn}`,sH=`resize${wn}`,oH=`click.dismiss${wn}`,aH=`mousedown.dismiss${wn}`,lH=`keydown.dismiss${wn}`,cH=`click${wn}${eH}`,Bb="modal-open",uH="fade",zb="show",ig="modal-static",hH=".modal.show",dH=".modal-dialog",fH=".modal-body",pH='[data-bs-toggle="modal"]',gH={backdrop:!0,focus:!0,keyboard:!0},mH={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ra extends Mn{constructor(e,n){super(e,n),this._dialog=Q.findOne(dH,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Hm,this._addEventListeners()}static get Default(){return gH}static get DefaultType(){return mH}static get NAME(){return J6}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||j.trigger(this._element,yP,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Bb),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||j.trigger(this._element,nH).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(zb),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){j.off(window,wn),j.off(this._dialog,wn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new gP({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new mP({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=Q.findOne(fH,this._dialog);n&&(n.scrollTop=0),qc(this._element),this._element.classList.add(zb);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,j.trigger(this._element,rH,{relatedTarget:e})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){j.on(this._element,lH,e=>{if(e.key===tH){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),j.on(window,sH,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),j.on(this._element,aH,e=>{j.one(this._element,oH,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Bb),this._resetAdjustments(),this._scrollBar.reset(),j.trigger(this._element,_P)})}_isAnimated(){return this._element.classList.contains(uH)}_triggerBackdropTransition(){if(j.trigger(this._element,iH).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(ig)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(ig),this._queueCallback(()=>{this._element.classList.remove(ig),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),i=n>0;if(i&&!e){const r=En()?"paddingLeft":"paddingRight";this._element.style[r]=`${n}px`}if(!i&&e){const r=En()?"paddingRight":"paddingLeft";this._element.style[r]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const i=ra.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](n)}})}}j.on(document,cH,pH,function(t){const e=Q.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),j.one(e,yP,r=>{r.defaultPrevented||j.one(e,_P,()=>{wa(this)&&this.focus()})});const n=Q.findOne(hH);n&&ra.getInstance(n).hide(),ra.getOrCreateInstance(e).toggle(this)});Rf(ra);Tn(ra);const _H="offcanvas",yH="bs.offcanvas",Fi=`.${yH}`,vP=".data-api",vH=`load${Fi}${vP}`,EH="Escape",Hb="show",Wb="showing",Kb="hiding",wH="offcanvas-backdrop",EP=".offcanvas.show",TH=`show${Fi}`,bH=`shown${Fi}`,xH=`hide${Fi}`,qb=`hidePrevented${Fi}`,wP=`hidden${Fi}`,SH=`resize${Fi}`,IH=`click${Fi}${vP}`,AH=`keydown.dismiss${Fi}`,CH='[data-bs-toggle="offcanvas"]',kH={backdrop:!0,keyboard:!0,scroll:!1},PH={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};let sa=class TP extends Mn{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return kH}static get DefaultType(){return PH}static get NAME(){return _H}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||j.trigger(this._element,TH,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Hm().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Wb);const i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Hb),this._element.classList.remove(Wb),j.trigger(this._element,bH,{relatedTarget:e})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||j.trigger(this._element,xH).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Kb),this._backdrop.hide();const n=()=>{this._element.classList.remove(Hb,Kb),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Hm().reset(),j.trigger(this._element,wP)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){j.trigger(this._element,qb);return}this.hide()},n=!!this._config.backdrop;return new gP({className:wH,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new mP({trapElement:this._element})}_addEventListeners(){j.on(this._element,AH,e=>{if(e.key===EH){if(this._config.keyboard){this.hide();return}j.trigger(this._element,qb)}})}static jQueryInterface(e){return this.each(function(){const n=TP.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}};j.on(document,IH,CH,function(t){const e=Q.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Nr(this))return;j.one(e,wP,()=>{wa(this)&&this.focus()});const n=Q.findOne(EP);n&&n!==e&&sa.getInstance(n).hide(),sa.getOrCreateInstance(e).toggle(this)});j.on(window,vH,()=>{for(const t of Q.find(EP))sa.getOrCreateInstance(t).show()});j.on(window,SH,()=>{for(const t of Q.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&sa.getOrCreateInstance(t).hide()});Rf(sa);Tn(sa);const RH=/^aria-[\w-]*$/i,bP={"*":["class","dir","id","lang","role",RH],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},NH=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),OH=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,DH=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?NH.has(n)?!!OH.test(t.nodeValue):!0:e.filter(i=>i instanceof RegExp).some(i=>i.test(n))};function LH(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const r=new window.DOMParser().parseFromString(t,"text/html"),s=[].concat(...r.body.querySelectorAll("*"));for(const o of s){const a=o.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){o.remove();continue}const l=[].concat(...o.attributes),c=[].concat(e["*"]||[],e[a]||[]);for(const h of l)DH(h,c)||o.removeAttribute(h.nodeName)}return r.body.innerHTML}const MH="TemplateFactory",VH={allowList:bP,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},FH={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},jH={entry:"(string|element|function|null)",selector:"(string|element)"};class UH extends Gc{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return VH}static get DefaultType(){return FH}static get NAME(){return MH}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[r,s]of Object.entries(this._config.content))this._setContent(e,s,r);const n=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&n.classList.add(...i.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,i]of Object.entries(e))super._typeCheckConfig({selector:n,entry:i},jH)}_setContent(e,n,i){const r=Q.findOne(i,e);if(r){if(n=this._resolvePossibleFunction(n),!n){r.remove();return}if(Ti(n)){this._putElementInTemplate(Rr(n),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(n);return}r.textContent=n}}_maybeSanitize(e){return this._config.sanitize?LH(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Ut(e,[this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const $H="tooltip",BH=new Set(["sanitize","allowList","sanitizeFn"]),rg="fade",zH="modal",nh="show",HH=".tooltip-inner",Gb=`.${zH}`,Yb="hide.bs.modal",al="hover",sg="focus",WH="click",KH="manual",qH="hide",GH="hidden",YH="show",QH="shown",XH="inserted",JH="click",ZH="focusin",eW="focusout",tW="mouseenter",nW="mouseleave",iW={AUTO:"auto",TOP:"top",RIGHT:En()?"left":"right",BOTTOM:"bottom",LEFT:En()?"right":"left"},rW={allowList:bP,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},sW={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ba extends Mn{constructor(e,n){if(typeof Yk>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return rW}static get DefaultType(){return sW}static get NAME(){return $H}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),j.off(this._element.closest(Gb),Yb,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=j.trigger(this._element,this.constructor.eventName(YH)),i=(Jk(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this._disposePopper();const r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(r),j.trigger(this._element,this.constructor.eventName(XH))),this._popper=this._createPopper(r),r.classList.add(nh),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))j.on(a,"mouseover",Fd);const o=()=>{j.trigger(this._element,this.constructor.eventName(QH)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||j.trigger(this._element,this.constructor.eventName(qH)).defaultPrevented)return;if(this._getTipElement().classList.remove(nh),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))j.off(r,"mouseover",Fd);this._activeTrigger[WH]=!1,this._activeTrigger[sg]=!1,this._activeTrigger[al]=!1,this._isHovered=null;const i=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),j.trigger(this._element,this.constructor.eventName(GH)))};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(rg,nh),n.classList.add(`bs-${this.constructor.NAME}-auto`);const i=W3(this.constructor.NAME).toString();return n.setAttribute("id",i),this._isAnimated()&&n.classList.add(rg),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new UH({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[HH]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(rg)}_isShown(){return this.tip&&this.tip.classList.contains(nh)}_createPopper(e){const n=Ut(this._config.placement,[this,e,this._element]),i=iW[n.toUpperCase()];return bv(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return Ut(e,[this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...n,...Ut(this._config.popperConfig,[n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")j.on(this._element,this.constructor.eventName(JH),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if(n!==KH){const i=n===al?this.constructor.eventName(tW):this.constructor.eventName(ZH),r=n===al?this.constructor.eventName(nW):this.constructor.eventName(eW);j.on(this._element,i,this._config.selector,s=>{const o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusin"?sg:al]=!0,o._enter()}),j.on(this._element,r,this._config.selector,s=>{const o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusout"?sg:al]=o._element.contains(s.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},j.on(this._element.closest(Gb),Yb,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=bi.getDataAttributes(this._element);for(const i of Object.keys(n))BH.has(i)&&delete n[i];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Rr(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,i]of Object.entries(this._config))this.constructor.Default[n]!==i&&(e[n]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=ba.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Tn(ba);const oW="popover",aW=".popover-header",lW=".popover-body",cW={...ba.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},uW={...ba.DefaultType,content:"(null|string|element|function)"};class Av extends ba{static get Default(){return cW}static get DefaultType(){return uW}static get NAME(){return oW}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[aW]:this._getTitle(),[lW]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=Av.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Tn(Av);const hW="scrollspy",dW="bs.scrollspy",Cv=`.${dW}`,fW=".data-api",pW=`activate${Cv}`,Qb=`click${Cv}`,gW=`load${Cv}${fW}`,mW="dropdown-item",eo="active",_W='[data-bs-spy="scroll"]',og="[href]",yW=".nav, .list-group",Xb=".nav-link",vW=".nav-item",EW=".list-group-item",wW=`${Xb}, ${vW} > ${Xb}, ${EW}`,TW=".dropdown",bW=".dropdown-toggle",xW={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},SW={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Df extends Mn{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return xW}static get DefaultType(){return SW}static get NAME(){return hW}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Rr(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(j.off(this._config.target,Qb),j.on(this._config.target,Qb,og,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const i=this._rootElement||window,r=n.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:r,behavior:"smooth"});return}i.scrollTop=r}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=o=>this._targetLinks.get(`#${o.target.id}`),i=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(n(o))},r=(this._rootElement||document.documentElement).scrollTop,s=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&a){if(i(o),!r)return;continue}!s&&!a&&i(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Q.find(og,this._config.target);for(const n of e){if(!n.hash||Nr(n))continue;const i=Q.findOne(decodeURI(n.hash),this._element);wa(i)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,i))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(eo),this._activateParents(e),j.trigger(this._element,pW,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(mW)){Q.findOne(bW,e.closest(TW)).classList.add(eo);return}for(const n of Q.parents(e,yW))for(const i of Q.prev(n,wW))i.classList.add(eo)}_clearActiveClass(e){e.classList.remove(eo);const n=Q.find(`${og}.${eo}`,e);for(const i of n)i.classList.remove(eo)}static jQueryInterface(e){return this.each(function(){const n=Df.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}j.on(window,gW,()=>{for(const t of Q.find(_W))Df.getOrCreateInstance(t)});Tn(Df);const IW="tab",AW="bs.tab",zs=`.${AW}`,CW=`hide${zs}`,kW=`hidden${zs}`,PW=`show${zs}`,RW=`shown${zs}`,NW=`click${zs}`,OW=`keydown${zs}`,DW=`load${zs}`,LW="ArrowLeft",Jb="ArrowRight",MW="ArrowUp",Zb="ArrowDown",ag="Home",ex="End",cs="active",tx="fade",lg="show",VW="dropdown",xP=".dropdown-toggle",FW=".dropdown-menu",cg=`:not(${xP})`,jW='.list-group, .nav, [role="tablist"]',UW=".nav-item, .list-group-item",$W=`.nav-link${cg}, .list-group-item${cg}, [role="tab"]${cg}`,SP='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ug=`${$W}, ${SP}`,BW=`.${cs}[data-bs-toggle="tab"], .${cs}[data-bs-toggle="pill"], .${cs}[data-bs-toggle="list"]`;class oa extends Mn{constructor(e){super(e),this._parent=this._element.closest(jW),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),j.on(this._element,OW,n=>this._keydown(n)))}static get NAME(){return IW}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),i=n?j.trigger(n,CW,{relatedTarget:e}):null;j.trigger(e,PW,{relatedTarget:n}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(cs),this._activate(Q.getElementFromSelector(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(lg);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),j.trigger(e,RW,{relatedTarget:n})};this._queueCallback(i,e,e.classList.contains(tx))}_deactivate(e,n){if(!e)return;e.classList.remove(cs),e.blur(),this._deactivate(Q.getElementFromSelector(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(lg);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),j.trigger(e,kW,{relatedTarget:n})};this._queueCallback(i,e,e.classList.contains(tx))}_keydown(e){if(![LW,Jb,MW,Zb,ag,ex].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=this._getChildren().filter(r=>!Nr(r));let i;if([ag,ex].includes(e.key))i=n[e.key===ag?0:n.length-1];else{const r=[Jb,Zb].includes(e.key);i=xv(n,e.target,r,!0)}i&&(i.focus({preventScroll:!0}),oa.getOrCreateInstance(i).show())}_getChildren(){return Q.find(ug,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const i of n)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",n),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=Q.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const i=this._getOuterElement(e);if(!i.classList.contains(VW))return;const r=(s,o)=>{const a=Q.findOne(s,i);a&&a.classList.toggle(o,n)};r(xP,cs),r(FW,lg),i.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,i){e.hasAttribute(n)||e.setAttribute(n,i)}_elemIsActive(e){return e.classList.contains(cs)}_getInnerElement(e){return e.matches(ug)?e:Q.findOne(ug,e)}_getOuterElement(e){return e.closest(UW)||e}static jQueryInterface(e){return this.each(function(){const n=oa.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}j.on(document,NW,SP,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!Nr(this)&&oa.getOrCreateInstance(this).show()});j.on(window,DW,()=>{for(const t of Q.find(BW))oa.getOrCreateInstance(t)});Tn(oa);const zW="toast",HW="bs.toast",$r=`.${HW}`,WW=`mouseover${$r}`,KW=`mouseout${$r}`,qW=`focusin${$r}`,GW=`focusout${$r}`,YW=`hide${$r}`,QW=`hidden${$r}`,XW=`show${$r}`,JW=`shown${$r}`,ZW="fade",nx="hide",ih="show",rh="showing",e8={animation:"boolean",autohide:"boolean",delay:"number"},t8={animation:!0,autohide:!0,delay:5e3};class Lf extends Mn{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return t8}static get DefaultType(){return e8}static get NAME(){return zW}show(){if(j.trigger(this._element,XW).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(ZW);const n=()=>{this._element.classList.remove(rh),j.trigger(this._element,JW),this._maybeScheduleHide()};this._element.classList.remove(nx),qc(this._element),this._element.classList.add(ih,rh),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||j.trigger(this._element,YW).defaultPrevented)return;const n=()=>{this._element.classList.add(nx),this._element.classList.remove(rh,ih),j.trigger(this._element,QW)};this._element.classList.add(rh),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ih),super.dispose()}isShown(){return this._element.classList.contains(ih)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){j.on(this._element,WW,e=>this._onInteraction(e,!0)),j.on(this._element,KW,e=>this._onInteraction(e,!1)),j.on(this._element,qW,e=>this._onInteraction(e,!0)),j.on(this._element,GW,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=Lf.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Rf(Lf);Tn(Lf);function n8(){const[t,e]=O.useState(!1),n=an(),i=()=>{e(!t)},r=o=>{e(!1),n(o)},s=async()=>{console.log("Log out");try{await ov.signOut(),localStorage.removeItem("user"),setUserData(null),n("/login")}catch(o){console.error(o.message)}};return T.jsxs("div",{className:"container",style:{marginBottom:"10px"},children:[T.jsx("button",{className:"btn btn-primary",onClick:i,children:T.jsx("i",{className:"bi bi-list"})}),T.jsxs("div",{className:`offcanvas offcanvas-start ${t?"show":""}`,tabIndex:"-1",id:"offcanvasScrolling","aria-labelledby":"offcanvasScrollingLabel",children:[T.jsxs("div",{className:"offcanvas-header",children:[T.jsx("h5",{className:"offcanvas-title",id:"offcanvasScrollingLabel",children:"Offcanvas Navigation"}),T.jsx("button",{type:"button",className:"btn-close",onClick:i})]}),T.jsxs("div",{className:"offcanvas-body",style:{display:"flex",flexDirection:"column",position:"relative"},children:[T.jsxs("a",{onClick:()=>r("/"),children:[T.jsx("i",{class:"bi bi-house navBar__icon",i:!0}),"Home"]}),T.jsxs("a",{onClick:()=>r("/expense"),children:[T.jsx("i",{className:"bi bi-cart-plus navBar__icon"}),"Expenses"]}),T.jsxs("a",{onClick:()=>r("/trips"),children:[T.jsx("i",{class:"bi bi-airplane navBar__icon"}),"Trip"]}),T.jsxs("a",{onClick:()=>r("/approvals"),children:[T.jsx("i",{class:"bi bi-clipboard-check navBar__icon"}),"Approvals"]}),T.jsxs("a",{onClick:()=>r("/settings"),children:[T.jsx("i",{class:"bi bi-gear navBar__icon"}),"Settings"]}),T.jsxs("a",{style:{position:"absolute",bottom:"0"},onClick:s,children:[T.jsx("i",{class:"bi bi-door-closed navBar__icon"}),"Log out"]})]})]})]})}function i8(){const[t,e]=O.useState(window.innerWidth<992),n=()=>{e(window.innerWidth<992)};return O.useEffect(()=>(window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)})),T.jsxs("div",{className:"container",children:[t&&T.jsx(n8,{}),T.jsxs("div",{style:{display:"flex"},children:[T.jsx(D5,{}),T.jsx(SI,{})]})]})}function r8(){function t(){const{user:e}=O.useContext(Vi);return e?T.jsx(SI,{}):T.jsx(gD,{to:"/login",replace:!0})}return T.jsx("div",{children:T.jsx(f$,{children:T.jsx(SD,{children:T.jsxs(_D,{children:[T.jsx(cn,{path:"/",element:T.jsx(t,{}),children:T.jsxs(cn,{path:"/",element:T.jsx(i8,{}),children:[T.jsx(cn,{index:!0,element:T.jsx(_A,{})}),T.jsx(cn,{path:"/newExpense",element:T.jsx(O5,{})}),T.jsx(cn,{path:"/expense",element:T.jsx(dC,{})}),T.jsx(cn,{path:"/trips",element:T.jsx(p$,{})}),T.jsx(cn,{path:"/newTrips",element:T.jsx(L5,{})}),T.jsx(cn,{path:"/approvals",element:T.jsx(e3,{})}),T.jsx(cn,{path:"/settings",element:T.jsx(t3,{})})]})}),T.jsx(cn,{path:"/login",element:T.jsx(Z5,{})}),T.jsx(cn,{path:"/signup",element:T.jsx(J5,{})})]})})})})}gI(document.getElementById("root")).render(T.jsx(O.StrictMode,{children:T.jsx(r8,{})}));
